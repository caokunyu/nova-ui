(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,s){"use strict";const a=Array.prototype.slice,i=Object.prototype.toString,n=(Object.prototype.hasOwnProperty,e=>"string"==typeof e),l=e=>null!==e&&"object"==typeof e,r=e=>l(e)&&"[object Object]"===i.call(e),c=Array.isArray,o=e=>"function"==typeof e,u=e=>"boolean"==typeof e,d=e=>!isNaN(e)&&"number"==typeof e,p=e=>l(e)&&1===e.nodeType&&!r(e),h=e=>a.call(e);function b(){let e=arguments[0]||{},t=0,s=!1,a=arguments.length;for(u(e)&&(s=e,e=arguments[1]||{},t=1),l(e)||o(e)||(e={});t++<a;){let a=arguments[t];if(a)for(let t in a){let i=e[t],n=a[t];if(n===e)continue;let l=c(n);if(s&&(l||r(n))){let a;a=l?i&&c(i)?i:[]:i&&r(i)?i:{},e[t]=b(s,a,n)}else void 0!==n&&(e[t]=n)}}return e}const m=(e,t)=>{let s;switch(e=`[NOVA.UI.ERROR] ${e.toString()}`,t){case"type":s=TypeError;break;case"range":s=RangeError;break;default:s=Error}throw new s(e)};var f=class{constructor(){this._events=Object.create(null)}on(e,t,s){if(!e||!o(t))return this;const a=this._events[e]||(this._events[e]=[]),i=Object.create(null);return i.id=a.length,i.handle=t,i.context=s,a.push(i),this}off(e,t,s){if(!e||!this._events[e])return this;if(t&&o(t)){let a=this._events[e];a.forEach(e=>{!e||t!==(e.handle||e.handle._handle)||s&&e.context!==s||delete a[e.id]}),a.length||delete this._events[e]}else null===t&&delete this._events[e];return this}one(e,t,s){if(!e||!o(t))return this;const a=this,i=function(){return a.off(e,i,s),t.apply(s||a,arguments)};return i._handle=t,this.on(e,i,s),this}emit(e,...t){if(!e||!this._events[e])return this;let s=this._events[e].length,a=-1;for(;++a<s;){let s=this._events[e][a];s.handle.apply(s.context||this,t)}return this}destroy(){this._events=null}};const v=(e,t)=>{let s=0;if(e&&e>0)e=+e,isNaN(e)||(s=e);else if(t){const e=t.toString(),a=e.indexOf(".");-1!==a&&(s=e.length-a-1)}return s},$=e=>{let{min:t,max:s,step:a}=e;if(t=parseFloat(t,10),s=parseFloat(s,10),a=parseFloat(a,10),t=isNaN(t)?-1/0:t,s=isNaN(s)?1/0:s,a=isNaN(a)?1:a,t>s){let e=s;s=t,t=e}return e.min=t,e.max=s,e.step=a,e.precision=v(e.precision,a),e};const g=/<%=([\s\S]+?)%>/g,y=/<%([\s\S]+?)%>/g;var _=(e,t)=>{if(!e||!~e.indexOf("<%"))return e;let s="var __p=[];with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(g,(e,t)=>"',"+t.replace(/\\'/,"'")+",'").replace(y,(e,t)=>"');"+t.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");';try{return new Function("obj",s).call(null,t||Object.create(null))}catch(t){return e}};const w={id:/^#([\w-]+)$/,className:/^\.([\w-]+)$/,tagName:/^[\w-]+$/},N=(e,t,s)=>e.addEventListener(t,s,!1),x=(e,t,s)=>e.removeEventListener(t,s,!1),E=(e,t)=>{if(t=t||document,n(e)){let s;return e=e.trim(),(s=w.id.test(e)?(s=document.getElementById(RegExp.$1))?[s]:[]:w.className.test(e)?t.getElementsByClassName(RegExp.$1):w.tagName.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))?h(s):[]}return[]},O=(e,t)=>{let s=[];t&&(n(t)?s=t.split(/,|\s+/):c(t)&&(s=t)),s.forEach(t=>n(t)&&t.trim()&&e.classList.add(t.trim()))};const j='\n<input type="text" class="nv-input" placeholder="<%= placeholder%>" name="<%= name%>" role="spinbutton" autocomplete="off" aria-valuemin="<%= min%>" aria-valuemax="<%= max%>" aria-valuenow="" aria-disabled="<%= disabled%>"<% if (!editable) {%> readonly<% }%><% if (disabled) {%> disabled<% }%>/>\n<a class="nv-input-number__increase" role="button" aria-label="Increase Value" aria-disabled="<%=disabled%>"></a>\n<a class="nv-input-number__decrease" role="button" aria-label="Decrease Value" aria-disabled="<%=disabled%>"></a>\n';const A={input:".nv-input",increase:".nv-input-number__increase",decrease:".nv-input-number__decrease"},V={value:null,min:-1/0,max:1/0,step:1,precision:null,disabled:!1,editable:!0,placeholder:null,name:null,customClass:null,formatter:null};function k(){const{states:e,props:t}=this;if(e.$el)return;const s=document.createElement("label");s.className="nv-input-number",O(s,t.customClass),s.innerHTML=_(j,{name:t.name,disabled:t.disabled,editable:t.editable,min:t.min,max:t.max,placeholder:t.placeholder}),e.$container.appendChild(s),e.$el=s,e.$input=E(A.input,s)[0],e.$increase=E(A.increase,s)[0],e.$decrease=E(A.decrease,s)[0],function(){const{states:e}=this,t=e.handles;t.increase=this.increase.bind(this),t.decrease=this.decrease.bind(this),t.inputChange=function(e){if(this.props.disabled)return;this.setValue(e.target.value)}.bind(this),t.inputKeydown=function(e){let t=e.keyCode;38===t||39===t?this.increase():37!==t&&40!==t||this.decrease()}.bind(this),N(e.$increase,"click",t.increase),N(e.$decrease,"click",t.decrease),N(e.$input,"change",t.inputChange),N(e.$input,"keydown",t.inputKeydown)}.call(this)}function C(e){const{props:t,states:s}=this,{step:a,precision:i}=t,{value:n}=s;if(!d(e)&&void 0!==e)return n;const l=Math.pow(10,i);return R((l*e+l*a)/l,i)}function F(e){const{props:t,states:s}=this,{step:a,precision:i}=t,{value:n}=s;if(!d(e)&&void 0!==e)return n;const l=Math.pow(10,i);return R((l*e-l*a)/l,i)}function L(){let{states:e,props:t}=this,{min:s,max:a}=t,i=e.value||0,n=t.disabled||F.call(this,i||0)<s,l=t.disabled||C.call(this,i||0)>a,r=n?"add":"remove",c=l?"add":"remove";e.$decrease.classList[r]("nv-disabled"),e.$increase.classList[c]("nv-disabled"),e.$increase.setAttribute("aria-disabled",l),e.$decrease.setAttribute("aria-disabled",n)}function R(e,t){return parseFloat(parseFloat(Number(e).toFixed(t)))}class S extends f{constructor(e,t){if(super(),!(this instanceof S))return new S(e,t);p(e)||m("'container' 必须是一个DOM容器","type"),this.states=Object.create(null),this.states.$container=e,this.states.handles=Object.create(null),this.initialize(t)}initialize(e){this.props=$(b({},V,e||{}));const{states:t}=this;k.call(this),t.value="",t.oldValue="",this.setValue(this.props.value)}setValue(e){const{props:t,states:s}=this;let{oldValue:a}=s;const{precision:i,min:n,max:l}=t;e=parseFloat(e,10),isNaN(e)&&(e=a),""!==e&&((e=R(e,i))>=l&&(e=l),e<=n&&(e=n));let r=t.formatter&&t.formatter(e);s.$input.value=r||e,a!==e&&(s.value=e,s.oldValue=e,this.emit("change",e,a)),s.$input.setAttribute("aria-valuenow",r||e),L.call(this)}getValue(){return this.states.value}increase(){const{states:e,props:t}=this;let s=C.call(this,e.value||0);t.disable||s>t.max||this.setValue(s)}decrease(){const{states:e,props:t}=this;let s=F.call(this,e.value||0);t.disable||s<t.min||this.setValue(s)}disable(){this.props.disabled=!0;const{states:e}=this;e.$el.classList.add("nv-disabled"),e.$input.setAttribute("disabled",!0),e.$input.setAttribute("aria-disabled",!0),L.call(this)}enable(){this.props.disabled=!1;const{states:e}=this;e.$el.classList.remove("nv-disabled"),e.$input.removeAttribute("disabled"),e.$input.setAttribute("aria-disabled",!1),L.call(this)}destroy(){(function(){const{states:e}=this,t=e.handles;x(e.$increase,"click",t.increase),x(e.$decrease,"click",t.decrease),x(e.$input,"change",t.inputChange),x(e.$input,"keydown",t.inputKeydown)}).call(this),this.states.$el&&this.states.$el.parentNode&&this.states.$el.parentNode.removeChild(this.states.$el),this.states=null,this._events=null}}t.a=S},2:function(e,t,s){}}]);
//# sourceMappingURL=nova.ui.js.map