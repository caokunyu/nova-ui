{"version":3,"sources":["webpack:///./src/components/color-picker/colorjoe.min.js","webpack:///./src/components/color-picker/index.js","webpack:///./src/components/color-picker/template.js","webpack:///./src/components/input-number/index.js","webpack:///./src/components/input-number/template.js","webpack:///./src/components/input-number/utils.js","webpack:///./src/components/message-box/index.js","webpack:///./src/components/message-box/template.js","webpack:///./src/components/message/index.js","webpack:///./src/components/message/template.js","webpack:///./src/components/modal/index.js","webpack:///./src/components/modal/template.js","webpack:///./src/components/pagination/index.js","webpack:///./src/components/pagination/template.js","webpack:///./src/components/picker/index.js","webpack:///./src/components/picker/placements.js","webpack:///./src/components/picker/template.js","webpack:///./src/components/popover/index.js","webpack:///./src/components/popover/template.js","webpack:///./src/components/select/index.js","webpack:///./src/components/select/template.js","webpack:///./src/components/slider/index.js","webpack:///./src/components/slider/template.js","webpack:///./src/components/tree/index.js","webpack:///./src/components/tree/node.js","webpack:///./src/components/tree/template.js","webpack:///./src/index.js","webpack:///./src/locale/index.js","webpack:///./src/locale/lang/zh-CN.js","webpack:///./src/scss/index.scss","webpack:///./src/utils/constant.js","webpack:///./src/utils/debounce.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/events.js","webpack:///./src/utils/i18n.js","webpack:///./src/utils/popup.js","webpack:///./src/utils/template.js","webpack:///./src/utils/utils.js"],"names":["e","n","exports","module","define","window","global","self","p","r","t","console","warn","xyslider","i","class","parent","a","cbs","background","pointer","slider","document","createElement","className","appendChild","o","u","s","begin","change","end","x","elem","offsetLeft","y","offsetTop","cursor","d","l","f","c","Array","prototype","slice","apply","arguments","concat","g","h","Object","defineProperty","get","addEventListener","removeEventListener","passive","style","preventDefault","getBoundingClientRect","left","top","clientWidth","clientHeight","touches","length","clientX","clientY","isNaN","isArray","RGB","toLowerCase","namedColors","match","toUpperCase","parseFloat","Error","replace","parseInt","CMYK","RegExp","source","isColor","installColorSpace","rgb","propertyNames","forEach","charAt","hasOwnProperty","_alpha","join","_hue","Math","floor","hex","equals","abs","toJSON","map","toString","constructor","push","pluginList","use","indexOf","installMethod","round","_red","_green","_blue","substr","hexa","css","cssa","fromRgb","pow","XYZ","_x","_y","_z","lab","LAB","_saturation","_value","min","hsl","HSL","max","HSV","hsv","_lightness","xyz","_l","_a","_b","_cyan","_black","_magenta","_yellow","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","alpha","lightness","saturation","hue","b","v","clamp","div","partial","labelInput","random","label","innerHTML","setAttribute","input","type","maxLength","X","Y","BG","currentColor","fields","space","limit","fix","split","onblur","onkeydown","onkeyup","name","done","ctrlKey","altKey","test","key","value","getAlpha","set","toFixed","keyCode","which","target","setAlpha","close","href","onclick","hide","init","xy","z","filter","getElementById","m","color","_","fn","update","display","show","on","removeAllListeners","extras","registerExtra","call","colorjoe","require","UI_NAME","defaults","inline","lumps","Selectors","panel","render","props","states","$el","template","skeletonTpl","$lumps","qsa","$panel","$target","initColorPanel","initColorLumps","joeIns","html","lumpTpl","ColorPicker","options","isElement","throwError","mixins","create","Events","increase","decrease","Infinity","step","precision","disabled","editable","placeholder","width","size","customClass","formatter","addClass","isNumberString","$container","$input","$increase","$decrease","bindEvents","handleInputChange","setValue","handleInputKeydown","code","handles","bind","inputChange","inputKeydown","unbindEvents","unbind","val","isNumber","precisionFactor","toPrecision","toggleBtnDisabled","minDisabled","maxDisabled","minMethod","maxMethod","classList","Number","InputNumber","container","initialize","correctProps","oldValue","newValue","valueStr","formatValue","emit","disable","add","remove","removeAttribute","removeNode","_events","getPrecision","stepStr","dotPosition","noop","message","describe","title","asHtml","showIcon","icon","confirmButtonText","cancelButtonText","confirmButtonCss","cancelButtonCss","confirm","cancel","closeBtn","backdrop","backdropBackground","escClose","scrollLock","instances","genMessageBox","btns","$message","$describe","textContent","instance","Modal","content","open","index","splice","destroy","genCallback","handle","_handle","isFunction","MessageBox","text","ins","Function","TYPES","duration","closeable","onClose","customDefault","customConfig","$wrap","body","zIndex","Popup","nextZIndex","$alert","$content","$close","handleClose","timer","setTimeout","id","uuid","parentNode","removeChild","clearTimeout","GenerateMessageInstance","config","isPlainObject","Message","NUMBER_REG","dialog","footSlot","visible","appendTo","backdropClose","createBtn","btn","__handle","$btns","$dialog","$title","$closeBtn","$body","$footSlot","$btnsWrap","$btn","isNativeBtn","closeBtnClick","wrapClick","event","contains","closeHandle","VISIBLE_MIN","VISIBLE_MAX","LAYOUTS","LAYOUT_TPL_MAP","total","totalTpl","prev","prevTpl","pager","pagerTpl","next","nextTpl","sizes","sizesTpl","jumper","jumperTpl","pagers","jumperInput","lang","ellipsis","layout","prevText","nextText","layouts","isEmpty","_layouts","item","trim","element","hasKey","tpl","i18n","locale","$total","$prev","$next","$pagers","$sizes","$jumper","$jumperInput","getLimitOptions","limitSelectIns","Select","selectClass","setLimit","updateDom","renderPagers","data","getPagers","pagerItemsTpl","pagerClick","proxy","getAttribute","setIndex","prevClick","nextClick","pages","jumperChange","genPager","active","first","last","isDisabledPrev","isDisabledNext","_offset","offset","start","prevEllipsis","nextEllipsis","updateStates","isUpdate","k","ceil","updateSizes","newSizes","sort","isDisabled","CLASS_STATUS_DISABLED","Pagination","locales","Locales","oldIndex","oldLimit","setOptions","arrow","trigger","placement","margin","showArrow","autoCorrect","closeType","handleToggle","$picker","handleDocumentClick","setPosition","getPlacement","cssText","handleMouseenter","hoverTimer","handleMouseleave","handlePickerMouseenter","targetClick","documentClick","resize","targetMouseenter","mouseleave","pickerMouseenter","$scrollParent","pickerClick","Picker","getScrollParent","visibility","PLACEMENTS","picker","auto","tarRect","getOffset","offsetWidth","height","offsetHeight","tT","tL","tW","tH","CW","innerWidth","CH","innerHeight","rect","rectBottom","rectRight","aboveOverflow","belowOverflow","leftOverflow","rightOverflow","popoverDefaults","showConfirm","showCancel","confirmText","cancelText","confirmCss","cancelCss","onConfirm","onCancel","PickerDefaults","genBtn","getSize","$confirm","$cancel","initPickerInstance","pickerInstance","pickerOpened","Popover","UI_PICKER_NAME","INPUT_SIZE","ATTRIBUTE_GROUP","ATTRIBUTE_INDEX","clean","search","optionsWrap","option","openClass","valueKey","multiple","multipleValueTpl","groupable","clearable","searchable","loadByAsync","searchByAsync","inputSize","pickerClass","loadingText","noDataText","noMatchDataText","isInput","$select","inputSizeClassName","insertAfter","$clean","$selectPicker","pickerSkeletonTpl","searchPlaceholder","$optionsWrap","initPicker","minWidth","$options","$option","idx","CLASS_STATES_ACTIVED","CLASS_STATES_HOVER","keydownIndex","scrollTo","keyword","renderOptions","focus","items","optionGroupsTpl","optionsTpl","groupId","isString","toggleOptionsActived","updatePlacement","renderLoading","thisValue","group","currentValue","handleSelectFocus","focusTimer","focusin","CLASS_STATES_FOCUS","handleSelectBlur","handleCleanClick","stopPropagation","toggleOptionSelectedByKeydown","toggleSelectedOptionByEnter","getIndex","len","getOffsetByParent","findIndex","optionClick","groupIndex","selectedIndex","selectFocus","selectBlur","selectClick","cleanClick","searchOption","debounce","searchOptions","filterOptions","reg","escapeRegExp","child","findOptionByValue","nodeName","isChange","selectedOptions","isPrimitive","selectedLen","hasValue","enable","runway","progress","thumb","tooltip","NATIVE_PROPERTIES","vertical","tipFormatter","$runway","$progress","$thumb","$tooltip","dragStart","handleDragStart","dragMove","handleDragMove","dragEnd","handleDragEnd","runwayClick","handleRunwayClick","keydown","handleKeydown","getEvent","getValueByEvent","pos","getValueByOffset","segmentation","dragging","updateRect","updatePosition","percentage","Slider","nativeProperties","property","isChanged","tipValue","CLASS_EXPANDED","CLASS_SELECTED","labelRender","indent","checkable","radio","checkName","checkStrictly","expandAll","highlight","nodeFilter","defaultCheckedKeys","defaultExpandedKeys","node","check","children","inner","noMatch","deepToNode","expanded","checked","Node","insertChild","nodesToMap","nodes","renderItems","callback","findNodeDomById","$nodes","String","some","$node","toggleAllChildrenChecked","querySelector","toggleAllChecked","isChecked","filterNode","visibleCount","allHidden","isInit","chooseType","treeId","noDataTpl","nodeClick","closest","$parent","nodesMap","onCheckChange","Tree","setNodesTree","arrayToNodes","objectToTree","object","JSON","parse","stringify","count","noMatchDataTpl","getNode","deep","useDisabled","isRadio","finder","STATES","findChild","updateChildenLevel","level","getChildIndex","currentIndex","args","Nova","$Utils","Utils","$Events","$Dom","Dom","routeChangeDestory","freeze","zhCN","datePicker","weeks","months","shortMonths","year","pagination","unit","eachPage","modal","func","wait","immediate","timeout","_later","context","_debounce","toArray","callNow","SELECTOR_REGS","tagName","el","once","listener","selector","dom","$1","getElementsByClassName","getElementsByTagName","querySelectorAll","matched","win","ownerDocument","defaultView","pageYOffset","pageXOffset","getStyle","styles","getComputedStyle","lastChild","insertBefore","nextSibling","getScrollbarWidth","hasScroll","scrollHeight","scrollDiv","overflow","to","requestAnimationFrame","requestAnimationFrameTimeout","scrollTop","difference","perTick","offsetParent","overflowX","overflowY","off","I18N_VALUE_REG","I18N_KEY_REG","string","getObjectValue","isBackdropShow","isScrollLocked","getBackdrop","getTopInstance","keydownHandle","topInstance","MAX_SAFE_INTEGER","backgroundColor","_sbWidth","marginRight","pop","hasbackdrop","hasLocked","VARIABLE_REG","SYNTAX_REG","error","SLICE","TOSTRING","HASOWN","PRIMITIVE_VALUES","isObject","isBoolean","isInteger","isFloat","nodeType","isDate","getTime","arrayLike","src","copy","_isArray","clone","objectClone","hyphenateRE","hyphenate","str","path","paths","shift","uid","method","TypeError","RangeError"],"mappings":"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","file":"assets/js/nova.ui.js","sourcesContent":["/*! colorjoe - v4.1.0 - Juho Vepsalainen <bebraw@gmail.com> - MIT\nhttps://bebraw.github.com/colorjoe - 2018-07-03 */\n!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):e.colorjoe=n()}(this,function(){\"use strict\";\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self&&self;function e(e,n){return e(n={exports:{}},n.exports),n.exports}var p=e(function(e,n){e.exports=function(){function r(e,n){e?(t(e,n,\"touchstart\",\"touchmove\",\"touchend\"),t(e,n,\"mousedown\",\"mousemove\",\"mouseup\")):console.warn(\"drag is missing elem!\")}return r.xyslider=function(e){var n=i(e.class||\"\",e.parent),t=i(\"pointer\",n);return i(\"shape shape1\",t),i(\"shape shape2\",t),i(\"bg bg1\",n),i(\"bg bg2\",n),r(n,a(e.cbs,t)),{background:n,pointer:t}},r.slider=function(e){var n=i(e.class,e.parent),t=i(\"pointer\",n);return i(\"shape\",t),i(\"bg\",n),r(n,a(e.cbs,t)),{background:n,pointer:t}},r;function a(e,t){var n={};for(var r in e)n[r]=a(e[r]);function a(n){return function(e){e.pointer=t,n(e)}}return n}function i(e,n){return t=\"div\",r=e,a=n,i=document.createElement(t),r&&(i.className=r),a.appendChild(i),i;var t,r,a,i}function t(r,e,n,a,i){var t,o,u,s=(e=(t=e)?{begin:t.begin||p,change:t.change||p,end:t.end||p}:{begin:function(e){o={x:e.elem.offsetLeft,y:e.elem.offsetTop},u=e.cursor},change:function(e){d(e.elem,\"left\",o.x+e.cursor.x-u.x+\"px\"),d(e.elem,\"top\",o.y+e.cursor.y-u.y+\"px\")},end:p}).begin,l=e.change,f=e.end;c(r,n,function(n){var t=function(e){var n=Array.prototype.slice,t=n.apply(arguments,[1]);return function(){return e.apply(null,t.concat(n.apply(arguments)))}}(g,l,r);c(document,a,t),c(document,i,function e(){h(document,a,t),h(document,i,e),g(f,r,n)}),g(s,r,n)})}function c(e,n,t){var r=!1;try{var a=Object.defineProperty({},\"passive\",{get:function(){r=!0}});window.addEventListener(\"testPassive\",null,a),window.removeEventListener(\"testPassive\",null,a)}catch(e){}e.addEventListener(n,t,!!r&&{passive:!1})}function h(e,n,t){e.removeEventListener(n,t,!1)}function d(e,n,t){e.style[n]=t}function p(){}function g(e,n,t){t.preventDefault();var r,a,i,o={x:(r=n.getBoundingClientRect()).left,y:r.top},u=n.clientWidth,s=n.clientHeight,l={x:(i=t,(i.touches?i.touches[i.touches.length-1]:i).clientX),y:(a=t,(a.touches?a.touches[a.touches.length-1]:a).clientY)},f=(l.x-o.x)/u,c=(l.y-o.y)/s;e({x:isNaN(f)?0:f,y:isNaN(c)?0:c,cursor:l,elem:n,e:t})}}()}),a=e(function(e,n){e.exports=function(){function c(e){if(Array.isArray(e)){if(\"string\"==typeof e[0]&&\"function\"==typeof c[e[0]])return new c[e[0]](e.slice(1,e.length));if(4===e.length)return new c.RGB(e[0]/255,e[1]/255,e[2]/255,e[3]/255)}else if(\"string\"==typeof e){var n=e.toLowerCase();c.namedColors[n]&&(e=\"#\"+c.namedColors[n]),\"transparent\"===n&&(e=\"rgba(0,0,0,0)\");var t=e.match(p);if(t){var r=t[1].toUpperCase(),a=h(t[8])?t[8]:parseFloat(t[8]),i=\"H\"===r[0],o=t[3]?100:i?360:255,u=t[5]||i?100:255,s=t[7]||i?100:255;if(h(c[r]))throw new Error(\"color.\"+r+\" is not installed.\");return new c[r](parseFloat(t[2])/o,parseFloat(t[4])/u,parseFloat(t[6])/s,a)}e.length<6&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,\"$1$1$2$2$3$3\"));var l=e.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(l)return new c.RGB(parseInt(l[1],16)/255,parseInt(l[2],16)/255,parseInt(l[3],16)/255);if(c.CMYK){var f=e.match(new RegExp(\"^cmyk\\\\(\"+d.source+\",\"+d.source+\",\"+d.source+\",\"+d.source+\"\\\\)$\",\"i\"));if(f)return new c.CMYK(parseFloat(f[1])/100,parseFloat(f[2])/100,parseFloat(f[3])/100,parseFloat(f[4])/100)}}else if(\"object\"==typeof e&&e.isColor)return e;return!1}var u=[],h=function(e){return void 0===e},e=/\\s*(\\.\\d+|\\d+(?:\\.\\d+)?)(%)?\\s*/,d=/\\s*(\\.\\d+|100|\\d?\\d(?:\\.\\d+)?)%\\s*/,p=new RegExp(\"^(rgb|hsl|hsv)a?\\\\(\"+e.source+\",\"+e.source+\",\"+e.source+\"(?:,\"+/\\s*(\\.\\d+|\\d+(?:\\.\\d+)?)\\s*/.source+\")?\\\\)$\",\"i\");c.namedColors={},c.installColorSpace=function(a,i,e){function n(e,r){var n={};for(var t in n[r.toLowerCase()]=function(){return this.rgb()[r.toLowerCase()]()},c[r].propertyNames.forEach(function(t){var e=\"black\"===t?\"k\":t.charAt(0);n[t]=n[e]=function(e,n){return this[r.toLowerCase()]()[t](e,n)}}),n)n.hasOwnProperty(t)&&void 0===c[e].prototype[t]&&(c[e].prototype[t]=n[t])}(c[a]=function(e){var r=Array.isArray(e)?e:arguments;i.forEach(function(e,n){var t=r[n];if(\"alpha\"===e)this._alpha=isNaN(t)||1<t?1:t<0?0:t;else{if(isNaN(t))throw new Error(\"[\"+a+\"]: Invalid color: (\"+i.join(\",\")+\")\");\"hue\"===e?this._hue=t<0?t-Math.floor(t):t%1:this[\"_\"+e]=t<0?0:1<t?1:t}},this)}).propertyNames=i;var r=c[a].prototype;for(var t in[\"valueOf\",\"hex\",\"hexa\",\"css\",\"cssa\"].forEach(function(e){r[e]=r[e]||(\"RGB\"===a?r.hex:function(){return this.rgb()[e]()})}),r.isColor=!0,r.equals=function(e,n){h(n)&&(n=1e-10),e=e[a.toLowerCase()]();for(var t=0;t<i.length;t+=1)if(Math.abs(this[\"_\"+i[t]]-e[\"_\"+i[t]])>n)return!1;return!0},r.toJSON=function(){return[a].concat(i.map(function(e){return this[\"_\"+e]},this))},e)if(e.hasOwnProperty(t)){var o=t.match(/^from(.*)$/);o?c[o[1].toUpperCase()].prototype[a.toLowerCase()]=e[t]:r[t]=e[t]}return r[a.toLowerCase()]=function(){return this},r.toString=function(){return\"[\"+a+\" \"+i.map(function(e){return this[\"_\"+e]},this).join(\", \")+\"]\"},i.forEach(function(t){var e=\"black\"===t?\"k\":t.charAt(0);r[t]=r[e]=function(n,e){return void 0===n?this[\"_\"+t]:e?new this.constructor(i.map(function(e){return this[\"_\"+e]+(t===e?n:0)},this)):new this.constructor(i.map(function(e){return t===e?n:this[\"_\"+e]},this))}}),u.forEach(function(e){n(a,e),n(e,a)}),u.push(a),c},c.pluginList=[],c.use=function(e){return-1===c.pluginList.indexOf(e)&&(this.pluginList.push(e),e(c)),c},c.installMethod=function(n,t){return u.forEach(function(e){c[e].prototype[n]=t}),this},c.installColorSpace(\"RGB\",[\"red\",\"green\",\"blue\",\"alpha\"],{hex:function(){var e=(65536*Math.round(255*this._red)+256*Math.round(255*this._green)+Math.round(255*this._blue)).toString(16);return\"#\"+\"00000\".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this._alpha).toString(16);return\"#\"+\"00\".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return\"rgb(\"+Math.round(255*this._red)+\",\"+Math.round(255*this._green)+\",\"+Math.round(255*this._blue)+\")\"},cssa:function(){return\"rgba(\"+Math.round(255*this._red)+\",\"+Math.round(255*this._green)+\",\"+Math.round(255*this._blue)+\",\"+this._alpha+\")\"}});var n=function(a){a.installColorSpace(\"XYZ\",[\"x\",\"y\",\"z\",\"alpha\"],{fromRgb:function(){var e=function(e){return.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92},n=e(this._red),t=e(this._green),r=e(this._blue);return new a.XYZ(.4124564*n+.3575761*t+.1804375*r,.2126729*n+.7151522*t+.072175*r,.0193339*n+.119192*t+.9503041*r,this._alpha)},rgb:function(){var e=this._x,n=this._y,t=this._z,r=function(e){return.0031308<e?1.055*Math.pow(e,1/2.4)-.055:12.92*e};return new a.RGB(r(3.2404542*e+-1.5371385*n+-.4985314*t),r(-.969266*e+1.8760108*n+.041556*t),r(.0556434*e+-.2040259*n+1.0572252*t),this._alpha)},lab:function(){var e=function(e){return.008856<e?Math.pow(e,1/3):7.787037*e+4/29},n=e(this._x/95.047),t=e(this._y/100),r=e(this._z/108.883);return new a.LAB(116*t-16,500*(n-t),200*(t-r),this._alpha)}})},t=function(c){c.installColorSpace(\"HSV\",[\"hue\",\"saturation\",\"value\",\"alpha\"],{rgb:function(){var e,n,t,r=this._hue,a=this._saturation,i=this._value,o=Math.min(5,Math.floor(6*r)),u=6*r-o,s=i*(1-a),l=i*(1-u*a),f=i*(1-(1-u)*a);switch(o){case 0:e=i,n=f,t=s;break;case 1:e=l,n=i,t=s;break;case 2:e=s,n=i,t=f;break;case 3:e=s,n=l,t=i;break;case 4:e=f,n=s,t=i;break;case 5:e=i,n=s,t=l}return new c.RGB(e,n,t,this._alpha)},hsl:function(){var e,n=(2-this._saturation)*this._value,t=this._saturation*this._value,r=n<=1?n:2-n;return e=r<1e-9?0:t/r,new c.HSL(this._hue,e,n/2,this._alpha)},fromRgb:function(){var e,n=this._red,t=this._green,r=this._blue,a=Math.max(n,t,r),i=Math.min(n,t,r),o=a-i,u=0===a?0:o/a,s=a;if(0===o)e=0;else switch(a){case n:e=(t-r)/o/6+(t<r?1:0);break;case t:e=(r-n)/o/6+1/3;break;case r:e=(n-t)/o/6+2/3}return new c.HSV(e,u,s,this._alpha)}})},r=function(r){r.use(t),r.installColorSpace(\"HSL\",[\"hue\",\"saturation\",\"lightness\",\"alpha\"],{hsv:function(){var e,n=2*this._lightness,t=this._saturation*(n<=1?n:2-n);return e=n+t<1e-9?0:2*t/(n+t),new r.HSV(this._hue,e,(n+t)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})};return c.use(n).use(function(a){a.use(n),a.installColorSpace(\"LAB\",[\"l\",\"a\",\"b\",\"alpha\"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var e=function(e){var n=Math.pow(e,3);return.008856<n?n:(e-16/116)/7.87},n=(this._l+16)/116,t=this._a/500+n,r=n-this._b/200;return new a.XYZ(95.047*e(t),100*e(n),108.883*e(r),this._alpha)}})}).use(t).use(r).use(function(u){u.installColorSpace(\"CMYK\",[\"cyan\",\"magenta\",\"yellow\",\"black\",\"alpha\"],{rgb:function(){return new u.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var e=this._red,n=this._green,t=this._blue,r=1-e,a=1-n,i=1-t,o=1;return e||n||t?(o=Math.min(r,Math.min(a,i)),r=(r-o)/(1-o),a=(a-o)/(1-o),i=(i-o)/(1-o)):o=1,new u.CMYK(r,a,i,o,this._alpha)}})}).use(function(e){e.namedColors={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgrey:\"a9a9a9\",darkgreen:\"006400\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",grey:\"808080\",green:\"008000\",greenyellow:\"adff2f\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgrey:\"d3d3d3\",lightgreen:\"90ee90\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370d8\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"d87093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"639\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"}}).use(function(e){e.installMethod(\"clearer\",function(e){return this.alpha(isNaN(e)?-.1:-e,!0)})}).use(function(e){e.use(r),e.installMethod(\"darken\",function(e){return this.lightness(isNaN(e)?-.1:-e,!0)})}).use(function(e){e.use(r),e.installMethod(\"desaturate\",function(e){return this.saturation(isNaN(e)?-.1:-e,!0)})}).use(function(t){function e(){var e=this.rgb(),n=.3*e._red+.59*e._green+.11*e._blue;return new t.RGB(n,n,n,e._alpha)}t.installMethod(\"greyscale\",e).installMethod(\"grayscale\",e)}).use(function(e){e.use(r),e.installMethod(\"lighten\",function(e){return this.lightness(isNaN(e)?.1:e,!0)})}).use(function(u){u.installMethod(\"mix\",function(e,n){e=u(e).rgb();var t=2*(n=1-(isNaN(n)?.5:n))-1,r=this._alpha-e._alpha,a=((t*r==-1?t:(t+r)/(1+t*r))+1)/2,i=1-a,o=this.rgb();return new u.RGB(o._red*a+e._red*i,o._green*a+e._green*i,o._blue*a+e._blue*i,o._alpha*n+e._alpha*(1-n))})}).use(function(n){n.installMethod(\"negate\",function(){var e=this.rgb();return new n.RGB(1-e._red,1-e._green,1-e._blue,this._alpha)})}).use(function(e){e.installMethod(\"opaquer\",function(e){return this.alpha(isNaN(e)?.1:e,!0)})}).use(function(e){e.use(r),e.installMethod(\"rotate\",function(e){return this.hue((e||0)/360,!0)})}).use(function(e){e.use(r),e.installMethod(\"saturate\",function(e){return this.saturation(isNaN(e)?.1:e,!0)})}).use(function(e){e.installMethod(\"toAlpha\",function(e){var n=this.rgb(),t=e(e).rgb(),r=new e.RGB(0,0,0,n._alpha),a=[\"_red\",\"_green\",\"_blue\"];return a.forEach(function(e){n[e]<1e-10?r[e]=n[e]:n[e]>t[e]?r[e]=(n[e]-t[e])/(1-t[e]):n[e]>t[e]?r[e]=(t[e]-n[e])/t[e]:r[e]=0}),r._red>r._green?r._red>r._blue?n._alpha=r._red:n._alpha=r._blue:r._green>r._blue?n._alpha=r._green:n._alpha=r._blue,n._alpha<1e-10||(a.forEach(function(e){n[e]=(n[e]-t[e])/n._alpha+t[e]}),n._alpha*=r._alpha),n})})}()}),g=n(b,\"div\");function b(e,n,t){var r=document.createElement(e);return r.className=n,t.appendChild(r),r}function n(e){var n=Array.prototype.slice,t=n.apply(arguments,[1]);return function(){return e.apply(null,t.concat(n.apply(arguments)))}}function t(e,n,t){return Math.min(Math.max(e,n),t)}var v={clamp:t,e:b,div:g,partial:n,labelInput:function(e,n,t,r){var a=\"colorPickerInput\"+Math.floor(1001*Math.random()),i=g(e,t);return{label:(c=n,h=i,d=a,p=b(\"label\",\"\",h),p.innerHTML=c,d&&p.setAttribute(\"for\",d),p),input:(o=\"text\",u=i,s=r,l=a,f=b(\"input\",\"\",u),f.type=o,s&&(f.maxLength=s),l&&f.setAttribute(\"id\",l),s&&(f.maxLength=s),f)};var o,u,s,l,f;var c,h,d,p},X:function(e,n){e.style.left=t(100*n,0,100)+\"%\"},Y:function(e,n){e.style.top=t(100*n,0,100)+\"%\"},BG:function(e,n){e.style.background=n}};var r={currentColor:function(e){var n=v.div(\"currentColorContainer\",e),t=v.div(\"currentColor\",n);return{change:function(e){v.BG(t,e.cssa())}}},fields:function(e,t,n){var r=n.space,a=n.limit||255,i=0<=n.fix?n.fix:0,o=(\"\"+a).length+i;o=i?o+1:o;var u=r.split(\"\"),s=\"A\"==r[r.length-1];if(r=s?r.slice(0,-1):r,[\"RGB\",\"HSL\",\"HSV\",\"CMYK\"].indexOf(r)<0)return console.warn(\"Invalid field names\",r);var l=v.div(\"colorFields\",e),f=u.map(function(e){e=e.toLowerCase();var n=v.labelInput(\"color \"+e,e,l,o);return n.input.onblur=c,n.input.onkeydown=h,n.input.onkeyup=d,{name:e,e:n}});function c(){t.done()}function h(e){e.ctrlKey||e.altKey||!/^[a-zA-Z]$/.test(e.key)||e.preventDefault()}function d(){var n=[r];f.forEach(function(e){n.push(e.e.input.value/a)}),s||n.push(t.getAlpha()),t.set(n)}return{change:function(n){f.forEach(function(e){e.e.input.value=(n[e.name]()*a).toFixed(i)})}}},hex:function(e,r,n){var t=v.labelInput(\"hex\",n.label||\"\",e,7);return t.input.value=\"#\",t.input.onkeyup=function(e){var n=e.keyCode||e.which,t=e.target.value;t=function(e,n,t){for(var r=e,a=e.length;a<n;a++)r+=t;return r}(t=\"#\"==t[0]?t:\"#\"+t,7,\"0\"),13==n&&r.set(t)},t.input.onblur=function(e){r.set(e.target.value),r.done()},{change:function(e){t.input.value=\"#\"==t.input.value[0]?\"#\":\"\",t.input.value+=e.hex().slice(1)}}},alpha:function(e,t){var n=p.slider({parent:e,class:\"oned alpha\",cbs:{begin:r,change:r,end:function(){t.done()}}});function r(e){var n=v.clamp(e.y,0,1);v.Y(e.pointer,n),t.setAlpha(1-n)}return{change:function(e){v.Y(n.pointer,1-e.alpha())}}},close:function(e,n,t){var r=v.e(\"a\",t.class||\"close\",e);r.href=\"#\",r.innerHTML=t.label||\"Close\",r.onclick=function(e){e.preventDefault(),n.hide()}}},y=function(r){return e=s,(n=[r.init,r.xy,r.z]).map(e).filter(l).length!=n.length?console.warn(\"colorjoe: missing cb\"):function(e,n,t){return function(e){if(!e.e)return console.warn(\"colorjoe: missing element\");var n=(t=e.e,\"string\"==typeof t?document.getElementById(e.e):e.e);var t;n.className=\"colorPicker\";var r=e.cbs,a=p.xyslider({parent:n,class:\"twod\",cbs:{begin:i,change:i,end:h}});function i(e){l=r.xy(l,{x:v.clamp(e.x,0,1),y:v.clamp(e.y,0,1)},a,o),c()}var o=p.slider({parent:n,class:\"oned\",cbs:{begin:u,change:u,end:h}});function u(e){l=r.z(l,v.clamp(e.y,0,1),a,o),c()}var s=m(e.color),l=r.init(s,a,o),f={change:[],done:[]};function c(e){e=_(e)?e:[];for(var n,t=f.change,r=0,a=t.length;r<a;r++)n=t[r],-1==e.indexOf(n.name)&&n.fn(l)}function h(){if(!s.equals(l)){for(var e=0,n=f.done.length;e<n;e++)f.done[e].fn(l);s=l}}var d={e:n,done:function(){return h(),this},update:function(e){return c(e),this},hide:function(){return n.style.display=\"none\",this},show:function(){return n.style.display=\"\",this},get:function(){return l},set:function(e){var n=this.get();return l=r.init(m(e),a,o),n.equals(l)||this.update(),this},getAlpha:function(){return l.alpha()},setAlpha:function(e){return l=l.alpha(e),this.update(),this},on:function(e,n,t){return\"change\"==e||\"done\"==e?f[e].push({name:t,fn:n}):console.warn('Passed invalid evt name \"'+e+'\" to colorjoe.on'),this},removeAllListeners:function(e){if(e)delete f[e];else for(var n in f)delete f[n];return this}};return function(e,u,n){if(n){var s,l,f,c=v.div(\"extras\",e);n.forEach(function(e,n){_(e)?(l=e[0],f=1<e.length?e[1]:{}):(l=e,f={});var t,r,a,i=l in y.extras?y.extras[l]:null;if(i)for(var o in s=i(c,(r=l+n,(a=function(e){var n={};for(var t in e)n[t]=e[t];return n}(t=u)).update=function(){t.update([r])},a),f))u.on(o,s[o],l)})}}(n,d,e.extras),c(),d}({e:e,color:n,cbs:r,extras:t})};var e,n};for(var i in y.rgb=y({init:function(e,n,t){var r=a(e).hsv();return this.xy(r,{x:r.saturation(),y:1-r.value()},n,t),this.z(r,r.hue(),n,t),r},xy:function(e,n,t){return v.X(t.pointer,n.x),v.Y(t.pointer,n.y),e.saturation(n.x).value(1-n.y)},z:function(e,n,t,r){return v.Y(r.pointer,n),o(t.background,n),e.hue(n)}}),y.hsl=y({init:function(e,n,t){var r=a(e).hsl();return this.xy(r,{x:r.hue(),y:1-r.saturation()},n,t),this.z(r,1-r.lightness(),n,t),r},xy:function(e,n,t,r){return v.X(t.pointer,n.x),v.Y(t.pointer,n.y),o(r.background,n.x),e.hue(n.x).saturation(1-n.y)},z:function(e,n,t,r){return v.Y(r.pointer,n),e.lightness(1-n)}}),y.extras={},y.registerExtra=function(e,n){e in y.extras&&console.warn('Extra \"'+e+'\"has been registered already!'),y.extras[e]=n},r)y.registerExtra(i,r[i]);function o(e,n){v.BG(e,new a.HSV(n,1,1).cssa())}function m(e){if(!u(e))return a(\"#000\");if(e.isColor)return e;var n=a(e);return n||(u(e)&&console.warn(\"Passed invalid color to colorjoe, using black instead\"),a(\"#000\"))}function _(e){return\"[object Array]\"===Object.prototype.toString.call(e)}function u(e){return void 0!==e}function s(e){return\"function\"==typeof e}function l(e){return e}return y});\n\n","import Events from '../../utils/events'\r\nimport { isElement, throwError, mixins, isNumber, isNumberString } from '../../utils/utils'\r\nimport template from '../../utils/template'\r\nimport { addClass, qsa, bind, unbind, removeNode } from '../../utils/dom'\r\nimport { skeletonTpl, lumpTpl } from './template'\r\nimport { isArray } from 'util';\r\nconst colorjoe = require('./colorjoe.min')\r\n\r\nconst UI_NAME = 'nv-color-picker'\r\n\r\nconst defaults = {\r\n  inline: true,\r\n  lumps: [\r\n    'd81e06', 'f4ea2a', '1afa29', '1296db', '13227a', 'd4237a', 'ffffff', 'e6e6e6', 'dbdbdb', 'cdcdcd', 'bfbfbf', '8a8a8a', '707070', '515151', '2c2c2c', '000000', 'ea986c', 'eeb174', 'f3ca7e', 'f9f28b', 'c8db8c', 'aad08f', '87c38f', '83c6c2', '7dc5eb', '87a7d6', '8992c8', 'a686ba', 'bd8cbb', 'be8dbd', 'e89abe', 'e8989a', 'e16632', 'e98f36', 'efb336', 'f6ef37', 'afcd51', '7cba59', '36ab60', '1baba8', '17ace3', '3f81c1', '4f68b0', '594d9c', '82529d', 'a4579d', 'db649b', 'dd6572', 'd81e06', 'e0620d', 'ea9518', 'f4ea2a', '8cbb1a', '2ba515', '0e932e', '0c9890', '1295db', '0061b2', '0061b0', '004198', '122179', '88147f', 'd3227b', 'd6204b'\r\n  ],\r\n}\r\nconst Selectors = {\r\n  lumps: '.nv-color-picker__lumps',\r\n  panel: '.nv-color-picker__panel'\r\n}\r\n\r\nfunction render() {\r\n  const { props, states } = this\r\n  const $el = document.createElement('div')\r\n  $el.className = UI_NAME\r\n  $el.innerHTML = template(skeletonTpl, {\r\n\r\n  })\r\n  states.$lumps = qsa(Selectors.lumps, $el)[0]\r\n  states.$panel = qsa(Selectors.panel, $el)[0]\r\n  states.$el = $el\r\n\r\n  if (props.inline) {\r\n    states.$target.appendChild($el)\r\n  }\r\n  initColorPanel.call(this)\r\n  initColorLumps.call(this)\r\n}\r\n\r\nfunction initColorPanel() {\r\n  const { props, states } = this\r\n  states.joeIns = colorjoe.rgb(qsa('.panel-main', states.$panel)[0])\r\n}\r\n\r\n\r\nfunction initColorLumps() {\r\n  const { props, states } = this\r\n  if (props.lumps && isArray(props.lumps) && props.lumps.length) {\r\n    let html = ''\r\n    props.lumps.forEach(color => {\r\n      color = color.charAt(0) === '#' ? color : ('#'+color)\r\n      html += template(lumpTpl, {\r\n        color\r\n      })\r\n    })\r\n    states.$lumps.innerHTML = html\r\n  }\r\n}\r\n\r\n\r\nexport class ColorPicker extends Events {\r\n  constructor(target, options) {\r\n    super()\r\n    if (!(this instanceof ColorPicker)) {\r\n      return new ColorPicker(target, options)\r\n    }\r\n    if (!isElement(target)) {\r\n      throwError('\\'target\\' 必须是一个DOM容器', 'type')\r\n    }\r\n\r\n    this.props = mixins({}, defaults, options || {})\r\n    this.states = Object.create(null)\r\n    this.states.$target = target\r\n    render.call(this)\r\n  }\r\n}\r\n\r\n\r\nexport default ColorPicker","export const skeletonTpl = `\r\n<ul class=\"nv-color-picker__lumps\"></ul>\r\n<div class=\"nv-color-picker__panel\"><div class=\"panel-main\"></div></div>\r\n<div class=\"nv-color-picker__foot nv-clearfix\">\r\n  <label class=\"nv-color-picker__current\">\r\n    <span class=\"current-lump\"></span>\r\n    <input class=\"nv-input\">\r\n  </label>\r\n  <button type=\"button\" class=\"nv-btn nv-btn--primary nv-right\">确定</button>\r\n</div>\r\n`\r\n\r\nexport const lumpTpl = `\r\n<li class=\"color-lump\"><span style=\"background-color:<%=color%>\"></span></li>\r\n`\r\n\r\nexport default {\r\n  skeletonTpl,\r\n  lumpTpl\r\n}","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Used for ...\r\n * Created: 2018-10-29 11:32\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-10-29 11:32\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport Events from '../../utils/events'\r\nimport { isElement, throwError, mixins, isNumber, isNumberString } from '../../utils/utils'\r\nimport { correctProps } from './utils'\r\nimport template from '../../utils/template'\r\nimport { addClass, qsa, bind, unbind, removeNode } from '../../utils/dom'\r\nimport { skeletonTpl } from './template'\r\n\r\n// 选择器\r\nconst Selectors = {\r\n  input: '.nv-input',\r\n  increase: '.nv-input-number__increase',\r\n  decrease: '.nv-input-number__decrease'\r\n}\r\n\r\n// 默认配置\r\nconst defaults = {\r\n  // 当前值\r\n  value: null,\r\n  // min value\r\n  min: -Infinity,\r\n  // max value\r\n  max: Infinity,\r\n  // step\r\n  step: 1,\r\n  // 精度\r\n  precision: null,\r\n  // 禁用\r\n  disabled: false,\r\n  // 输入框是否可输入，只允许控制按钮\r\n  editable: true,\r\n  // 输入框placeholder\r\n  placeholder: null,\r\n  // 输入框name属性\r\n  name: null,\r\n  // 宽度\r\n  width: '130px',\r\n  // 输入框尺寸\r\n  size: 'default',\r\n  // 自定义样式\r\n  customClass: null,\r\n  // 格式化\r\n  formatter: null\r\n}\r\n\r\n\r\n/**\r\n * render\r\n * @private\r\n */\r\nfunction render() {\r\n  const { states, props } = this\r\n  if (states.$el) {\r\n    return\r\n  }\r\n  const $el = document.createElement('label')\r\n  $el.className = 'nv-input-number'\r\n  addClass($el, props.customClass)\r\n  let size \r\n  if (['large', 'small'].indexOf(props.size) > -1) {\r\n    size = props.size\r\n  }\r\n  $el.innerHTML = template(skeletonTpl, {\r\n    name: props.name,\r\n    disabled: props.disabled,\r\n    editable: props.editable,\r\n    min: props.min,\r\n    max: props.max,\r\n    placeholder: props.placeholder,\r\n    size\r\n  })\r\n  \r\n  let width = props.width\r\n  if (isNumberString(width)) {\r\n    width += 'px'\r\n  }\r\n  if (isNaN(parseFloat(width))) {\r\n    width = defaults.width\r\n  }\r\n  $el.style.width = width\r\n  states.$container.appendChild($el)\r\n  states.$el = $el\r\n  states.$input = qsa(Selectors.input, $el)[0]\r\n  states.$increase = qsa(Selectors.increase, $el)[0]\r\n  states.$decrease = qsa(Selectors.decrease, $el)[0]\r\n  bindEvents.call(this)\r\n}\r\n\r\n\r\n/**\r\n * input change \r\n * @private\r\n * @param {*} e \r\n */\r\nfunction handleInputChange(e) {\r\n  if (this.props.disabled) {\r\n    return\r\n  }\r\n  this.setValue(e.target.value)\r\n}\r\n\r\n\r\n/**\r\n * input keydown\r\n * @param {*} e \r\n */\r\nfunction handleInputKeydown(e) {\r\n  let code = e.keyCode\r\n  if (code === 38 || code === 39) {\r\n    this.increase()\r\n  } else if (code === 37 || code === 40) {\r\n    this.decrease()\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 绑定DOM事件\r\n * @private\r\n */\r\nfunction bindEvents() {\r\n  const { states } = this\r\n  const handles = states.handles\r\n  handles.increase = this.increase.bind(this)\r\n  handles.decrease = this.decrease.bind(this)\r\n  handles.inputChange = handleInputChange.bind(this)\r\n  handles.inputKeydown = handleInputKeydown.bind(this)\r\n\r\n  bind(states.$increase, 'click', handles.increase)\r\n  bind(states.$decrease, 'click', handles.decrease)\r\n  bind(states.$input, 'change', handles.inputChange)\r\n  bind(states.$input, 'keydown', handles.inputKeydown)\r\n}\r\n\r\n\r\n/**\r\n * 解绑DOM事件\r\n * @private\r\n */\r\nfunction unbindEvents() {\r\n  const { states } = this\r\n  const handles = states.handles\r\n  unbind(states.$increase, 'click', handles.increase)\r\n  unbind(states.$decrease, 'click', handles.decrease)\r\n  unbind(states.$input, 'change', handles.inputChange)\r\n  unbind(states.$input, 'keydown', handles.inputKeydown)\r\n}\r\n\r\n\r\n/**\r\n * 递增\r\n * @private\r\n * @param {*} val \r\n */\r\nfunction increase(val) {\r\n  const { props, states } = this\r\n  const { step, precision } = props\r\n  const { value } = states\r\n  if (!isNumber(val) && val !== void 0) {\r\n    return value\r\n  }\r\n  const precisionFactor = Math.pow(10, precision)\r\n  return toPrecision((precisionFactor * val + precisionFactor * step) / precisionFactor, precision)\r\n}\r\n\r\n\r\n/**\r\n * 递减\r\n * @private\r\n * @param {*} val \r\n */\r\nfunction decrease(val) {\r\n  const { props, states } = this\r\n  const { step, precision } = props\r\n  const { value } = states\r\n  if (!isNumber(val) && val !== void 0) {\r\n    return value\r\n  }\r\n  const precisionFactor = Math.pow(10, precision)\r\n  return toPrecision((precisionFactor * val - precisionFactor * step) / precisionFactor, precision)\r\n}\r\n\r\n\r\n/**\r\n * 设置increase/decrease按钮禁用状态\r\n * @private\r\n */\r\nfunction toggleBtnDisabled() {\r\n  let { states, props } = this\r\n  let { min, max } = props\r\n  let value = states.value || 0\r\n  let minDisabled = props.disabled || decrease.call(this, value || 0) < min\r\n  let maxDisabled = props.disabled || increase.call(this, value || 0) > max\r\n  let minMethod = minDisabled ? 'add' : 'remove'\r\n  let maxMethod = maxDisabled ? 'add' : 'remove'\r\n  states.$decrease.classList[minMethod]('nv-disabled')\r\n  states.$increase.classList[maxMethod]('nv-disabled')\r\n  states.$increase.setAttribute('aria-disabled', maxDisabled)\r\n  states.$decrease.setAttribute('aria-disabled', minDisabled)\r\n}\r\n\r\n\r\n/**\r\n * 精确化值\r\n * @private\r\n * @param {*} value \r\n * @param {*} precision \r\n */\r\nfunction toPrecision(value, precision) {\r\n  return parseFloat(parseFloat(Number(value).toFixed(precision)))\r\n}\r\n\r\n\r\n/**\r\n * 计数器组件\r\n * @date 2018-11-08\r\n * @export\r\n * @class InputNumber\r\n * @extends {Events}\r\n */\r\nexport class InputNumber extends Events {\r\n\r\n  /**\r\n   * Creates an instance of InputNumber.\r\n   * @date 2018-11-08\r\n   * @param {*} container\r\n   * @param {*} options\r\n   * @memberof InputNumber\r\n   */\r\n  constructor(container, options) {\r\n    super()\r\n    if (!(this instanceof InputNumber)) {\r\n      return new InputNumber(container, options)\r\n    }\r\n    if (!isElement(container)) {\r\n      throwError('\\'container\\' 必须是一个DOM容器', 'type')\r\n    }\r\n    this.states = Object.create(null)\r\n    this.states.$container = container\r\n    this.states.handles = Object.create(null)\r\n    this.initialize(options)\r\n  }\r\n\r\n\r\n  /**\r\n   * 初始化\r\n   * 当配置文件改变时调用\r\n   * @date 2018-11-08\r\n   * @param {*} options\r\n   * @memberof InputNumber\r\n   */\r\n  initialize(options) {\r\n    this.props = correctProps(mixins({}, defaults, options || {}))\r\n    const { states } = this\r\n    render.call(this)\r\n    states.value = ''\r\n    states.oldValue = ''\r\n    this.setValue(this.props.value)\r\n  }\r\n\r\n\r\n  /**\r\n   * 设置值\r\n   * @date 2018-11-08\r\n   * @param {*} newValue\r\n   * @memberof InputNumber\r\n   */\r\n  setValue(newValue) {\r\n    const { props, states } = this\r\n    let { oldValue } = states\r\n    const { precision, min, max } = props\r\n    newValue = parseFloat(newValue, 10)\r\n    if (isNaN(newValue)) {\r\n      newValue = oldValue\r\n    }\r\n\r\n    // oldValue === ''\r\n    let valueStr = ''\r\n    if (newValue !== '') {\r\n      newValue = toPrecision(newValue, precision)\r\n      if (newValue >= max) {\r\n        newValue = max\r\n      }\r\n      if (newValue <= min) {\r\n        newValue = min\r\n      }\r\n      valueStr = newValue.toFixed(precision)\r\n    }\r\n    \r\n    let formatValue = props.formatter && props.formatter(valueStr)\r\n    states.$input.value = formatValue || valueStr\r\n    if (oldValue !== newValue) {\r\n      states.value = newValue\r\n      states.oldValue = newValue\r\n      this.emit('change', newValue, oldValue)\r\n    }\r\n\r\n    states.$input.setAttribute('aria-valuenow', formatValue || newValue)\r\n    // toggle btn disabled\r\n    toggleBtnDisabled.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * 获取值\r\n   * @date 2018-11-08\r\n   * @returns\r\n   * @memberof InputNumber\r\n   */\r\n  getValue() {\r\n    return this.states.value\r\n  }\r\n\r\n\r\n  /**\r\n   * 递增\r\n   * @date 2018-11-08\r\n   * @memberof InputNumber\r\n   */\r\n  increase() {\r\n    const { states, props } = this\r\n    let newValue = increase.call(this, states.value || 0)\r\n    if (props.disable || newValue > props.max) {\r\n      return\r\n    }\r\n    this.setValue(newValue)\r\n  }\r\n\r\n\r\n  /**\r\n   * 递减\r\n   * @date 2018-11-08\r\n   * @memberof InputNumber\r\n   */\r\n  decrease() {\r\n    const { states, props } = this\r\n    let newValue = decrease.call(this, states.value || 0)\r\n    if (props.disable || newValue < props.min) {\r\n      return\r\n    }\r\n    this.setValue(newValue)\r\n  }\r\n\r\n  \r\n  /**\r\n   * 禁用\r\n   * @date 2018-11-08\r\n   * @memberof InputNumber\r\n   */\r\n  disable() {\r\n    this.props.disabled = true\r\n    const { states } = this\r\n    states.$el.classList.add('nv-disabled')\r\n    states.$input.setAttribute('disabled', true)\r\n    states.$input.setAttribute('aria-disabled', true)\r\n    toggleBtnDisabled.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * 启用\r\n   * @date 2018-11-08\r\n   * @memberof InputNumber\r\n   */\r\n  enable() {\r\n    this.props.disabled = false\r\n    const { states } = this\r\n    states.$el.classList.remove('nv-disabled')\r\n    states.$input.removeAttribute('disabled')\r\n    states.$input.setAttribute('aria-disabled', false)\r\n    toggleBtnDisabled.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * 销毁\r\n   * @date 2018-11-08\r\n   * @memberof InputNumber\r\n   */\r\n  destroy() {\r\n    unbindEvents.call(this)\r\n    removeNode(this.states.$el)\r\n    this.states = null\r\n    this.props = null\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default InputNumber","// 骨架\r\nexport const skeletonTpl = `\r\n<input type=\"text\" class=\"nv-input<% if(size) {%> nv-input--<%=size%><% }%>\" placeholder=\"<%= placeholder%>\" name=\"<%= name%>\" role=\"spinbutton\" autocomplete=\"off\" aria-valuemin=\"<%= min%>\" aria-valuemax=\"<%= max%>\" aria-valuenow=\"\" aria-disabled=\"<%= disabled%>\"<% if (!editable) {%> readonly<% }%><% if (disabled) {%> disabled<% }%>/>\r\n<a class=\"nv-input-number__increase\" role=\"button\" aria-label=\"Increase Value\" aria-disabled=\"<%=disabled%>\"></a>\r\n<a class=\"nv-input-number__decrease\" role=\"button\" aria-label=\"Decrease Value\" aria-disabled=\"<%=disabled%>\"></a>\r\n`\r\n\r\nexport default skeletonTpl","\r\n/*\r\n * File: utils.js\r\n * Project: @vnnox/novaui\r\n * Description: InputNumber/Slider辅助函数\r\n * Created: 2018-10-29 11:56\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-10-29 11:57\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\n\r\n/**\r\n * 获取精度\r\n * @param {*} precision \r\n * @param {*} step \r\n * @returns {Number}\r\n */\r\nexport const getPrecision = (precision, step) => {\r\n  let value = 0\r\n  if (precision && precision > 0) {\r\n    precision = +precision\r\n    if (!isNaN(precision)) {\r\n      value = precision\r\n    }\r\n  } else if (step) {\r\n    const stepStr = step.toString()\r\n    const dotPosition = stepStr.indexOf('.')\r\n    if (dotPosition !== -1) {\r\n      value = stepStr.length - dotPosition - 1\r\n    }\r\n  }\r\n  return value\r\n}\r\n\r\n\r\n/**\r\n * 校正参数\r\n * @param {*} props \r\n * @returns {Object}\r\n */\r\nexport const correctProps = props => {\r\n  let { min, max, step } = props\r\n  min = parseFloat(min, 10)\r\n  max = parseFloat(max, 10)\r\n  step = parseFloat(step, 10)\r\n  min = isNaN(min) ? -Infinity : min\r\n  max = isNaN(max) ? Infinity : max\r\n  step = isNaN(step) ? 1 : step\r\n  if (min > max) {\r\n    let t = max\r\n    max = min\r\n    min = t\r\n  }\r\n  props.min = min\r\n  props.max = max\r\n  props.step = step\r\n  props.precision = getPrecision(props.precision, step)\r\n  return props\r\n}\r\n\r\nexport default {\r\n  getPrecision,\r\n  correctProps\r\n}","\r\n/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Used for ...\r\n * Created: 2018-11-20 02:39\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-21 02:56\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { mixins, isFunction } from '../../utils/utils'\r\nimport { template } from '../../utils/template'\r\nimport { skeletonTpl } from './template'\r\nimport Modal from '../modal'\r\nimport { qsa } from '../../utils/dom'\r\n\r\n// ui class name\r\nconst UI_NAME = 'nv-message-box'\r\n\r\n// empty function\r\nconst noop = function () {}\r\n\r\n// selectors\r\nconst Selectors = {\r\n  message: '.nv-message-box__message',\r\n  describe: '.nv-message-box__describe'\r\n}\r\n\r\n// default config\r\nconst defaults = {\r\n  message: '',\r\n  title: '',\r\n  describe: '',\r\n  asHtml: false,\r\n  type: 'info',\r\n  showIcon: true,\r\n  icon: '',\r\n  confirmButtonText: '确定',\r\n  cancelButtonText: '取消',\r\n  confirmButtonCss: 'nv-btn--primary',\r\n  cancelButtonCss: '',\r\n  confirm: null,\r\n  cancel: null,\r\n  // modal\r\n  closeBtn: true,\r\n  backdrop: true,\r\n  backdropBackground: null,\r\n  escClose: true,\r\n  scrollLock: true,\r\n  top: null,\r\n  width: null\r\n}\r\n\r\n\r\nconst instances = []\r\n\r\n\r\n/**\r\n * 创建一个MessageModal实例\r\n * @param {*} options \r\n * @param {*} btns \r\n */\r\nfunction genMessageBox(options, btns) {\r\n  options.message = (options.message || '').toString()\r\n  options.title = (options.title || '').toString()\r\n  let icon = false\r\n  if (options.showIcon) {\r\n    icon = options.icon\r\n    // 如果没有自定义icon，则根据类型自动匹配icon\r\n    if (!icon) {\r\n      switch (options.type) {\r\n        case 'success':\r\n          icon = 'nv-icon-circle-check'\r\n          break\r\n        case 'error':\r\n          icon = 'nv-icon-circle-close'\r\n          break\r\n        case 'warning':\r\n          icon = 'nv-icon-circle-warning'\r\n          break\r\n        case 'info':\r\n        default:\r\n          icon = 'nv-icon-circle-info'\r\n          break\r\n      }\r\n    }\r\n  }\r\n  const $el = document.createElement('div')\r\n  $el.className = UI_NAME\r\n  $el.innerHTML = template(skeletonTpl, {\r\n    icon,\r\n    describe: options.describe\r\n  })\r\n  let $message = qsa(Selectors.message, $el)[0]\r\n  let $describe = qsa(Selectors.describe, $el)[0]\r\n  if (options.asHtml) {\r\n    $message.innerHTML = options.message\r\n    $describe && ($describe.innerHTML = options.describe)\r\n  } else {\r\n    $message.textContent = options.message\r\n    $describe && ($describe.textContent = options.describe)\r\n  }\r\n\r\n  let instance = new Modal({\r\n    title: options.title,\r\n    content: $el,\r\n    closeBtn: options.closeBtn,\r\n    backdrop: options.backdrop,\r\n    backdropBackground: options.backdropBackground,\r\n    escClose: options.escClose,\r\n    scrollLock: options.scrollLock,\r\n    top: options.top,\r\n    width: options.width,\r\n    btns,\r\n    customClass: 'dialog-message-box'\r\n  })\r\n\r\n  instances.push(instance)\r\n  instance.open()\r\n  instance.on('close', () => {\r\n    let index = instances.indexOf(instance)\r\n    if (index > -1) {\r\n      instances.splice(index, 1)\r\n    }\r\n    instance.destroy()\r\n  })\r\n  return instance\r\n}\r\n\r\n\r\n/**\r\n * 重新组装按钮的事件回调\r\n * @param {*} handle \r\n */\r\nfunction genCallback (handle) {\r\n  let _handle = isFunction(handle) ? handle : noop\r\n  return function() {\r\n    // this === Modal instance\r\n    if (_handle() === false) {\r\n      return\r\n    }\r\n    this.close()\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * MessageBox Component\r\n * @date 2018-11-21\r\n * @export\r\n * @class MessageBox\r\n */\r\nexport class MessageBox {\r\n\r\n\r\n  /**\r\n   * 警告窗\r\n   * @date 2018-11-21\r\n   * @static\r\n   * @param {*} message\r\n   * @param {*} title\r\n   * @param {*} options\r\n   * @returns\r\n   * @memberof MessageBox\r\n   */\r\n  static alert(message, title, options) {\r\n    options = mixins({}, defaults, options || {})\r\n    options.message = message\r\n    options.title = title\r\n    const btns = [\r\n      {\r\n        type: 'confirm',\r\n        text: options.confirmButtonText,\r\n        css: options.confirmButtonCss,\r\n        handle: genCallback(options.confirm)\r\n      }\r\n    ]\r\n    return genMessageBox(options, btns)\r\n  }\r\n\r\n\r\n  /**\r\n   * 确认窗\r\n   * @date 2018-11-21\r\n   * @static\r\n   * @param {*} message\r\n   * @param {*} title\r\n   * @param {*} options\r\n   * @returns\r\n   * @memberof MessageBox\r\n   */\r\n  static confirm(message, title, options) {\r\n    options = mixins({}, defaults, options || {})\r\n    options.message = message\r\n    options.title = title\r\n    const btns = [\r\n      {\r\n        type: 'confirm',\r\n        text: options.confirmButtonText,\r\n        css: options.confirmButtonCss,\r\n        handle: genCallback(options.confirm)\r\n      },\r\n      {\r\n        type: 'cancel',\r\n        text: options.cancelButtonText,\r\n        css: options.cancelButtonCss,\r\n        handle: genCallback(options.cancel)\r\n      }\r\n    ]\r\n    return genMessageBox(options, btns)\r\n  }\r\n\r\n\r\n  /**\r\n   * 销毁所有弹框\r\n   * @date 2018-11-21\r\n   * @static\r\n   * @memberof MessageBox\r\n   */\r\n  static destroy() {\r\n    instances.forEach(ins => ins.destroy())\r\n    instances.length = 0\r\n  }\r\n}\r\n\r\n\r\nexport default MessageBox","export const skeletonTpl = `\r\n<% if (icon) { %>\r\n<span class=\"nv-message-box__icon\">\r\n  <i class=\"<%= icon %>\"></i>\r\n</span>\r\n<% } %>\r\n<div class=\"nv-message-box__content\">\r\n  <div class=\"nv-message-box__message\"></div>\r\n  <% if (describe) { %>\r\n  <div class=\"nv-message-box__describe\"></div>\r\n  <% } %>\r\n</div>\r\n`\r\nexport default {\r\n  skeletonTpl\r\n}","import { mixins, isPlainObject, isFunction, uuid } from '../../utils/utils'\r\nimport { qsa, addClass, bind, unbind } from '../../utils/dom'\r\nimport { template } from '../../utils/template'\r\nimport { Popup } from '../../utils/popup'\r\nimport { skeletonTpl } from './template'\r\n\r\n// empty function\r\nconst noop = Function.prototype\r\n\r\n// ui class name\r\nconst UI_NAME = 'nv-message'\r\n\r\n// 选择器\r\nconst Selectors = {\r\n  content: '.nv-alert__content',\r\n  close: '.nv-alert__close'\r\n}\r\n\r\n// 内置类型\r\nconst TYPES = ['success', 'info', 'error', 'warning']\r\n\r\n// default config\r\nconst defaults = {\r\n  // 类型\r\n  type: 'info',\r\n  // 图标类名，\r\n  icon: '',\r\n  // 内容文本\r\n  content: '',\r\n  // 自动关闭时间，单位毫秒，\r\n  // 当设置为0时，将不不会自动关闭\r\n  duration: 3000,\r\n  // 默认情况下，为防止XSS等攻击，\r\n  // 对传入的content做纯文本输出，\r\n  // 当作为HTML字符串输出时，必须开启asHtml选项\r\n  asHtml: false,\r\n  // 显示关闭按钮\r\n  closeable: true,\r\n  // 自定义样式\r\n  customClass: null,\r\n  // 关闭时回调\r\n  onClose: noop,\r\n}\r\n\r\n// default custom config\r\nconst customDefault = {\r\n  closeable: true,\r\n  duration: 3000\r\n}\r\n\r\n// global custom config\r\nlet customConfig = {}\r\n\r\n// 用于保存已生成的Message实例\r\nconst instances = Object.create(null)\r\n\r\n\r\n/**\r\n * render\r\n * @private\r\n * @memberof MessageBox\r\n */\r\nfunction render() {\r\n  const { props, states } = this\r\n  let $wrap = qsa('.nv-message-wrap', document)[0]\r\n  if (!$wrap) {\r\n    $wrap = document.createElement('div')\r\n    $wrap.className = 'nv-message-wrap'\r\n    document.body.appendChild($wrap)\r\n  }\r\n  $wrap.style.zIndex = Popup.nextZIndex()\r\n  \r\n  const $el = document.createElement('div')\r\n  $el.className = UI_NAME\r\n  const $alert = document.createElement('div')\r\n  $alert.setAttribute('role', 'alert')\r\n  $alert.className = 'nv-alert'\r\n  if (TYPES.indexOf(props.type) > -1) {\r\n    $alert.classList.add(`nv-alert--${props.type}`)\r\n  }\r\n  let content = (props.content || '').toString()\r\n  $alert.innerHTML = template(skeletonTpl, {\r\n    closeable: props.closeable,\r\n    icon: props.icon\r\n  })\r\n  $el.appendChild($alert)\r\n  addClass($el, props.customClass)\r\n  const $content = qsa(Selectors.content, $el)[0]\r\n  if (props.asHtml) {\r\n    $content.innerHTML = content\r\n  } else {\r\n    $content.textContent = content\r\n  }\r\n  $wrap.appendChild($el)\r\n  $el.classList.add('nv-animated--alert-in')\r\n  states.$el = $el\r\n  states.$close = qsa(Selectors.close, $el)[0]\r\n  bindEvents.call(this)\r\n}\r\n\r\n\r\n/**\r\n * bind dom events\r\n * @private\r\n * @memberof MessageBox\r\n */\r\nfunction bindEvents() {\r\n  const { props, states } = this\r\n  states.handleClose = this.close.bind(this)\r\n  states.$close && bind(states.$close, 'click', states.handleClose)\r\n  let { duration } = props\r\n  duration = +duration\r\n\r\n  if (duration > 0 && !isNaN(duration)) {\r\n    states.timer = setTimeout(() => {\r\n      this.close()\r\n    }, duration)\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Message基类\r\n * 用于生产Message实例\r\n * @class MessageBox\r\n */\r\nclass MessageBox {\r\n\r\n  /**\r\n   * Creates an instance of MessageBox.\r\n   * @param {*} options\r\n   * @memberof MessageBox\r\n   */\r\n  constructor(options) {\r\n    if (!(this instanceof MessageBox)) {\r\n      return new MessageBox(options)\r\n    }\r\n    this.props = mixins({}, defaults, customConfig, options || {})\r\n    this.states = Object.create(null)\r\n    this.states.id = '__message__' + uuid()\r\n    render.call(this)\r\n    instances[this.states.id] = this\r\n  }\r\n\r\n\r\n  /**\r\n   * close\r\n   * @public\r\n   * @memberof MessageBox\r\n   */\r\n  close() {\r\n    isFunction(this.props.onClose) && this.props.onClose()\r\n    this.destroy()\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   * @public\r\n   * @memberof MessageBox\r\n   */\r\n  destroy() {\r\n    const { states } = this\r\n    if (states) {\r\n      delete instances[states.id]\r\n      states.$close && unbind(states.$close, 'click', states.handleClose)\r\n      let $el = states.$el\r\n      if ($el) {\r\n        $el.classList.add('nv-animated--alert-out')\r\n        setTimeout(() => {\r\n          $el && $el.parentNode.removeChild($el)\r\n          $el = null\r\n        }, 200)\r\n      }\r\n      states.timer && clearTimeout(states.timer)\r\n      this.states = null\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n/**\r\n *\r\n * 生成MessageBox的实例\r\n * @param {*} type\r\n * @param {*} content\r\n * @param {*} options\r\n * @returns\r\n */\r\nfunction GenerateMessageInstance(type, content, options) {\r\n  let config = {}\r\n  let icon\r\n  switch (type) {\r\n    case 'info':\r\n      icon = 'nv-icon-circle-info'\r\n      break\r\n    case 'success':\r\n      icon = 'nv-icon-circle-check'\r\n      break\r\n    case 'error':\r\n      icon = 'nv-icon-circle-close'\r\n      break\r\n    case 'warning':\r\n      icon = 'nv-icon-circle-warning'\r\n      break\r\n  }\r\n  if (isFunction(options)) {\r\n    config.onClose = options\r\n  } else if (isPlainObject(options)) {\r\n    config = options\r\n  }\r\n  config.type = type\r\n  config.content = content\r\n  if (config.icon === void 0) {\r\n    config.icon = icon\r\n  }\r\n  return new MessageBox(config)\r\n}\r\n\r\n\r\n/**\r\n *\r\n * Message静态类\r\n * @export\r\n * @class Message\r\n */\r\nexport class Message {\r\n\r\n\r\n  /**\r\n   *\r\n   * 用于操作成功时提示\r\n   * @static\r\n   * @param {*} content\r\n   * @param {*} options\r\n   * @returns\r\n   * @memberof Message\r\n   */\r\n  static success(content, options) {\r\n    return GenerateMessageInstance('success', content, options)\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * 用于失败时提示\r\n   * @static\r\n   * @param {*} content\r\n   * @param {*} options\r\n   * @returns\r\n   * @memberof Message\r\n   */\r\n  static error(content, options) {\r\n    return GenerateMessageInstance('error', content, options)\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * 用于警告时提示\r\n   * @static\r\n   * @param {*} content\r\n   * @param {*} options\r\n   * @returns\r\n   * @memberof Message\r\n   */\r\n  static warning(content, options) {\r\n    return GenerateMessageInstance('warning', content, options)\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * 用于消息提示\r\n   * @static\r\n   * @param {*} content\r\n   * @param {*} options\r\n   * @returns\r\n   * @memberof Message\r\n   */\r\n  static info(content, options) {\r\n    return GenerateMessageInstance('info', content, options)\r\n  }\r\n\r\n\r\n  /**\r\n   * 用于配置全局的Message\r\n   * 具体方法中的options优先于全局配置\r\n   * @static\r\n   * @param {*} config\r\n   * @memberof Message\r\n   */\r\n  static config(config) {\r\n    if (config === null || isPlainObject(config)) {\r\n      customConfig = mixins({}, customDefault, config || {})\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 销毁所有的Message实例\r\n   * 如页面切换时，销毁页面中所有的Message实例\r\n   * @static\r\n   * @memberof Message\r\n   */\r\n  static destroy() {\r\n    for (let id in instances) {\r\n      instances[id].destroy()\r\n      delete instances[id]\r\n    }\r\n    let $wrap = qsa('.nv-message-wrap', document)[0]\r\n    $wrap && $wrap.parentNode.removeChild($wrap)\r\n    $wrap = null\r\n  }\r\n}\r\n\r\nexport default Message","export const skeletonTpl = `\r\n<div class=\"nv-alert__inner\">\r\n  <% if (icon) {%>\r\n  <span class=\"nv-alert__icon\"><i class=\"<%=icon%>\"></i></span>\r\n  <% }%>\r\n  <div class=\"nv-alert__content\"></div>\r\n  <% if(closeable) {%>\r\n  <button type=\"button\" class=\"nv-alert__close\" aria-label=\"Close\">\r\n    <i class=\"nv-icon-close\"></i>\r\n  </button>\r\n  <% }%>\r\n</div>\r\n`\r\nexport default skeletonTpl","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Used for ...\r\n * Created: 2018-11-19 10:32\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-19 10:32\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { Events } from '../../utils/events'\r\nimport { mixins, isElement, isArray, isPlainObject, isFunction, uuid, throwError } from '../../utils/utils'\r\nimport { template } from '../../utils/template'\r\nimport { addClass, qsa, bind, unbind, removeNode } from '../../utils/dom'\r\nimport { Popup } from '../../utils/popup'\r\nimport { skeletonTpl } from './template'\r\n\r\n// ui className\r\nconst UI_NAME = 'nv-modal'\r\n\r\n// 是否是纯数字\r\nconst NUMBER_REG = /^\\d+$/\r\n\r\n// selectors\r\nconst Selectors = {\r\n  dialog: '.nv-modal-dialog',\r\n  title: '.nv-modal__title',\r\n  closeBtn: '.nv-modal__close',\r\n  body: '.nv-modal__body',\r\n  footSlot: '.nv-modal__foot_slot',\r\n  btns: '.nv-modal__foot_btns'\r\n}\r\n\r\n// default config\r\nconst defaults = {\r\n  // [Boolean] 默认是否打开\r\n  visible: false,\r\n  // [String | Boolean] 标题\r\n  title: '',\r\n  // [String | HTMLElement] 内容\r\n  content: '',\r\n  // [Boolean] 显示关闭按钮\r\n  closeBtn: true,\r\n  // [HTMLElement] 插入到的父级元素\r\n  appendTo: document.body,\r\n  // [Boolean] 显示遮罩层\r\n  backdrop: true,\r\n  // [String] 遮罩层背景色\r\n  backdropBackground: 'rgba(0,0,0,.5)',\r\n  // [Boolean] 点击遮罩层关闭\r\n  backdropClose: true,\r\n  // [Boolean] 按Esc键关闭\r\n  escClose: true,\r\n  // [ Number| String | null ] 模态框宽度\r\n  width: null,\r\n  // [ Number | String ] 距离顶部高度\r\n  top: '10%',\r\n  // [ String | null] 自定义样式\r\n  customClass: null,\r\n  /**\r\n   * [Array | null | Boolean]\r\n   * button: {\r\n   *   text: [String] 按钮文本\r\n   *   css: [String] 按钮样式\r\n   *   hanlde: [Function] 按钮事件\r\n   * }\r\n   */\r\n  btns: null,\r\n  // [String | HTMLElement] btns同级插槽\r\n  footSlot: null,\r\n  // [Boolean] 是否锁屏\r\n  scrollLock: true\r\n}\r\n\r\n/**\r\n *\r\n * 生成底部按钮\r\n * @private\r\n * @param {*} btn\r\n * @returns\r\n */\r\nfunction createBtn(btn) {\r\n  const $el = document.createElement('button')\r\n  $el.type = 'button'\r\n  $el.textContent = btn.text\r\n  let handle = btn.handle\r\n  if (!isFunction(handle)) {\r\n    handle = this.close\r\n  }\r\n  $el.__handle = handle.bind(this)\r\n  $el.className = 'nv-btn nv-dialog__btn'\r\n  addClass($el, btn.css)\r\n  return $el\r\n}\r\n\r\n\r\n/**\r\n * render\r\n * @private\r\n */\r\nfunction render() {\r\n  const { props, states } = this\r\n  const $el = document.createElement('div')\r\n  $el.className = UI_NAME\r\n  addClass($el, props.customClass)\r\n  \r\n  let $btns = null\r\n\r\n  // fixed 底部按钮参数\r\n  const btns = []\r\n  if (props.btns) {\r\n    if (isArray(props.btns)) {\r\n      props.btns.forEach(btn => {\r\n        if (isPlainObject(btn)) {\r\n          btn.handle = isFunction(btn.handle) ? btn.handle : null\r\n          btn.text = btn.text && btn.text.toString() || ''\r\n          btn.css = btn.css && btn.css.toString() || ''\r\n          btns.push(btn)\r\n        }\r\n      })\r\n    } \r\n    // 直接当做插槽传入，为了兼容VUE\r\n    else if (isElement(props.btns)) {\r\n      $btns = props.btns\r\n    }\r\n  }\r\n\r\n  $el.innerHTML = template(skeletonTpl, {\r\n    title: (props.title || '').toString(),\r\n    closeBtn: !!props.closeBtn,\r\n    footSlot: !!props.footSlot,\r\n    btns: $btns || (btns && btns.length)\r\n  })\r\n\r\n  $el.style.display = 'none'\r\n\r\n  props.appendTo.appendChild($el)\r\n  $el.setAttribute('role', 'dialog')\r\n  states.$el = $el\r\n  states.$dialog = qsa(Selectors.dialog, $el)[0]\r\n  states.$title = qsa(Selectors.title, $el)[0]\r\n  states.$closeBtn = qsa(Selectors.closeBtn, $el)[0]\r\n  states.$body = qsa(Selectors.body, $el)[0]\r\n  states.$footSlot = qsa(Selectors.footSlot, $el)[0]\r\n  states.$btnsWrap = qsa(Selectors.btns, $el)[0]\r\n  \r\n  if (props.top) {\r\n    let top\r\n    if (NUMBER_REG.test(props.top)) {\r\n      top = props.top + 'px'\r\n    } else if (!isNaN(parseFloat(props.top))) {\r\n      top = props.top \r\n    }\r\n    top && (states.$dialog.style.top = top)\r\n  }\r\n\r\n  if (props.width) {\r\n    let width\r\n    if (NUMBER_REG.test(props.width)) {\r\n      width = props.width + 'px'\r\n    } else if (!isNaN(parseFloat(props.width))) {\r\n      width = props.width \r\n    }\r\n    width && (states.$dialog.style.width = width)\r\n  }\r\n\r\n  // render content\r\n  if (props.content) {\r\n    isElement(props.content) ? states.$body.appendChild(props.content) :\r\n      states.$body.innerHTML = props.content.toString()\r\n  }\r\n  // render footSlot\r\n  if (props.footSlot && states.$footSlot) {\r\n    isElement(props.footSlot) ? states.$footSlot.appendChild(props.footSlot) : states.$footSlot.innerHTML = props.footSlot.toString()\r\n  }\r\n  // render btns\r\n  if (states.$btnsWrap) {\r\n    if (btns && btns.length) {\r\n      states.$btns = []\r\n      btns.forEach(btn => {\r\n        const $btn = createBtn.call(this, btn)\r\n        states.$btnsWrap.appendChild($btn)\r\n        states.$btns.push($btn)\r\n      })\r\n    } else if ($btns) {\r\n      states.isNativeBtn = true\r\n      states.$btnsWrap.appendChild($btns)\r\n    }\r\n  }\r\n\r\n  bindEvents.call(this)\r\n\r\n  if (props.visible) {\r\n    this.open()\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 绑定DOM事件\r\n * @private\r\n */\r\nfunction bindEvents() {\r\n  const { props, states } = this\r\n  const { handles } = states\r\n  const self = this\r\n\r\n  // closeBtn 或者没有事件的按钮点击\r\n  handles.closeBtnClick = this.close.bind(this, 'closeBtn')\r\n\r\n  // wrap click\r\n  handles.wrapClick = function (event) {\r\n    const target = event.target\r\n    if (target === states.$dialog || states.$dialog.contains(target)) {\r\n      return\r\n    }\r\n    self.close('backdrop')\r\n  }\r\n\r\n  // close btn\r\n  states.$closeBtn && bind(states.$closeBtn, 'click', handles.closeBtnClick)\r\n\r\n  // foot btns\r\n  if (!states.isNativeBtn) {\r\n    states.$btns && states.$btns.forEach($btn => {\r\n      let handle = $btn.__handle || handles.closeBtnClick\r\n      bind($btn, 'click', handle)\r\n    })\r\n  }\r\n\r\n  // wrapClick\r\n  props.backdrop && props.backdropClose && bind(states.$el, 'click', handles.wrapClick)\r\n}\r\n\r\n\r\n/**\r\n * 解除DOM事件绑定\r\n * @private\r\n */\r\nfunction unbindEvents() {\r\n  const { props, states } = this\r\n  const { handles } = states\r\n\r\n  // close btn\r\n  states.$closeBtn && unbind(states.$closeBtn, 'click', handles.closeBtnClick)\r\n\r\n  // foot btns\r\n  states.$btns && states.$btns.forEach($btn => {\r\n    let handle = $btn.__handle || handles.closeBtnClick\r\n    unbind($btn, 'click', handle)\r\n  })\r\n\r\n  // wrapClick\r\n  props.backdrop && props.backdropClose && unbind(states.$el, 'click', handles.wrapClick)\r\n}\r\n\r\n\r\n/**\r\n *\r\n * 模态框组件\r\n * @export\r\n * @class Modal\r\n * @extends {Events}\r\n */\r\nexport class Modal extends Events {\r\n\r\n\r\n  /**\r\n   * Creates an instance of Modal.\r\n   * @param {*} options\r\n   * @memberof Modal\r\n   */\r\n  constructor(options) {\r\n    super()\r\n    if (!(this instanceof Modal)) {\r\n      return new Modal(options)\r\n    }\r\n    this.props = mixins({}, defaults, options || {})\r\n    if (!isElement(this.props.appendTo)) {\r\n      throwError('\\'appendTo\\' 必须是一个DOM容器')\r\n    }\r\n    this.states = Object.create(null)\r\n    this.states.handles = Object.create(null)\r\n    this.states.id = UI_NAME + '_' + uuid()\r\n    render.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * open\r\n   * @public\r\n   * @memberof Modal\r\n   */\r\n  open() {\r\n    const { states, props } = this\r\n    const { visible, $el } = states\r\n    if (visible) {\r\n      return\r\n    }\r\n    const self = this\r\n    Popup.open({\r\n      id: states.id,\r\n      backdrop: props.backdrop,\r\n      backdropBackground: props.backdropBackground,\r\n      scrollLock: props.scrollLock,\r\n      zIndex: Popup.nextZIndex(),\r\n      escClose: props.escClose,\r\n      closeHandle(type) {\r\n        self.close(type)\r\n      }\r\n    })\r\n    $el.classList.add('nv-animated--fade-in')\r\n    $el.style.display = 'block'\r\n    $el.style.zIndex = Popup.nextZIndex()\r\n    $el.setAttribute('tabindex', 1)\r\n    states.visible = true\r\n    this.emit('open', $el)\r\n  }\r\n\r\n\r\n  /**\r\n   * close\r\n   * @public\r\n   * @param {*} type\r\n   * @memberof Modal\r\n   */\r\n  close(type) {\r\n    const { states } = this\r\n    if (!states || !states.visible) {\r\n      return\r\n    }\r\n    Popup.close(states.id)\r\n    states.$el.style.display = 'none'\r\n    states.$el.setAttribute('tabindex', -1)\r\n    states.$el.classList.remove('nv-animated--fade-in')\r\n    if (type !== 'destroy') {\r\n      this.emit('close', type, states.$el)\r\n    }\r\n    states.visible = false\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   * @public\r\n   * @memberof Modal\r\n   */\r\n  destroy() {\r\n    const { states } = this\r\n    this.close('destroy')\r\n    unbindEvents.call(this)\r\n    removeNode(states.$el)\r\n    this.states = null\r\n    this.props = null\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default Modal","export const skeletonTpl = `\r\n<div class=\"nv-modal-dialog\" role=\"document\">\r\n  <% if (title || closeBtn) { %>\r\n  <div class=\"nv-modal__head<% if(closeBtn) {%> has-close<% }%><% if(title) {%> has-title<% }%>\">\r\n    <h3 class=\"nv-modal__title\"><%=title%></h3>\r\n    <% if(closeBtn) {%>\r\n    <button type=\"button\" class=\"nv-modal__close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n      <i class=\"nv-icon-close\"></i>\r\n    </button>\r\n    <% }%>\r\n  </div>\r\n  <% }%>\r\n  <div class=\"nv-modal__body\">\r\n  </div>\r\n  <% if(footSlot || btns) {%>\r\n  <div class=\"nv-modal__foot\">\r\n    <% if(footSlot) {%>\r\n    <div class=\"nv-modal__foot_slot\"></div>\r\n    <% } %> \r\n    <% if(btns) {%>\r\n    <div class=\"nv-modal__foot_btns\"></div>\r\n    <% }%>\r\n  </div>\r\n  <% } %>\r\n</div>  \r\n`\r\nexport default skeletonTpl","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: 分页器\r\n * Created: 2018-11-08 11:13\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-08 11:29\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { Events } from '../../utils/events'\r\nimport { isElement, mixins, isEmpty, isArray, hasKey, throwError } from '../../utils/utils'\r\nimport { template } from '../../utils/template'\r\nimport { addClass, qsa, proxy, bind, unbind, removeNode } from '../../utils/dom'\r\nimport { i18n } from '../../utils/i18n'\r\nimport Locales from '../../locale'\r\nimport Select from '../select'\r\nimport { totalTpl, prevTpl, pagerTpl, nextTpl, sizesTpl, jumperTpl, pagerItemsTpl } from './template'\r\nimport { CLASS_STATUS_DISABLED } from '../../utils/constant'\r\n\r\n// ui className\r\nconst UI_NAME = 'nv-pagination'\r\n\r\n// 最小可见页码数量值\r\nconst VISIBLE_MIN = 5\r\n\r\n// 最大可见页码数量值\r\nconst VISIBLE_MAX = 21\r\n\r\n// 可用layout元件\r\nconst LAYOUTS = ['total', 'prev', 'pager', 'next', 'sizes', 'jumper']\r\n\r\n// layout元件与模板对应字典\r\nconst LAYOUT_TPL_MAP = {\r\n  total: totalTpl,\r\n  prev: prevTpl,\r\n  pager: pagerTpl,\r\n  next: nextTpl,\r\n  sizes: sizesTpl,\r\n  jumper: jumperTpl\r\n}\r\n\r\n// 内部选择器\r\nconst Selectors = {\r\n  total: '.nv-pagination__total',\r\n  prev: '.nv-pagination__prev',\r\n  pagers: '.nv-pagination__pagers',\r\n  next: '.nv-pagination__next',\r\n  sizes: '.nv-pagination__sizes',\r\n  jumper: '.nv-pagination__jumper',\r\n  jumperInput: '.pagination-jumper__input',\r\n  pager: '.nv-pager',\r\n}\r\n\r\n// default config\r\nconst defaults = {\r\n  // [ string ] 当前语言\r\n  lang: 'zh-CN',\r\n  // [ number ] 总条目数\r\n  total: null,\r\n  // [ number ] 每页显示条数\r\n  limit: 10,\r\n  // [ number ] 当前页码\r\n  index: 1,\r\n  /**\r\n   * [ number ] 可见页码数量\r\n   * 当总页数超过该值时其他页码会隐藏\r\n   * 大于等于5小于等于21的奇数\r\n   */\r\n  visible: 5,\r\n  /**\r\n   * [ Boolean ] 是否显示截断点\r\n   * 当总页码超过visible数时，其他页码会被显示为...\r\n   */\r\n  ellipsis: true,\r\n  /**\r\n   * [ string | array ] 元件布局\r\n   * 可选元件：'total', 'prev', 'pager', 'next', 'sizes', 'jumper'\r\n   * total: 共 {total} 条\r\n   * prev: 上一页\r\n   * pager: 数字分页，包括上/下页按钮\r\n   * next: 下一页\r\n   * sizes: limit选择器\r\n   * jumper: 跳转到page页\r\n   * 多个元件使用数组或者逗号分隔，元件顺序就是布局顺序\r\n   */\r\n  layout: 'prev, pager, next',\r\n  /**\r\n   * [ string ] 上一页按钮显示文本\r\n   * default时将会显示为箭头\r\n   */\r\n  prevText: 'default',\r\n  /**\r\n   * [ string ] 下一页按钮显示文本\r\n   * default时将会显示为箭头\r\n   */\r\n  nextText: 'default',\r\n  /**\r\n   * [ Array ] limit数选择器\r\n   * 可选的每页显示条目数\r\n   */\r\n  sizes: [10, 20, 50, 100],\r\n  // [ string ] 自定义样式\r\n  customClass: null,\r\n}\r\n\r\n\r\n/**\r\n * 渲染\r\n * @private\r\n */\r\nfunction render() {\r\n  const { props, states, $container } = this\r\n  let layouts = []\r\n  // fixed layout list\r\n  if (!isEmpty(props.layout)) {\r\n    let _layouts = isArray(props.layout) ? props.layout : props.layout.split(',')\r\n    _layouts.forEach(item => {\r\n      item = item.trim()\r\n      if (LAYOUTS.indexOf(item) > -1) {\r\n        layouts.push(item)\r\n      }\r\n    })\r\n  } else {\r\n    layouts = ['prev', 'pager', 'next']\r\n  }\r\n\r\n  const $el = document.createElement('div')\r\n  $el.className = UI_NAME\r\n  addClass($el, props.customClass)\r\n\r\n  let html = ''\r\n\r\n  // 根据layout顺序渲染模板\r\n  layouts.forEach(element => {\r\n    if (hasKey(element, LAYOUT_TPL_MAP)) {\r\n      let tpl = template(LAYOUT_TPL_MAP[element], {\r\n        prevText: props.prevText === 'default' ?\r\n          '<i class=\"nv-icon-arrow-left\"></i>' : props.prevText,\r\n        nextText: props.nextText === 'default' ?\r\n          '<i class=\"nv-icon-arrow-right\"></i>' : props.nextText,\r\n        jumper: states.jumper,\r\n      })\r\n      html += i18n(tpl, states.locale, {})\r\n    }\r\n  })\r\n\r\n  $el.innerHTML = html\r\n\r\n  // 缓存DOM\r\n  states.$el = $el\r\n  states.$total = qsa(Selectors.total, $el)[0]\r\n  states.$prev = qsa(Selectors.prev, $el)[0]\r\n  states.$next = qsa(Selectors.next, $el)[0]\r\n  states.$pagers = qsa(Selectors.pagers, $el)[0]\r\n  states.$sizes = qsa(Selectors.sizes, $el)[0]\r\n  states.$jumper = qsa(Selectors.jumper, $el)[0]\r\n  states.$jumperInput = states.$jumper && qsa(Selectors.jumperInput, states.$jumper)[0]\r\n\r\n  // 设置limit选择器\r\n  if (states.$sizes && states.sizes.length) {\r\n    let options = getLimitOptions.call(this)\r\n    let limitSelectIns = new Select(qsa('input', states.$sizes)[0], {\r\n      options,\r\n      value: states.limit,\r\n      selectClass: 'pagination-sizes-select'\r\n    })\r\n    states.limitSelectIns = limitSelectIns\r\n    limitSelectIns.on('change', value => {\r\n      if (states.limit === value) {\r\n        return\r\n      }\r\n      this.setLimit(value)\r\n    })\r\n  }\r\n\r\n  $container.appendChild($el)\r\n\r\n  updateDom.call(this)\r\n  bindEvents.call(this)\r\n}\r\n\r\n\r\n/**\r\n * 渲染页码\r\n * @private\r\n */\r\nfunction renderPagers() {\r\n  const { states } = this\r\n  let data = getPagers.call(this)\r\n  states.$pagers.innerHTML = template(pagerItemsTpl, {\r\n    data\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * 绑定DOM事件\r\n * @private\r\n */\r\nfunction bindEvents() {\r\n  const self = this\r\n  const { states } = this\r\n  const { handles } = states\r\n  if (states.$pagers) {\r\n    // 页码点击事件\r\n    handles.pagerClick = proxy(states.$pagers, Selectors.pager, function () {\r\n      let classList = this.classList\r\n      if (classList.contains('nv-actived') || classList.contains('nv-pager--ellipsis')) {\r\n        return\r\n      }\r\n      let value = this.getAttribute('data-value')\r\n      value = +value\r\n      if (value) {\r\n        self.setIndex(value)\r\n      }\r\n    })\r\n    bind(states.$pagers, 'click', handles.pagerClick)\r\n  }\r\n\r\n  // prevBtn 点击事件\r\n  handles.prevClick = function () {\r\n    if (states.index > 1) {\r\n      self.setIndex(states.index - 1)\r\n    }\r\n  }\r\n\r\n  // nextBtn 点击事件\r\n  handles.nextClick = function () {\r\n    if (states.index < states.pages) {\r\n      self.setIndex(states.index + 1)\r\n    }\r\n  }\r\n\r\n  // jumperInput Change事件\r\n  handles.jumperChange = function (e) {\r\n    let value = e.target.value.trim()\r\n    value = value === '' ? void 0 : +value\r\n    if (isNaN(value)) {\r\n      value = states.jumper\r\n    } else {\r\n      value = Math.round(Math.abs(value))\r\n      value = Math.min(Math.max(1, value), states.pages)\r\n    }\r\n    self.setIndex(value)\r\n  }\r\n\r\n  states.$prev && bind(states.$prev, 'click', handles.prevClick)\r\n  states.$next && bind(states.$next, 'click', handles.nextClick)\r\n  states.$jumperInput && bind(states.$jumperInput, 'change', handles.jumperChange)\r\n}\r\n\r\n\r\n/**\r\n * 解绑DOM事件\r\n * @private\r\n */\r\nfunction unbindEvents() {\r\n  const { states } = this\r\n  const { handles } = states\r\n  states.$pagers && unbind(states.$pagers, 'click', handles.pagerClick)\r\n  states.$prev && unbind(states.$prev, 'click', handles.prevClick)\r\n  states.$next && unbind(states.$next, 'click', handles.nextClick)\r\n  states.$jumperInput && unbind(states.$jumperInput, 'change', handles.jumperChange)\r\n}\r\n\r\n\r\n/**\r\n * 获取limit选择器选项\r\n * @private\r\n */\r\nfunction getLimitOptions() {\r\n  const { states } = this\r\n  const { sizes } = states\r\n  let options = []\r\n  sizes && sizes.forEach(size => {\r\n    options.push({\r\n      value: size,\r\n      label: size + ''\r\n    })\r\n  })\r\n  return options\r\n}\r\n\r\n\r\n/**\r\n * 生成页码\r\n * @private\r\n * @param {*} value\r\n * @param {*} index\r\n * @param {*} pages\r\n * @returns\r\n */\r\nfunction genPager(value, index, pages) {\r\n  let item = Object.create(null)\r\n  item.value = value\r\n  item.active = value === index\r\n  item.first = value === 1\r\n  item.last = value === pages\r\n  return item\r\n}\r\n\r\n\r\n/**\r\n * 验证prevBtn是否禁用\r\n * @private\r\n */\r\nfunction isDisabledPrev() {\r\n  const { states } = this\r\n  return states.index === 1\r\n}\r\n\r\n\r\n/**\r\n * 验证nextBtn是否禁用\r\n * @private\r\n */\r\nfunction isDisabledNext() {\r\n  const { states } = this\r\n  return states.index === states.pages\r\n}\r\n\r\n\r\n/**\r\n * 获取数字页码列表\r\n * @private\r\n */\r\nfunction getPagers() {\r\n  const { states, props } = this\r\n  const { index, pages } = states\r\n  const { visible, ellipsis } = props\r\n  const data = []\r\n\r\n  // 不显示截断点\r\n  if (!ellipsis) {\r\n    for (let i = 1; i <= pages; i++) {\r\n      data.push(genPager(i, index, pages))\r\n    }\r\n    return data\r\n  }\r\n\r\n  // 显示截断\r\n  const _offset = (visible - 1) / 2\r\n  const offset = {\r\n    start: index - _offset,\r\n    end: index + _offset,\r\n  }\r\n  if (offset.start < 1) {\r\n    offset.end = offset.end + (1 - offset.start)\r\n    offset.start = 1\r\n  }\r\n  if (offset.end > pages) {\r\n    offset.start = offset.start - (offset.end - pages)\r\n    offset.end = pages\r\n  }\r\n  if (offset.start < 1) { offset.start = 1 }\r\n\r\n  let prevEllipsis = (offset.start > 1)\r\n  let nextEllipsis = (offset.end < pages)\r\n\r\n  if (prevEllipsis) {\r\n    data.push(genPager(1, index, pages))  // 1\r\n    data.push(genPager(-1, index, pages)) // ...\r\n  }\r\n  for (let i = offset.start; i <= offset.end; i++) {\r\n    data.push(genPager(i, index, pages))\r\n  }\r\n  if (nextEllipsis) {\r\n    data.push(genPager(-1, index, pages)) // ...\r\n    data.push(genPager(pages, index, pages))  // pages\r\n  }\r\n\r\n  return data\r\n}\r\n\r\n\r\n/**\r\n * 更新States\r\n * 主要是对传入的limit,index,total等值进行校验\r\n * 确保参数的可用性\r\n * @param {*} states\r\n * @private\r\n */\r\nfunction updateStates(states) {\r\n  let isUpdate = false\r\n  for (let k in states) {\r\n    if (['total', 'limit', 'index'].indexOf(k) > -1) {\r\n      let value = isEmpty(states[k]) ? void 0 : +states[k]\r\n      if (k === 'index') {\r\n        let index = value\r\n        this.states[k] = (!isNaN(index) && index > 0) ? Math.round(index) : 1\r\n      } else if (k === 'limit') {\r\n        let limit = value\r\n        this.states[k] = (!isNaN(limit) && limit > 0) ? Math.round(limit) : 10\r\n      } else {\r\n        let total = value\r\n        this.states[k] = (!isNaN(total) && total >= 0) ? Math.ceil(total) : 0\r\n      }\r\n      isUpdate = true\r\n    }\r\n  }\r\n\r\n  if (!isUpdate) {\r\n    return\r\n  }\r\n\r\n  const { total, limit, index } = this.states\r\n\r\n  // total pages\r\n  let pages = Math.ceil(total / limit)\r\n  this.states.pages = pages\r\n  if (index > pages) {\r\n    this.states.index = pages\r\n  }\r\n\r\n  this.states.jumper = this.states.index\r\n}\r\n\r\n\r\n/**\r\n * 更新每页显示条数的列表\r\n * 如果列表中不包含传入的limit\r\n * 则添加limit到该列表\r\n * 并且对limit列表进行排序操作\r\n * @private\r\n */\r\nfunction updateSizes() {\r\n  const { props, states } = this\r\n  let sizes = props.sizes\r\n  if (!isArray(sizes)) {\r\n    sizes = [states.limit]\r\n  }\r\n  if (isArray(sizes)) {\r\n    let newSizes = []\r\n    sizes.map(size => {\r\n      size = +size\r\n      if (!isNaN(size) && size > 0) {\r\n        size = Math.floor(size)\r\n        if (newSizes.indexOf(size) === -1) {\r\n          newSizes.push(size)\r\n        }\r\n      }\r\n    })\r\n    sizes = newSizes\r\n  }\r\n  if (sizes.indexOf(states.limit) === -1) {\r\n    sizes.push(states.limit)\r\n  }\r\n  sizes.sort((a, b) => a - b)\r\n  states.sizes = sizes\r\n}\r\n\r\n\r\n/**\r\n * 更新DOM相关\r\n * @private\r\n */\r\nfunction updateDom() {\r\n  const { states } = this\r\n  const { total, index, limit, pages } = states\r\n\r\n  // 如果记录数为0,则不显示分页\r\n  if (total === 0 || pages === 0) {\r\n    states.$el.classList.add('nv-hide')\r\n    return\r\n  }\r\n\r\n  states.$el.classList.remove('nv-hide')\r\n\r\n  // 更新总记录数\r\n  if (states.$total) {\r\n    states.$total.innerHTML = i18n._(states.locale.total, {\r\n      total,\r\n      index,\r\n      limit,\r\n      pages\r\n    })\r\n  }\r\n\r\n  // 更新数字分页\r\n  if (states.$pagers) {\r\n    renderPagers.call(this)\r\n  }\r\n\r\n  // 切换上一页按钮的禁用状态\r\n  if (states.$prev) {\r\n    let isDisabled = isDisabledPrev.call(this)\r\n    states.$prev.classList[isDisabled ? 'add' : 'remove'](CLASS_STATUS_DISABLED)\r\n    isDisabled ? states.$prev.setAttribute('disabled', 'disabled') : states.$prev.removeAttribute('disabled')\r\n  }\r\n\r\n  // 切换下一页按钮的禁用状态\r\n  if (states.$next) {\r\n    let isDisabled = isDisabledNext.call(this)\r\n    states.$next.classList[isDisabled ? 'add' : 'remove'](CLASS_STATUS_DISABLED)\r\n    isDisabled ? states.$next.setAttribute('disabled', 'disabled') : states.$next.removeAttribute('disabled')\r\n  }\r\n\r\n  // 重设jumper的值,\r\n  if (states.$jumperInput) {\r\n    states.jumper = states.index\r\n    states.$jumperInput.value = states.jumper\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Pagination Component\r\n * @date 2018-11-15\r\n * @export\r\n * @class Pagination\r\n * @extends {Events}\r\n */\r\nexport class Pagination extends Events {\r\n\r\n  /**\r\n   * Creates an instance of Pagination.\r\n   * @date 2018-11-15\r\n   * @param {*} container\r\n   * @param {*} options\r\n   * @memberof Pagination\r\n   */\r\n  constructor(container, options) {\r\n    super()\r\n    if (!(this instanceof Pagination)) {\r\n      return new Pagination(container, options)\r\n    }\r\n    if (!isElement(container)) {\r\n      throwError('\\'container\\' 必须是一个DOM容器', 'type')\r\n    }\r\n    this.$container = container\r\n    this.props = mixins({}, defaults, options || {})\r\n    this.states = Object.create(null)\r\n    this.states.handles = Object.create(null)\r\n    this.states.pages = 0\r\n\r\n    // 初始化语言包\r\n    let locales = Locales[this.props.lang] || Locales['en']\r\n    this.states.locale = locales['pagination'] || Object.create(null)\r\n\r\n    // 处理visible num\r\n    let { visible } = this.props\r\n    visible = +visible\r\n    if (!isNaN(visible)) {\r\n      // 必须是奇数\r\n      if (visible % 2 === 0) {\r\n        visible++\r\n      }\r\n      visible = Math.max(visible, VISIBLE_MIN)\r\n      visible = Math.min(visible, VISIBLE_MAX)\r\n    } else {\r\n      visible = VISIBLE_MIN\r\n    }\r\n    this.props.visible = visible\r\n\r\n    // 处理 total, index, limit\r\n    updateStates.call(this, this.props)\r\n    updateSizes.call(this)\r\n    render.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * 设置总记录数\r\n   * 如异步获取某个列表时，同时会返回相应的总记录条数\r\n   * 此时调用该方法可以更新组件\r\n   * @param {Number} total\r\n   * @public\r\n   * @memberof Pagination\r\n   */\r\n  setTotal(total) {\r\n    updateStates.call(this, {\r\n      total\r\n    })\r\n    // total改变的话需要重新设置页码\r\n    this.states.index = this.states.jumper = 1\r\n    updateDom.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * 设置当前页码\r\n   * 用来从外部更新当前页码\r\n   * 内部会自动校验页码的有效性\r\n   * @param {Number} index\r\n   * @public\r\n   * @memberof Pagination\r\n   */\r\n  setIndex(index) {\r\n    let oldIndex = this.states.index\r\n    updateStates.call(this, {\r\n      index\r\n    })\r\n    updateDom.call(this)\r\n    if (oldIndex !== this.states.index) {\r\n      this.emit('change', this.states.index, this.states.limit, this.states.pages)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 设置每页显示条数\r\n   * 如果每页显示条数列表（下拉列表）中不包含\r\n   * 该值，会自动加入\r\n   * @param {*} limit\r\n   * @public\r\n   * @memberof Pagination\r\n   */\r\n  setLimit(limit) {\r\n    const { states } = this\r\n    let oldLimit = states.limit\r\n    updateStates.call(this, {\r\n      limit\r\n    })\r\n    // 已经更新后的limit\r\n    limit = states.limit\r\n    // 没有变化的化，不做任何操作\r\n    if (limit === oldLimit) {\r\n      return\r\n    }\r\n    // 重置当前页码\r\n    states.index = states.jumper = 1\r\n    updateDom.call(this)\r\n    if (states.limitSelectIns) {\r\n      let sizes = states.sizes\r\n      // 如果原有的sizeList里面不包含当前的limit,则插入进去\r\n      if (sizes.indexOf(limit) === -1) {\r\n        sizes.push(limit)\r\n        sizes.sort((a, b) => a - b)\r\n        states.sizes = sizes\r\n        // 更新limitSelect组件\r\n        states.limitSelectIns.setOptions(getLimitOptions.call(this))\r\n        states.limitSelectIns.setValue(limit)\r\n      }\r\n    }\r\n    this.emit('change', this.states.index, this.states.limit, this.states.pages)\r\n  }\r\n\r\n\r\n  /**\r\n   * 销毁当前组件\r\n   * @public\r\n   * @memberof Pagination\r\n   */\r\n  destroy() {\r\n    const { states } = this\r\n    unbindEvents.call(this)\r\n    // 移除当前DOM\r\n    removeNode(states.$el)\r\n    // 销毁limit选择器组件\r\n    states.limitSelectIns && states.limitSelectIns.destroy()\r\n    this.$container = null\r\n    this.states = null\r\n    this.props = null\r\n    this._events = null\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Pagination","// total record \r\nexport const totalTpl = `\r\n<span class=\"nv-pagination__cell nv-pagination__label nv-pagination__total\">{i18n:total}</span>\r\n`\r\n// prev btn\r\nexport const prevTpl = `\r\n<button type=\"button\" class=\"nv-pagination__cell nv-pagination__prev\">\r\n  <%= prevText %>\r\n</button>\r\n`\r\n// next btn\r\nexport const nextTpl = `\r\n<button type=\"button\" class=\"nv-pagination__cell nv-pagination__next\">\r\n  <%= nextText %>\r\n</button>\r\n`\r\n\r\n// pagers wrap\r\nexport const pagerTpl = `\r\n<ul class=\"nv-pagination__cell nv-pagination__pagers\">\r\n</ul>\r\n`\r\n\r\nexport const sizesTpl = `\r\n<div class=\"nv-pagination__cell nv-pagination__sizes\">\r\n  <input type=\"text\">\r\n  <span class=\"nv-pagination__label\">{i18n:eachPage}</span>\r\n</div>\r\n`\r\n\r\n\r\nexport const jumperTpl = `\r\n<div class=\"nv-pagination__cell nv-pagination__jumper\">\r\n  <span class=\"nv-pagination__label\">{i18n:jumper}</span>\r\n  <input type=\"text\" class=\"nv-input pagination-jumper__input\" value=\"<%= jumper%>\">\r\n  <span class=\"nv-pagination__label\">{i18n:unit}</span>\r\n</div>\r\n`\r\n\r\nexport const pagerItemsTpl = `\r\n<% for(var i = 0, len = data.length; i < len; i++) {\r\n  var pager = data[i];\r\n%>\r\n  <% if(pager.value === -1) {%>\r\n    <li class=\"nv-pager nv-pager--ellipsis\"></li>\r\n  <% } else { %>\r\n    <li class=\"nv-pager<% if(pager.active){ %> nv-actived<% }%>\" data-value=\"<%= pager.value%>\"><%= pager.value %></li>\r\n  <% }%>\r\n<% }%>\r\n`\r\n\r\n\r\nexport default {\r\n  totalTpl,\r\n  prevTpl,\r\n  pagerTpl,\r\n  nextTpl,\r\n  sizesTpl,\r\n  jumperTpl,\r\n  pagerItemsTpl\r\n}","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Popover/Select/DatePicker/TimePicker...\r\n * Created: 2018-11-13 02:14\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-13 02:27\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { Events } from '../../utils/events'\r\nimport { mixins, isElement, throwError } from '../../utils/utils'\r\nimport { bind, unbind, qsa, addClass, removeNode, getScrollParent } from '../../utils/dom'\r\nimport { template } from '../../utils/template'\r\nimport { Popup } from '../../utils/popup'\r\nimport { getPlacement } from './placements'\r\nimport { skeletonTpl } from './template'\r\n\r\n// ui class name\r\nconst UI_NAME = 'nv-picker'\r\n\r\n// selectors\r\nconst Selectors = {\r\n  arrow: '.nv-picker__arrow',\r\n  body: '.nv-picker__body'\r\n}\r\n\r\n// 默认配置\r\nexport const defaults = {\r\n  // 触发方式 click|focus|hover\r\n  trigger: 'click',\r\n  // 内容，string | HTMLElement\r\n  content: null,\r\n  // 相对target位置\r\n  placement: 'bottom',\r\n  // 相对target距离\r\n  margin: 12,\r\n  // 自定义样式\r\n  customClass: null,\r\n  // 是否禁用\r\n  disabled: false,\r\n  // 是否显示箭头\r\n  showArrow: true,\r\n  // 自动校正位置\r\n  autoCorrect: true,\r\n  // 关闭时是隐藏还是销毁\r\n  closeType: 'hide', // hide | destroy\r\n}\r\n\r\n\r\n/**\r\n * target click\r\n * @param {*} event\r\n * @private \r\n */\r\nconst handleToggle = function () {\r\n  const { states } = this\r\n  const display = states.$picker && states.$picker.style.display\r\n  if (display === 'none' || !states.visible) {\r\n    this.open()\r\n  } else {\r\n    this.close()\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 区域外点击\r\n * @param {*} event\r\n * @private \r\n */\r\nconst handleDocumentClick = function (event) {\r\n  const target = event.target\r\n  const { $target, states } = this\r\n  const { $picker } = states\r\n  if (\r\n    (target !== $picker) &&\r\n    (target !== $target) &&\r\n    ($target && !$target.contains(target)) &&\r\n    ($picker && !$picker.contains(target))\r\n  ) {\r\n    this.close()\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 设置位置\r\n * @private\r\n */\r\nconst setPosition = function () {\r\n  const { states, $target, props } = this\r\n  const { $picker } = states\r\n  if ($picker && states.visible) {\r\n    let placement = getPlacement($target, $picker, props.placement, props.margin, props.autoCorrect)\r\n    $picker.style.cssText += `top:${placement.top}px;left:${placement.left}px;`\r\n    $picker.setAttribute('x-placement', placement.placement)\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * mouseenter event\r\n * @private\r\n */\r\nfunction handleMouseenter () {\r\n  this.states.hoverTimer && clearTimeout(this.states.hoverTimer)\r\n  this.open()\r\n}\r\n\r\n\r\n/**\r\n * mouseleave event\r\n * @private\r\n */\r\nfunction handleMouseleave () {\r\n  this.states.hoverTimer = setTimeout(() => {\r\n    this.close()\r\n    this.states.hoverTimer = null\r\n  }, 200)\r\n}\r\n\r\n\r\n/**\r\n * picker mouseenter event\r\n * 200ms 内如果鼠标重新划过target或者picker，则清除定时器\r\n * @private\r\n */\r\nfunction handlePickerMouseenter () {\r\n  this.states.hoverTimer && clearTimeout(this.states.hoverTimer)\r\n}\r\n\r\n\r\n/**\r\n * 绑定事件\r\n * @private\r\n */\r\nconst bindEvents = function () {\r\n  const { states, props, $target } = this\r\n  const { handles } = states\r\n  handles.targetClick = handleToggle.bind(this)\r\n  handles.documentClick = handleDocumentClick.bind(this)\r\n  handles.open = this.open.bind(this)\r\n  handles.close = this.close.bind(this)\r\n  handles.resize = setPosition.bind(this)\r\n  handles.targetMouseenter = handleMouseenter.bind(this)\r\n  handles.mouseleave = handleMouseleave.bind(this)\r\n  handles.pickerMouseenter = handlePickerMouseenter.bind(this)\r\n\r\n\r\n  switch (props.trigger) {\r\n    case 'focus':\r\n      bind($target, 'focusin', handles.targetClick)\r\n      bind($target, 'focusout', handles.close)\r\n      break\r\n    case 'hover':\r\n      bind($target, 'mouseenter', handles.targetMouseenter)\r\n      bind($target, 'mouseleave', handles.mouseleave)\r\n      break\r\n    case 'click':\r\n    default:\r\n      bind($target, 'click', handles.targetClick)\r\n      bind(document, 'click', handles.documentClick)\r\n      break\r\n  }\r\n\r\n  window.addEventListener('resize', handles.resize)\r\n  window.addEventListener('scroll', handles.resize)\r\n  states.$scrollParent.addEventListener('scroll', handles.resize)\r\n}\r\n\r\n\r\n/**\r\n * 解绑事件\r\n * @private\r\n */\r\nconst unbindEvents = function () {\r\n  const { states, props, $target } = this\r\n  const { handles } = states\r\n  switch (props.trigger) {\r\n    case 'focus':\r\n      unbind($target, 'focusin', handles.open)\r\n      unbind($target, 'focusout', handles.close)\r\n      break\r\n    case 'hover':\r\n      unbind($target, 'mouseenter', handles.open)\r\n      unbind($target, 'mouseleave', handles.close)\r\n      break\r\n    case 'click':\r\n    default:\r\n      unbind($target, 'click', handles.targetClick)\r\n      unbind(document, 'click', handles.documentClick)\r\n      break\r\n  }\r\n\r\n  states.$picker && unbind(states.$picker, 'click', handles.pickerClick)\r\n  window.removeEventListener('resize', handles.resize)\r\n  window.removeEventListener('scroll', handles.resize)\r\n  states.$scrollParent.removeEventListener('scroll', handles.resize)\r\n}\r\n\r\n\r\n/**\r\n * render dom\r\n * @private\r\n */\r\nconst render = function () {\r\n  const { states, props } = this\r\n  const $picker = document.createElement('div')\r\n  $picker.className = UI_NAME\r\n  addClass($picker, props.customClass)\r\n  // render\r\n  $picker.innerHTML = template(skeletonTpl, {\r\n    showArrow: props.showArrow\r\n  })\r\n\r\n  // insert content\r\n  let $body = qsa(Selectors.body, $picker)[0]\r\n  if (isElement(props.content)) {\r\n    $body.appendChild(props.content)\r\n  } else {\r\n    $body.innerHTML = (props.content || '').toString()\r\n  }\r\n\r\n  $picker.style.display = 'none'\r\n  document.body.appendChild($picker)\r\n  states.$picker = $picker\r\n  states.visible = false\r\n\r\n  if (!states.handles.pickerClick) {\r\n    const self = this\r\n    states.handles.pickerClick = function (event) {\r\n      self.emit('click', event)\r\n    }\r\n  }\r\n\r\n  unbind($picker, 'click', states.handles.pickerClick)\r\n  bind($picker, 'click', states.handles.pickerClick)\r\n\r\n  if (props.trigger === 'hover') {\r\n    unbind($picker, 'mouseenter', states.handles.pickerMouseenter)\r\n    bind($picker, 'mouseenter', states.handles.pickerMouseenter)\r\n    unbind($picker, 'mouseleave', states.handles.mouseleave)\r\n    bind($picker, 'mouseleave', states.handles.mouseleave)\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * Picker Component\r\n * @date 2018-11-13\r\n * @export\r\n * @class Picker\r\n * @extends {Events}\r\n */\r\nexport class Picker extends Events {\r\n\r\n\r\n  /**\r\n   * Creates an instance of Picker.\r\n   * @date 2018-11-13\r\n   * @param {*} target\r\n   * @param {*} options\r\n   * @memberof Picker\r\n   */\r\n  constructor(target, options) {\r\n    super()\r\n    if (!target || !isElement(target)) {\r\n      throwError('\\'target\\' 必须是一个DOM容器', 'type')\r\n    }\r\n    if (!(this instanceof Picker)) {\r\n      return new Picker(target, options)\r\n    }\r\n    this.props = mixins({}, defaults, options || {})\r\n    this.$target = target\r\n    let margin = +this.props.margin\r\n    if (isNaN(margin)) {\r\n      margin = 0\r\n    }\r\n    this.props.margin = margin\r\n    const states = this.states = Object.create(null)\r\n    states.visible = false\r\n    states.handles = Object.create(null)\r\n    states.$scrollParent = getScrollParent(target)\r\n    states.hoverTimer = null\r\n    // events bind\r\n    bindEvents.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * Open\r\n   * @date 2018-11-13\r\n   * @memberof Picker\r\n   */\r\n  open() {\r\n    const { states, props } = this\r\n    if (props.disabled) {\r\n      return\r\n    }\r\n    if (!states.$picker) {\r\n      states.visible = false\r\n      render.call(this)\r\n      this.emit('created', states.$picker)\r\n    }\r\n    const { $picker } = states\r\n    // 容错\r\n    if (states.visible) {\r\n      return\r\n    }\r\n\r\n    $picker.style.zIndex = Popup.nextZIndex()\r\n    $picker.style.visibility = 'hidden'\r\n    $picker.style.display = 'block'\r\n    states.visible = true\r\n    setPosition.call(this)\r\n    $picker.style.visibility = null\r\n    this.emit('open', $picker)\r\n  }\r\n\r\n\r\n  /**\r\n   * Close\r\n   * @date 2018-11-13\r\n   * @memberof Picker\r\n   */\r\n  close() {\r\n    const { states, props } = this\r\n    const { $picker } = states\r\n    if (props.disabled || !states.visible || !$picker) {\r\n      return\r\n    }\r\n\r\n    if (props.closeType === 'destroy') {\r\n      $picker && $picker.parentNode.removeChild($picker)\r\n      states.$picker = null\r\n    } else {\r\n      $picker.style.display = 'none'\r\n    }\r\n\r\n    this.emit('close', $picker)\r\n    states.visible = false\r\n  }\r\n\r\n\r\n  /**\r\n   * update placement\r\n   * @date 2018-11-13\r\n   * @memberof Picker\r\n   */\r\n  updatePlacement() {\r\n    if (this.props.disabled) {\r\n      return\r\n    }\r\n    setPosition.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * disable\r\n   * @date 2018-11-13\r\n   * @memberof Picker\r\n   */\r\n  disable() {\r\n    this.props.disabled = true\r\n  }\r\n\r\n\r\n  /**\r\n   * enable\r\n   * @date 2018-11-13\r\n   * @memberof Picker\r\n   */\r\n  enable() {\r\n    this.props.disabled = false\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   * @date 2018-11-13\r\n   * @memberof Picker\r\n   */\r\n  destroy() {\r\n    unbindEvents.call(this)\r\n    const { states } = this\r\n    removeNode(states.$picker)\r\n    this.states = null\r\n    this.$target = null\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default Picker","/*\r\n * File: placements.js\r\n * Project: @vnnox/novaui\r\n * Description: 自动获取Picker相对target的位置\r\n * Created: 2018-11-13 02:13\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-13 02:14\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { getOffset } from '../../utils/dom'\r\n\r\nexport const PLACEMENTS = ['top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left', 'left-start', 'left-end', 'right', 'right-start', 'right-end']\r\n\r\n/**\r\n * 获取picker的placement\r\n * @param {Element} target 目标元素\r\n * @param {Element} picker picker元素\r\n * @param {string} placement one of PLACEMENTS\r\n * @param {number} margin \r\n * @param {boolean} auto 自动调整位置\r\n * @returns {object}\r\n */\r\nexport const getPlacement = (target, picker, placement, margin, auto) => {\r\n  placement = PLACEMENTS.indexOf(placement) > -1 ? placement : 'bottom'\r\n  margin = margin || 0\r\n  let top\r\n  let left\r\n  let tarRect = getOffset(target)\r\n  let width = picker.offsetWidth\r\n  let height = picker.offsetHeight\r\n  let { top: tT, left: tL } = tarRect\r\n  let tW = target.offsetWidth\r\n  let tH = target.offsetHeight\r\n\r\n  if (auto) {\r\n    let CW = window.innerWidth\r\n    let CH = window.innerHeight\r\n    let rect = target.getBoundingClientRect()\r\n    // target 距离底部的距离\r\n    let rectBottom = rect.top + tH\r\n    // target 距离右部的距离\r\n    let rectRight = rect.left + tW\r\n    // 上面放不下\r\n    const aboveOverflow = (height + margin) > rect.top\r\n    // 下面放不下\r\n    const belowOverflow = (CH - rectBottom) < (height + margin)\r\n    // 左边放不下\r\n    const leftOverflow = (width + margin) > rect.left\r\n    // 右边放不下\r\n    const rightOverflow = (CW - rectRight) < (width + margin)\r\n\r\n    // 如果上面放不下，则放在下面\r\n    if (!!~placement.indexOf('top') && aboveOverflow) {\r\n      placement = placement.replace('top', 'bottom')\r\n    } \r\n    // 如果下面放不下，且上面放的下，则放在上面\r\n    else if (!!~placement.indexOf('bottom') && belowOverflow && !aboveOverflow) {\r\n      placement = placement.replace('bottom', 'top')\r\n    }\r\n\r\n    // 如果左边放不下，则放在右边\r\n    if (!!~placement.indexOf('left') && leftOverflow) {\r\n      placement = placement.replace('left', 'right')\r\n    } \r\n    // 如果右边放不下并且左边放得下，则放在左边\r\n    else if (!!~placement.indexOf('right') && rightOverflow && !leftOverflow) {\r\n      placement = placement.replace('right', 'left')\r\n    }\r\n  }\r\n\r\n  switch (placement) {\r\n    case 'top':\r\n      top = tT - height - margin\r\n      left = tL + tW / 2 - width / 2\r\n      break\r\n    case 'top-start':\r\n      top = tT - height - margin\r\n      left = tL\r\n      break\r\n    case 'top-end':\r\n      top = tT - height - margin\r\n      left = tL + tW - width\r\n      break\r\n    case 'bottom':\r\n    default:\r\n      top = tT + tH + margin\r\n      left = tL + tW / 2 - width / 2\r\n      break\r\n    case 'bottom-start':\r\n      top = tT + tH + margin\r\n      left = tL\r\n      break\r\n    case 'bottom-end':\r\n      top = tT + tH + margin\r\n      left = tL + tW - width\r\n      break\r\n    case 'left':\r\n      top = tT + tH / 2 - height / 2\r\n      left = tL - width - margin\r\n      break\r\n    case 'left-start':\r\n      top = tT\r\n      left = tL - width - margin\r\n      break\r\n    case 'left-end':\r\n      top = tT + tH - height\r\n      left = tL - width - margin\r\n      break\r\n    case 'right':\r\n      top = tT + tH / 2 - height / 2\r\n      left = tL + tW + margin\r\n      break\r\n    case 'right-start':\r\n      top = tT\r\n      left = tL + tW + margin\r\n      break\r\n    case 'right-end':\r\n      top = tT + tH - height\r\n      left = tL + tW + margin\r\n      break\r\n  }\r\n  return {\r\n    top,\r\n    left,\r\n    placement\r\n  }\r\n}\r\n\r\n\r\nexport default {\r\n  PLACEMENTS,\r\n  getPlacement\r\n}","export const skeletonTpl = `\r\n<% if(showArrow) { %>\r\n<span class=\"nv-picker__arrow\"></span>\r\n<% }%>\r\n<div class=\"nv-picker__body\"></div>\r\n`\r\nexport default {\r\n  skeletonTpl\r\n}","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Used for ...\r\n * Created: 2018-11-22 09:14\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-22 09:15\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { defaults as PickerDefaults, Picker } from '../picker'\r\nimport { mixins, isElement, isFunction, hasKey, throwError } from '../../utils/utils'\r\nimport Events from '../../utils/events'\r\nimport template from '../../utils/template'\r\nimport { skeletonTpl } from './template'\r\nimport { qsa, getSize, bind, unbind } from '../../utils/dom'\r\n\r\n// ui name\r\nconst UI_NAME = 'nv-popover'\r\n\r\n// empty function\r\nconst noop = function () { }\r\n\r\n// popover default config\r\nconst popoverDefaults = {\r\n  title: '',\r\n  width: '200px',\r\n  asHtml: false,\r\n  showConfirm: false,\r\n  showCancel: false,\r\n  confirmText: '是',\r\n  cancelText: '否',\r\n  confirmCss: 'nv-btn--primary',\r\n  cancelCss: 'nv-btn--link',\r\n  onConfirm: null,\r\n  onCancel: null,\r\n  customClass: '',\r\n  closeType: 'destroy'\r\n}\r\n\r\n// mixins picker default config\r\nconst defaults = mixins({}, PickerDefaults, popoverDefaults)\r\n\r\n// selectors\r\nconst Selectors = {\r\n  content: '.nv-popover__content',\r\n  confirm: '.nv-popover__confirm',\r\n  cancel: '.nv-popover__cancel'\r\n}\r\n\r\n\r\n/**\r\n * 创建按钮\r\n * @param {*} text \r\n * @param {*} css \r\n * @param {*} handle \r\n */\r\nfunction genBtn(text, css, handle) {\r\n  const btn = Object.create(null)\r\n  handle = isFunction(handle) ? handle : noop\r\n  const self = this\r\n  btn.text = text\r\n  btn.css = css\r\n  btn.handle = function () {\r\n    if (handle() === false) {\r\n      return\r\n    }\r\n    self.close()\r\n  }\r\n  return btn\r\n}\r\n\r\n\r\n/**\r\n * render\r\n * @private\r\n */\r\nfunction render() {\r\n  const { props, states } = this\r\n  const $el = document.createElement('div')\r\n  $el.className = UI_NAME\r\n  let width = getSize(props.width)\r\n  if (width) {\r\n    $el.style.width = width\r\n  }\r\n  let { confirm, cancel } = {}\r\n  if (props.showConfirm) {\r\n    confirm = genBtn.call(this, props.confirmText, props.confirmCss, props.onConfirm)\r\n    states.confirm = confirm.handle\r\n  }\r\n  if (props.showCancel) {\r\n    cancel = genBtn.call(this, props.cancelText, props.cancelCss, props.onCancel)\r\n    states.cancel = cancel.handle\r\n  }\r\n  $el.innerHTML = template(skeletonTpl, {\r\n    title: (props.title || '').toString().trim(),\r\n    confirm,\r\n    cancel\r\n  })\r\n\r\n  states.$el = $el\r\n  states.$content = qsa(Selectors.content, $el)[0]\r\n  states.$confirm = qsa(Selectors.confirm, $el)[0]\r\n  states.$cancel = qsa(Selectors.cancel, $el)[0]\r\n\r\n  states.$content[props.asHtml ? 'innerHTML' : 'textContent'] = (props.content || '').toString()\r\n\r\n  initPickerInstance.call(this)\r\n  bindEvents.call(this)\r\n}\r\n\r\n\r\n/**\r\n * bind dom events\r\n * @private\r\n */\r\nfunction bindEvents() {\r\n  const { states } = this\r\n  states.confirm && bind(states.$confirm, 'click', states.confirm)\r\n  states.cancel && bind(states.$cancel, 'click', states.cancel)\r\n}\r\n\r\n\r\n/**\r\n * unbind dom events\r\n * @private\r\n */\r\nfunction unbindEvents() {\r\n  const { states } = this\r\n  states.confirm && unbind(states.$confirm, 'click', states.confirm)\r\n  states.cancel && unbind(states.$cancel, 'click', states.cancel)\r\n}\r\n\r\n\r\n/**\r\n * init picker instance\r\n * @private\r\n */\r\nfunction initPickerInstance() {\r\n  const { states, props } = this\r\n  const options = mixins({}, props)\r\n  for (let k in popoverDefaults) {\r\n    if (hasKey(k, options)) {\r\n      delete options[k]\r\n    }\r\n  }\r\n  options.content = states.$el\r\n  options.customClass = (props.customClass || '') + ',nv-picker--popover'\r\n  options.closeType = props.closeType || 'destroy'\r\n  \r\n  states.pickerInstance = new Picker(states.$target, options)\r\n  states.pickerInstance\r\n    .on('open', () => {\r\n      states.pickerOpened = true\r\n      this.emit('open', states.pickerInstance)\r\n    })\r\n    .on('close', () => {\r\n      states.pickerOpened = false\r\n      this.emit('close', states.pickerInstance)\r\n    })\r\n}\r\n\r\n\r\n/**\r\n * Popover Component\r\n * @export\r\n * @class Popover\r\n * @extends {Events}\r\n */\r\nexport class Popover extends Events {\r\n\r\n\r\n  /**\r\n   * Creates an instance of Popover.\r\n   * @param {*} target\r\n   * @param {*} options\r\n   * @memberof Popover\r\n   */\r\n  constructor(target, options) {\r\n    super()\r\n    if (!(this instanceof Popover)) {\r\n      return new Popover(target, options)\r\n    }\r\n    this.props = mixins({}, defaults, options || {})\r\n    if (!isElement(target)) {\r\n      throwError('\\'target\\' 必须是一个DOM元素')\r\n    }\r\n    this.states = Object.create(null)\r\n    this.states.$target = target\r\n    this.states.pickerOpened = false\r\n    render.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * open\r\n   * @public\r\n   * @memberof Popover\r\n   */\r\n  open() {\r\n    if (!this.states.pickerOpened) {\r\n      this.states.pickerInstance.open()\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * close\r\n   * @public\r\n   * @memberof Popover\r\n   */\r\n  close() {\r\n    if (this.states.pickerOpened) {\r\n      this.states.pickerInstance.close()\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   * @public\r\n   * @memberof Popover\r\n   */\r\n  destroy() {\r\n    unbindEvents.call(this)\r\n    this.states.pickerInstance.destroy()\r\n    this.states = null\r\n    this.props = null\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default Popover","export const skeletonTpl = `\r\n<%if (title) {%>\r\n  <h3 class=\"nv-popover__title\"><%= title%></h3>\r\n<% }%>  \r\n<div class=\"nv-popover__content\"></div>\r\n<% if (cancel || confirm) { %>\r\n<div class=\"nv-popover__btns\">\r\n  <% if(cancel) {%>\r\n  <button type=\"button\" class=\"nv-btn nv-btn--small nv-popover__cancel <%=cancel.css%>\"><%=cancel.text%></button>  \r\n  <% } if (confirm) {%>\r\n  <button type=\"button\" class=\"nv-btn nv-btn--small nv-popover__confirm <%=confirm.css%>\"><%=confirm.text%></button>\r\n  <% }%>    \r\n</div>\r\n<% }%>\r\n`\r\nexport default {\r\n  skeletonTpl\r\n}","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Select Picker\r\n * Created: 2018-11-13 02:32\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-15 09:07\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { Events } from '../../utils/events'\r\nimport { mixins, isElement, isArray, isPlainObject, isFunction, isString, isPrimitive, escapeRegExp, throwError } from '../../utils/utils'\r\nimport { template } from '../../utils/template'\r\nimport { insertAfter, qsa, proxy, bind, unbind, addClass, scrollTo, getOffsetByParent, removeNode } from '../../utils/dom'\r\nimport { debounce } from '../../utils/debounce'\r\nimport { CLASS_STATES_ACTIVED, CLASS_STATUS_DISABLED, CLASS_STATES_HOVER, CLASS_STATES_FOCUS } from '../../utils/constant'\r\nimport { Picker } from '../picker'\r\nimport { skeletonTpl, optionGroupsTpl, optionsTpl, pickerSkeletonTpl } from './template'\r\n\r\n\r\n// ui className\r\nconst UI_NAME = 'nv-select'\r\nconst UI_PICKER_NAME = 'nv-select-picker'\r\n\r\n// 输入框可选尺寸\r\nconst INPUT_SIZE = ['small', 'large']\r\n\r\n// 分组的属性名称\r\nconst ATTRIBUTE_GROUP = 'data-group'\r\n// 索引的属性名称\r\nconst ATTRIBUTE_INDEX = 'data-index'\r\n\r\n// selectors\r\nconst Selectors = {\r\n  input: '.nv-select__value',\r\n  clean: '.nv-select__clean',\r\n  search: '.select-picker__search',\r\n  optionsWrap: '.select-options__wrap',\r\n  option: '.nv-select__option',\r\n  openClass: 'nv-select--open'\r\n}\r\n\r\n// default config\r\nconst defaults = {\r\n  // [ string | number | boolean | array ] 初始值\r\n  value: null,\r\n  // [ string ] 显示在输入框中的取值key \r\n  valueKey: 'label', // option.label\r\n  // [ boolean ] 多选\r\n  multiple: false,\r\n  // [ string ] 多选时，选中值在输入框中的展现模板\r\n  multipleValueTpl: '{label}等{count}项',\r\n  // [ array ] 选项\r\n  options: [],\r\n  // [ string ] 输入框占位符\r\n  placeholder: '请选择',\r\n  // [ boolean ] 分组\r\n  groupable: false,\r\n  // [ boolean ] 是否禁用\r\n  disabled: false,\r\n  // [ boolean ] 是否可以清除\r\n  clearable: false,\r\n  // [ boolean ] 是否可搜索\r\n  searchable: false,\r\n  // [ function ] 过滤器\r\n  filter: null,\r\n  // [ boolean ] 异步获取数据\r\n  loadByAsync: false,\r\n  // [ boolean ] 异步搜索数据\r\n  searchByAsync: false,\r\n  // [ string ] select name属性,\r\n  name: null,\r\n  // [ string ] // 输入框尺寸 [ 可选值 ] [ small | default | large ]\r\n  inputSize: 'default',\r\n  // [ string ] select自定义样式\r\n  selectClass: null,\r\n  // [ string ] picker自定义样式\r\n  pickerClass: null,\r\n  // [ string ] 加载中文案\r\n  loadingText: '加载中...',\r\n  // [ string ] 无选项文案\r\n  noDataText: '无数据',\r\n  // [ string ] 无匹配数据\r\n  noMatchDataText: '无匹配数据',\r\n  // [ function ] option渲染器\r\n  render: null,\r\n}\r\n\r\n\r\n/**\r\n * 渲染select\r\n * @private\r\n */\r\nfunction render() {\r\n  const { states, props } = this\r\n  const { $target, isInput } = states\r\n  const $select = document.createElement('div')\r\n  $select.className = UI_NAME\r\n  addClass($select, props.selectClass)\r\n  if (props.disabled) {\r\n    $select.classList.add(CLASS_STATUS_DISABLED)\r\n  }\r\n  if (props.multiple) {\r\n    addClass($select, 'nv-select--multiple')\r\n  }\r\n\r\n  // 输入框尺寸样式\r\n  const inputSizeClassName = props.inputSize !== 'default' && INPUT_SIZE.indexOf(props.inputSize) > -1 ? `nv-input--${props.inputSize}` : ''\r\n\r\n  $select.innerHTML = template(skeletonTpl, {\r\n    disabled: props.disabled,\r\n    clearable: props.clearable,\r\n    placeholder: props.placeholder,\r\n    name: props.name,\r\n    inputSizeClassName\r\n  })\r\n\r\n  $select.setAttribute('role', 'combobox')\r\n\r\n  // 插入元素\r\n  isInput ? insertAfter($target, $select) : $target.appendChild($select)\r\n  \r\n  states.$select = $select\r\n  states.$input = qsa(Selectors.input, $select)[0]\r\n  states.$clean = qsa(Selectors.clean, $select)[0]\r\n  const $selectPicker = document.createElement('div')\r\n  $selectPicker.className = UI_PICKER_NAME\r\n  addClass($selectPicker, props.pickerClass)\r\n\r\n  props.multiple && addClass($selectPicker, 'select-picker--multiple')\r\n\r\n  $selectPicker.innerHTML = template(pickerSkeletonTpl, {\r\n    searchable: props.searchable,\r\n    placeholder: props.searchPlaceholder || ''\r\n  })\r\n\r\n  states.$selectPicker = $selectPicker\r\n  states.$optionsWrap = qsa(Selectors.optionsWrap, $selectPicker)[0]\r\n  \r\n  // 实例化picker\r\n  initPicker.call(this)\r\n  // 绑定dom事件\r\n  bindEvents.call(this)\r\n}\r\n\r\n\r\n/**\r\n * 初始化picker组件\r\n * @private\r\n */\r\nfunction initPicker() {\r\n  const { states, props } = this\r\n  const { $select, $selectPicker } = states\r\n  // 实例化picker\r\n  states.pickerInstance = new Picker($select, {\r\n    content: $selectPicker,\r\n    placement: 'bottom-start',\r\n    trigger: 'click',\r\n    disabled: props.disabled,\r\n    showArrow: false,\r\n    margin: 2\r\n  })\r\n\r\n  // picker open\r\n  states.pickerInstance.on('open', () => {\r\n    // 设置picker的最小宽度为input的宽度\r\n    $selectPicker.style.minWidth = states.$input.offsetWidth + 'px'\r\n    // 如果是可搜索，则在picker打开时设置输入框可输入\r\n    states.pickerOpened = true\r\n    if (props.searchable) {\r\n      states.$input.removeAttribute('readonly')\r\n      states.$input.value = ''\r\n      // 将placeholder设置为当前value\r\n      states.label && states.$input.setAttribute('placeholder', states.label)\r\n    }\r\n    let index = -1\r\n    states.$options && states.$options.forEach(($option, idx) => {\r\n      if (index === -1 && $option.classList.contains(CLASS_STATES_ACTIVED)) {\r\n        $option.classList.add(CLASS_STATES_HOVER)\r\n        index = idx\r\n      } else {\r\n        $option.classList.remove(CLASS_STATES_HOVER)\r\n      }\r\n    })\r\n    states.keydownIndex = index\r\n    this.emit('open')\r\n    $select.classList.add(Selectors.openClass)\r\n  })\r\n\r\n  // picker close\r\n  states.pickerInstance.on('close', () => {\r\n    // 回复input的属性和value\r\n    states.pickerOpened = false\r\n    states.keydownIndex = -1\r\n    states.$input.setAttribute('readonly', true)\r\n    states.$input.value = states.label\r\n    states.$input.setAttribute('placeholder', props.placeholder || '')\r\n    $select.classList.remove(Selectors.openClass)\r\n    scrollTo(states.$optionsWrap, 0, 0)\r\n    // 清空搜索\r\n    if (states.keyword) {\r\n      states.keyword = ''\r\n      renderOptions.call(this)\r\n    }\r\n    this.emit('close')\r\n  })\r\n\r\n  // picker click\r\n  states.pickerInstance.on('click', () => states.$input.focus())\r\n}\r\n\r\n\r\n/**\r\n * 渲染options list\r\n * @param {*} items\r\n * @private \r\n */\r\nfunction renderOptions(items) {\r\n  const { props, states } = this\r\n  const { options, $optionsWrap } = states\r\n  items = items || options\r\n  states.$options = null\r\n  if (items.length) {\r\n    $optionsWrap.innerHTML = template(props.groupable ? optionGroupsTpl : optionsTpl, {\r\n      options: items,\r\n      disabled: props.disabled,\r\n      render(option, index, groupId) {\r\n        let html\r\n        if (isFunction(props.render)) {\r\n          html = props.render(option, index, groupId)\r\n        } else {\r\n          html = option.label\r\n        }\r\n        return isString(html) ? html : index\r\n      }\r\n    })\r\n    states.$options = qsa(Selectors.option, $optionsWrap)\r\n    toggleOptionsActived.call(this, items)\r\n  } else {\r\n    $optionsWrap.innerHTML = `<div class=\"nv-select__empty\">${states.keyword ? props.noMatchDataText : props.noDataText}</div>`\r\n  }\r\n  states.pickerInstance && states.pickerInstance.updatePlacement()\r\n}\r\n\r\n\r\n/**\r\n * 显示加载中\r\n * @private\r\n */\r\nfunction renderLoading() {\r\n  const { props, states } = this\r\n  const { $optionsWrap } = states\r\n  states.$options = null\r\n  $optionsWrap.innerHTML = `<div class=\"nv-select__loading\">${props.loadingText}</div>`\r\n  states.pickerInstance && states.pickerInstance.updatePlacement()\r\n}\r\n\r\n\r\n/**\r\n * 设置指定option元素选中\r\n * @param {array} options 选项列表\r\n * @private\r\n */\r\nfunction toggleOptionsActived(options) {\r\n  const { states, props } = this\r\n  const { value, $options } = states\r\n  if (!$options || (value === void 0 || value === null) || !options.length) {\r\n    return\r\n  }\r\n  let thisValue = isArray(value) ? value : [value]\r\n  $options.forEach(($el, idx) => {\r\n    let group = +$el.getAttribute(ATTRIBUTE_GROUP)\r\n    let index = +$el.getAttribute(ATTRIBUTE_INDEX)\r\n    let currentValue\r\n    if (props.groupable) {\r\n      currentValue = options[group].options[index].value\r\n    } else {\r\n      currentValue = options[index].value\r\n    }\r\n    if (thisValue.indexOf(currentValue) > -1) {\r\n      $el.classList.add(CLASS_STATES_ACTIVED)\r\n      if (states.keydownIndex === -1) {\r\n        states.keydownIndex = idx\r\n      }\r\n    } else {\r\n      $el.classList.remove(CLASS_STATES_ACTIVED)\r\n    }\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * select获得焦点\r\n * @private\r\n * @param {*} event \r\n */\r\nfunction handleSelectFocus(event) {\r\n  const { states, props } = this\r\n  if (props.disabled) {\r\n    return\r\n  }\r\n  states.focusTimer && clearTimeout(states.focusTimer)\r\n  // 如果之前已经获取焦点，为防止重复触发事件\r\n  if (!states.focusin) {\r\n    this.emit('focus', event)\r\n  }\r\n  states.focusin = true\r\n  states.$input.classList.add(CLASS_STATES_FOCUS)\r\n}\r\n\r\n\r\n/**\r\n * select 失去焦点\r\n * @private\r\n * @param {*} event \r\n */\r\nfunction handleSelectBlur(event) {\r\n  const { states, props } = this\r\n  if (props.disabled) {\r\n    return\r\n  }\r\n  states.focusTimer && clearTimeout(states.focusTimer)\r\n  // 在picker上面点击使select获取焦点，实际上是先失去焦点，再获取的。\r\n  // 这里定时器保持其状态不变\r\n  states.focusTimer = setTimeout(() => {\r\n    states.focusin = false\r\n    states.$input.classList.remove(CLASS_STATES_FOCUS)\r\n    states.focusTimer = null\r\n    this.emit('blur', event)\r\n  }, 200)\r\n}\r\n\r\n\r\n/**\r\n * 清空按钮点击\r\n * @private\r\n * @param {*} event\r\n */\r\nfunction handleCleanClick(event) {\r\n  const { states, props } = this\r\n  if (props.clearable && states.$select.classList.contains('show-clean')) {\r\n    event.stopPropagation()\r\n    states.pickerInstance.close()\r\n    this.clean()\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 键盘事件\r\n * @private\r\n * @param {*} event \r\n */\r\nfunction handleInputKeydown(event) {\r\n  if (!this.states.pickerOpened) {\r\n    return\r\n  }\r\n \r\n  let code = event.keyCode\r\n  if (code === 13 || code === 27 || code === 38 || code === 40) {\r\n    event.preventDefault()\r\n    switch (code) {\r\n      case 38:\r\n        toggleOptionSelectedByKeydown.call(this, 'prev')\r\n        break\r\n      case 40:\r\n        toggleOptionSelectedByKeydown.call(this, 'next')\r\n        break\r\n      case 27:\r\n        this.states.pickerInstance.close()\r\n        break\r\n      case 13:\r\n        toggleSelectedOptionByEnter.call(this)\r\n        break\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n *\r\n * 通过上下键来获取当前切换到的选项的索引\r\n * @private\r\n * @param {*} index\r\n * @param {*} type\r\n * @param {*} $options\r\n * @returns\r\n */\r\nfunction getIndex(index, type, $options) {\r\n  let len = $options.length - 1\r\n  if (type === 'prev') {\r\n    index--\r\n  } else {\r\n    index++\r\n  }\r\n  if (index < 0) {\r\n    index = len\r\n  }\r\n  if (index > len) {\r\n    index = 0\r\n  }\r\n  if ($options[index].classList.contains(CLASS_STATUS_DISABLED)) {\r\n    return getIndex(type === 'prev' ? --index : ++index, type, $options)\r\n  }\r\n  return index\r\n}\r\n\r\n\r\n/**\r\n * 通过键盘来切换选项\r\n * @private\r\n * @param {*} type \r\n */\r\nfunction toggleOptionSelectedByKeydown(type) {\r\n  const { states } = this\r\n  const { $options } = states\r\n  let index = states.keydownIndex\r\n  index = getIndex(index, type, $options)\r\n  states.keydownIndex = index\r\n  $options.forEach(($option, idx) => {\r\n    if (idx === index) {\r\n      $option.classList.add(CLASS_STATES_HOVER)\r\n    } else {\r\n      $option.classList.remove(CLASS_STATES_HOVER)\r\n    }\r\n  })\r\n  let offset = getOffsetByParent($options[index], states.$optionsWrap)\r\n  scrollTo(states.$optionsWrap, offset.top, 0)\r\n}\r\n\r\n\r\n/**\r\n * 通过enter键来切换选项的选中状态\r\n * @private\r\n */\r\nfunction toggleSelectedOptionByEnter() {\r\n  const { states, props } = this\r\n  const { $options } = states\r\n  let { value } = states\r\n  let $option = $options[states.keydownIndex]\r\n  let group = $option.getAttribute(ATTRIBUTE_GROUP)\r\n  let index = $option.getAttribute(ATTRIBUTE_INDEX)\r\n  let option\r\n  if (props.groupable) {\r\n    option = states.options[group].options[index]\r\n  } else {\r\n    option = states.options[index]\r\n  }\r\n  if (!option || option.disabled) {\r\n    return\r\n  }\r\n  if (!props.multiple) {\r\n    this.setValue(option.value, true)\r\n    states.pickerInstance.close()\r\n  } else {\r\n    let findIndex = value.indexOf(option.value)\r\n    if (findIndex > -1) {\r\n      value.splice(findIndex, 1)\r\n    } else {\r\n      value.push(option.value)\r\n    }\r\n    this.setValue(value, true)\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * bind events\r\n * @private\r\n */\r\nfunction bindEvents() {\r\n  const { props, states } = this\r\n  const handles = states.handles\r\n  const self = this\r\n\r\n  /**\r\n   * 代理事件\r\n   * 选项点击事件\r\n   */\r\n  handles.optionClick = proxy(states.$optionsWrap, Selectors.option, function () {\r\n    const options = states.options\r\n    let currentValue = states.value || []\r\n    currentValue = isArray(currentValue) ? currentValue : [currentValue]\r\n\r\n    let groupIndex = this.getAttribute(ATTRIBUTE_GROUP)\r\n    let index = this.getAttribute(ATTRIBUTE_INDEX)\r\n    let option\r\n    if (props.groupable) {\r\n      option = options[groupIndex] && options[groupIndex].options && options[groupIndex].options[index]\r\n    } else {\r\n      option = options[index]\r\n    }\r\n    let selectedIndex = currentValue.indexOf(option.value)\r\n    if (option && !option.disabled) {\r\n      // 如果是多选\r\n      // 如果已经选中，则需要取消选择\r\n      if (props.multiple) {\r\n        selectedIndex > -1 ?\r\n          currentValue.splice(selectedIndex, 1) :\r\n          currentValue.push(option.value)\r\n      } else {\r\n        // 单选的话就直接使用当前值\r\n        currentValue = option.value\r\n        states.pickerInstance.close()\r\n      }\r\n      self.setValue(currentValue, true)\r\n    }\r\n  })\r\n\r\n  // select focus and blur\r\n  handles.selectFocus = handleSelectFocus.bind(this)\r\n  handles.selectBlur = handleSelectBlur.bind(this)\r\n  handles.selectClick = function () {\r\n    if (!props.disabled) {\r\n      states.$input.focus()\r\n    }\r\n  }\r\n  // clean btn click\r\n  handles.cleanClick = handleCleanClick.bind(this)\r\n\r\n  // input keyup\r\n  handles.searchOption = debounce(function () {\r\n    if (!props.searchable) {\r\n      return\r\n    }\r\n    let value = states.$input.value\r\n    value = value && value.trim()\r\n    states.keyword = value\r\n    searchOptions.call(self)\r\n  }, props.searchByAsync ? 300 : 100)\r\n\r\n  handles.inputKeydown = handleInputKeydown.bind(this)\r\n\r\n  bind(states.$optionsWrap, 'click', handles.optionClick)\r\n  bind(states.$input, 'focusin', handles.selectFocus)\r\n  bind(states.$input, 'focusout', handles.selectBlur)\r\n  bind(states.$select, 'click', handles.selectClick)\r\n  states.$clean && bind(states.$clean, 'click', handles.cleanClick)\r\n  bind(states.$input, 'keyup', handles.searchOption)\r\n  bind(states.$input, 'keydown', handles.inputKeydown)\r\n}\r\n\r\n\r\n/**\r\n * 解绑事件\r\n * @private\r\n */\r\nfunction unbindEvents() {\r\n  const { states } = this\r\n  const { handles } = states\r\n  states.$optionsWrap && unbind(states.$optionsWrap, 'click', handles.optionClick)\r\n  unbind(states.$input, 'focusin', handles.selectFocus)\r\n  unbind(states.$input, 'focusout', handles.selectBlur)\r\n  unbind(states.$select, 'click', handles.selectClick)\r\n  states.$clean && unbind(states.$clean, 'click', handles.cleanClick)\r\n  unbind(states.$input, 'keyup', handles.searchOption)\r\n  unbind(states.$input, 'keydown', handles.inputKeydown)\r\n}\r\n\r\n\r\n/**\r\n * 搜索选项\r\n * @private\r\n */\r\nfunction searchOptions() {\r\n  const { states, props } = this\r\n  // 显示loading\r\n  renderLoading.call(this)\r\n  this.emit('search', states.keyword, states.options)\r\n  // 如果是远程搜索，直接结束，等待请求后调用setOptions\r\n  // 远程搜索的话需要重置options\r\n  if (props.searchByAsync) {\r\n    states.options.length = 0\r\n    states.$option = null\r\n    return\r\n  }\r\n  // 本地搜索\r\n  renderOptions.call(this, filterOptions.call(this))\r\n}\r\n\r\n\r\n/**\r\n * 过滤选项\r\n * @private\r\n */\r\nfunction filterOptions() {\r\n  const { states, props } = this\r\n  const { options } = states\r\n  if (!options || !options.length) {\r\n    return []\r\n  }\r\n  let keyword = states.keyword\r\n  if (keyword) {\r\n    // 如果自定义了过滤器\r\n    if (props.filter && isFunction(props.filter)) {\r\n      let items = props.filter(keyword, options)\r\n      return isArray(items) ? items : options\r\n    }\r\n    // 否则匹配关键字\r\n    let items = []\r\n    let reg = new RegExp(escapeRegExp(keyword), 'i')\r\n    options.map(item => {\r\n      if (props.groupable) {\r\n        let child = item.options.filter(option => {\r\n          return reg.test(option.label || option.value) || reg.test(option.value)\r\n        })\r\n        if (child.length) {\r\n          items.push({\r\n            label: item.label,\r\n            options: child\r\n          })\r\n        }\r\n      } else {\r\n        if (reg.test(item.label || item.value) || reg.test(item.value)) {\r\n          items.push(item)\r\n        }\r\n      }\r\n    })\r\n    return items\r\n  } else {\r\n    return options\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 通过value查找option\r\n * @private\r\n * @param {*} value \r\n * @returns {object | void 0}\r\n */\r\nfunction findOptionByValue(value) {\r\n  let { props, states } = this\r\n  let { options } = states\r\n  let size = options.length\r\n  let option\r\n  if (props.groupable) {\r\n    let g = -1\r\n    while (++g < size) {\r\n      let group = options[g].options\r\n      for (let i = 0, len = group.length; i < len; i++) {\r\n        if (!group[i].disabled && group[i].value === value) {\r\n          option = group[i]\r\n          break\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    let i = -1\r\n    while (++i < size) {\r\n      if (!options[i].disabled && options[i].value === value) {\r\n        option = options[i]\r\n        break\r\n      }\r\n    }\r\n  }\r\n  return option\r\n}\r\n\r\n\r\n\r\n/**\r\n * Select Component\r\n * @date 2018-11-15\r\n * @export\r\n * @class Select\r\n * @extends {Events}\r\n */\r\nexport class Select extends Events {\r\n\r\n\r\n  /**\r\n   * Creates an instance of Select.\r\n   * @date 2018-11-15\r\n   * @param {*} target\r\n   * @param {*} options\r\n   * @memberof Select\r\n   */\r\n  constructor(target, options) {\r\n    super()\r\n    if (!(this instanceof Select)) {\r\n      return new Select(target, options)\r\n    }\r\n    if (!isElement(target)) {\r\n      throwError('\\'target\\' 必须是一个DOM容器', 'type')\r\n    }\r\n    let isInput = target.nodeName === 'INPUT'\r\n    if (isInput) {\r\n      target.setAttribute('hidden', true)\r\n    }\r\n    this.props = mixins({}, defaults, options)\r\n    this.states = Object.create(null)\r\n    this.states.$target = target\r\n    this.states.isInput = isInput\r\n    // 选项列表\r\n    this.states.options = []\r\n    // 当前值\r\n    this.states.value = null\r\n    // 当前输入框中的值\r\n    this.states.label = ''\r\n    this.states.keyword = ''\r\n    this.states.focusin = false\r\n    this.states.handles = Object.create(null)\r\n    this.states.pickerOpened = false\r\n    // 通过keydown选中的元素索引\r\n    this.states.keydownIndex = -1\r\n\r\n    ;['label', 'value'].indexOf(this.props.valueKey) === -1 && (this.props.valueKey = 'label')\r\n\r\n    render.call(this)\r\n\r\n    if (!this.props.loadByAsync) {\r\n      this.setOptions(this.props.options)\r\n    } else {\r\n      // 显示加载中，直到options加载完成，调用setOptions方法\r\n      renderLoading.call(this)\r\n    }\r\n    this.setValue(this.props.value, false)\r\n  }\r\n\r\n\r\n  /**\r\n   * set options\r\n   * @date 2018-11-15\r\n   * @param {*} options\r\n   * @memberof Select\r\n   */\r\n  setOptions(options) {\r\n    let items = []\r\n    const { props, states } = this\r\n    if (options && isArray(options) && options.length) {\r\n      options.forEach(option => {\r\n        if (isPlainObject(option)) {\r\n          // 如果是分组\r\n          let item = Object.create(null)\r\n          if (props.groupable) {\r\n            item.label = option.label\r\n            item.options = []\r\n            if (option.options && isArray(option.options)) {\r\n              option.options.forEach(child => {\r\n                if (child.value !== void 0) {\r\n                  item.options.push({\r\n                    label: child.label || child.value,\r\n                    value: child.value,\r\n                    disabled: child.disabled\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          } else {\r\n            if (option.value !== void 0) {\r\n              item = {\r\n                label: option.label || option.value,\r\n                value: option.value,\r\n                disabled: option.disabled\r\n              }\r\n            }\r\n          }\r\n          items.push(item)\r\n        }\r\n      })\r\n    }\r\n    states.options = items\r\n    renderOptions.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * set value\r\n   * @date 2018-11-15\r\n   * @param {*} value\r\n   * @param {*} isChange\r\n   * @memberof Select\r\n   */\r\n  setValue(value, isChange) {\r\n    const { props, states } = this\r\n    if (props.disabled) {\r\n      return\r\n    }\r\n\r\n    let _value = []\r\n    let selectedOptions = []\r\n\r\n    if (value !== void 0 && value !== null) {\r\n      if (isPrimitive(value)) {\r\n        _value.push(value)\r\n      } else if (isArray(value)) {\r\n        _value = _value.concat(value)\r\n      }\r\n    }\r\n\r\n    _value.forEach(item => {\r\n      let option = findOptionByValue.call(this, item)\r\n      if (option) {\r\n        selectedOptions.push(option)\r\n      }\r\n    })\r\n\r\n    let label\r\n    let thisValue\r\n    let selectedLen = selectedOptions.length\r\n    if (selectedLen) {\r\n      if (!props.multiple) {\r\n        selectedOptions = selectedOptions[0]\r\n        label = selectedOptions[props.valueKey]\r\n        thisValue = selectedOptions.value\r\n      } else {\r\n        thisValue = []\r\n        if (selectedLen === 1) {\r\n          label = selectedOptions[0][props.valueKey]\r\n        } else {\r\n          // 多选的时候显示为 XXX等n项\r\n          label = props.multipleValueTpl\r\n            .replace(/{label}/, selectedOptions[0][props.valueKey])\r\n            .replace(/{count}/, selectedOptions.length)\r\n        }\r\n        selectedOptions.forEach(option => thisValue.push(option.value))\r\n      }\r\n    } else {\r\n      thisValue = props.multiple ? [] : null\r\n    }\r\n\r\n    this.states.value = thisValue || null\r\n    // 切换选中值样式\r\n    toggleOptionsActived.call(this, states.options)\r\n    // 设置输入框的显示值\r\n    states.label = label || ''\r\n    states.$input.value = states.label\r\n    // display cleanbtn\r\n    let hasValue = props.multiple ? thisValue.length : thisValue\r\n    if (hasValue && props.clearable) {\r\n      states.$select.classList.add('show-clean')\r\n    } else {\r\n      states.$select.classList.remove('show-clean')\r\n    }\r\n    if (isChange) {\r\n      this.emit('change', thisValue, selectedOptions)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * get value\r\n   * @date 2018-11-15\r\n   * @returns\r\n   * @memberof Select\r\n   */\r\n  getValue() {\r\n    return this.states.value\r\n  }\r\n\r\n\r\n  /**\r\n   * clean value\r\n   * @date 2018-11-15\r\n   * @memberof Select\r\n   */\r\n  clean() {\r\n    if (this.props.disabled) {\r\n      return\r\n    }\r\n    this.setValue(null, true)\r\n  }\r\n\r\n\r\n  /**\r\n   * disable the component\r\n   * @date 2018-11-15\r\n   * @memberof Select\r\n   */\r\n  disable() {\r\n    const { props, states } = this\r\n    const { $select, $input } = states\r\n    addClass($select, CLASS_STATUS_DISABLED)\r\n    $input.setAttribute('disabled', true)\r\n    props.disabled = true\r\n    if (states.pickerInstance) {\r\n      states.pickerInstance.close()\r\n      states.pickerInstance.disable()\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * enable the component\r\n   * @date 2018-11-15\r\n   * @memberof Select\r\n   */\r\n  enable() {\r\n    const { props, states } = this\r\n    const { $select, $input } = states\r\n    $select.classList.remove(CLASS_STATUS_DISABLED)\r\n    $input.removeAttribute('disabled')\r\n    props.disabled = false\r\n    renderOptions.call(this, states.options)\r\n    states.pickerInstance && states.pickerInstance.enable()\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   * @date 2018-11-15\r\n   * @memberof Select\r\n   */\r\n  destroy() {\r\n    const { states } = this\r\n    const { $target } = states\r\n    states.focusTimer && clearTimeout(states.focusTimer)\r\n    states.pickerInstance && states.pickerInstance.destroy()\r\n    unbindEvents.call(this)\r\n    $target && $target.removeAttribute('hidden')\r\n    removeNode(states.$select)\r\n    this.states = null\r\n    this.$target = null\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default Select","// 骨架\r\nexport const skeletonTpl = `\r\n<input type=\"text\" class=\"nv-input nv-select__value\" name=\"<%=name%>\" readonly autocomplete=\"off\"<%if (disabled) {%> disabled<% } if (placeholder) {%> placeholder=\"<%=placeholder%>\"<%}%> />\r\n<% if (clearable) { %>\r\n<a class=\"nv-select__clean\"><i class=\"nv-icon-close\"></i></a>\r\n<% } %> \r\n`\r\n\r\n// picker骨架\r\nexport const pickerSkeletonTpl = `\r\n<div class=\"select-options__wrap\"></div>\r\n`\r\n\r\n// options group\r\nexport const optionGroupsTpl = `\r\n<% for(var i = 0, len = options.length; i < len; i++) { \r\n  var group = options[i];\r\n%>\r\n<div class=\"nv-select__group\">\r\n  <h5 class=\"nv-select__title\"><%= group.label%></h5>\r\n  <ul class=\"nv-select__options\">\r\n    <% for(var j = 0, size = group.options.length; j < size; j++) { \r\n      var option = group.options[j];\r\n    %>\r\n    <li class=\"nv-select__option<% if (disabled || option.disabled) {%> nv-disabled<% }%>\" data-group=\"<%= i%>\" data-index=\"<%= j%>\"><%= render(option, j, i)%></li>\r\n    <% }%>\r\n  </ul>\r\n</div>\r\n<% }%>\r\n`\r\n\r\n// options\r\nexport const optionsTpl = `\r\n<ul class=\"nv-select__options\">\r\n  <% for(var j = 0, size = options.length; j < size; j++) { \r\n    var option = options[j];\r\n  %>\r\n  <li class=\"nv-select__option<% if (disabled || option.disabled) {%> nv-disabled<% }%>\" data-group=\"0\" data-index=\"<%= j%>\"><%= render(option, j, 0)%></li>\r\n  <% }%>\r\n</ul>\r\n`\r\n\r\nexport default {\r\n  skeletonTpl,\r\n  pickerSkeletonTpl,\r\n  optionGroupsTpl,\r\n  optionsTpl\r\n}","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Slider Component\r\n * Created: 2018-11-16 10:17\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-16 11:08\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { Events } from '../../utils/events'\r\nimport { template } from '../../utils/template'\r\nimport { addClass, insertAfter, qsa, bind, unbind, removeNode } from '../../utils/dom'\r\nimport { isElement, mixins, isFunction, throwError } from '../../utils/utils'\r\nimport { correctProps } from '../input-number/utils'\r\nimport { CLASS_STATUS_DISABLED } from '../../utils/constant'\r\nimport { skeletonTpl } from './template'\r\n\r\n// ui name\r\nconst UI_NAME = 'nv-slider'\r\n\r\n// 选择器\r\nconst Selectors = {\r\n  runway: '.nv-slider__runway',\r\n  progress: '.nv-slider__progress',\r\n  thumb: '.nv-slider__thumb',\r\n  tooltip: '.nv-slider__tooltip'\r\n}\r\n\r\n// input 原生属性\r\nconst NATIVE_PROPERTIES = ['value', 'disabled', 'min', 'max', 'step']\r\n\r\n// default config\r\nconst defaults = {\r\n  // 当前值\r\n  value: 0,\r\n  // min value\r\n  min: 0,\r\n  // max value\r\n  max: 100,\r\n  // step\r\n  step: 1,\r\n  // 精度\r\n  precision: null,\r\n  // 禁用\r\n  disabled: false,\r\n  // tooltip\r\n  tooltip: true,\r\n  // 垂直\r\n  vertical: false,\r\n  // vertical 时必须指定高度\r\n  height: '200px',\r\n  // 自定义样式\r\n  customClass: null,\r\n  // 格式化\r\n  tipFormatter: null\r\n}\r\n\r\n\r\n/**\r\n * render\r\n * @private\r\n */\r\nfunction render() {\r\n  const { props, states } = this\r\n  const { $container } = states\r\n  const $el = document.createElement('div')\r\n  $el.className = UI_NAME\r\n  addClass($el, props.customClass)\r\n  props.disabled && addClass($el, CLASS_STATUS_DISABLED)\r\n  props.vertical && addClass($el, 'nv-slider--vertical')\r\n\r\n  $el.innerHTML = template(skeletonTpl, {\r\n    tooltip: props.tooltip,\r\n    disabled: props.disabled\r\n  })\r\n\r\n  // 无障碍属性\r\n  $el.setAttribute('role', 'slider')\r\n  $el.setAttribute('aria-valuemin', props.min)\r\n  $el.setAttribute('aria-valuemax', props.max)\r\n  $el.setAttribute('aria-orientation', props.vertical ? 'vertical' : 'horizontal')\r\n  $el.setAttribute('aria-disabled', props.disabled)\r\n\r\n  if (states.isInput) {\r\n    insertAfter($container, $el)\r\n  } else {\r\n    $container.appendChild($el)\r\n  }\r\n\r\n  // cached dom\r\n  states.$el = $el\r\n  states.$runway = qsa(Selectors.runway, $el)[0]\r\n  states.$progress = qsa(Selectors.progress, $el)[0]\r\n  states.$thumb = qsa(Selectors.thumb, $el)[0]\r\n  states.$tooltip = qsa(Selectors.tooltip, $el)[0]\r\n\r\n  // fixed height\r\n  if (props.vertical) {\r\n    let height = props.height\r\n    if (/\\d+/g.test(height)) {\r\n      height = Math.abs(parseFloat(height)) + 'px'\r\n    }\r\n    states.$runway.style.height = height\r\n  }\r\n\r\n  bindEvents.call(this)\r\n}\r\n\r\n\r\n/**\r\n * bind events\r\n * @private\r\n */\r\nfunction bindEvents() {\r\n  const { states } = this\r\n  const { handles } = states\r\n  handles.dragStart = handleDragStart.bind(this)\r\n  handles.dragMove = handleDragMove.bind(this)\r\n  handles.dragEnd = handleDragEnd.bind(this)\r\n  handles.runwayClick = handleRunwayClick.bind(this)\r\n  handles.keydown = handleKeydown.bind(this)\r\n\r\n  bind(states.$runway, 'click', handles.runwayClick)\r\n  bind(states.$thumb, 'mousedown', handles.dragStart)\r\n  bind(states.$thumb, 'touchstart', handles.dragStart)\r\n  bind(states.$thumb, 'keydown', handles.keydown)\r\n}\r\n\r\n\r\n/**\r\n * unbind events\r\n * @private\r\n */\r\nfunction unbindEvents() {\r\n  const { states } = this\r\n  const { handles } = states\r\n  unbind(states.$runway, 'click', handles.runwayClick)\r\n  unbind(states.$thumb, 'mousedown', handles.dragStart)\r\n  unbind(states.$thumb, 'touchstart', handles.dragStart)\r\n}\r\n\r\n\r\n/**\r\n * 获取一个兼容移动端的event\r\n * @method\r\n * @param {*} event \r\n */\r\nfunction getEvent(event) {\r\n  if (event.type.indexOf('touch') > -1) {\r\n    event.clientY = event.touches[0].clientY\r\n    event.clientX = event.touches[0].clientX\r\n  }\r\n  return event\r\n}\r\n\r\n\r\n/**\r\n * 通过鼠标位置计算当前值\r\n * @private\r\n * @param {*} event \r\n */\r\nfunction getValueByEvent(event) {\r\n  const { props, states } = this\r\n  const { rect } = states\r\n  event = getEvent(event)\r\n  const pos = props.vertical ? event.clientY : event.clientX\r\n\r\n  const offset = props.vertical ? (rect.top + rect.height) - pos : (pos - rect.left)\r\n  let value = getValueByOffset.call(this, offset) + props.min\r\n  return value\r\n}\r\n\r\n\r\n/**\r\n * 通过位移计算值\r\n * @private\r\n * @param {*} offset \r\n */\r\nfunction getValueByOffset(offset) {\r\n  const { props, states } = this\r\n  const { rect, segmentation } = states\r\n  const { step, vertical } = props\r\n  let value = 0\r\n  if (isNaN(offset)) {\r\n    return value\r\n  }\r\n  value = Math.round(offset / ((vertical ? rect.height : rect.width) / segmentation)) * step\r\n  return value\r\n}\r\n\r\n\r\n/**\r\n * mousedown | touchstart\r\n * @private\r\n * @param {*} event \r\n */\r\nfunction handleDragStart(event) {\r\n  const { props, states } = this\r\n  if (props.disabled) {\r\n    return\r\n  }\r\n  const { handles } = states\r\n  event = getEvent(event)\r\n  // 记录初始位置\r\n  states.pos = props.vertical ? event.clientY : event.clientX\r\n  // 设置flag\r\n  states.dragging = true\r\n  states.$el.classList.add('nv-slider--dragging')\r\n  states.$thumb.classList.add('nv-slider--dragging')\r\n  // 每次拖动前记录下轨道的长度，\r\n  // 之所以不在渲染完成后记录，是防止浏览器缩放后轨道长度变化\r\n  updateRect.call(this)\r\n\r\n  // 阻止事件传播到轨道上\r\n  event.preventDefault()\r\n  bind(document, 'mousemove', handles.dragMove)\r\n  bind(document, 'mouseup', handles.dragEnd)\r\n  bind(window, 'touchmove', handles.dragMove)\r\n  bind(document, 'touchend', handles.dragEnd)\r\n  bind(document, 'contextmenu', handles.dragEnd)\r\n}\r\n\r\n\r\n/**\r\n * mousemove | touchmove\r\n * @private\r\n * @param {*} event \r\n */\r\nfunction handleDragMove(event) {\r\n  const { props, states } = this\r\n  if (props.disabled || !states.dragging) {\r\n    return\r\n  }\r\n  const value = getValueByEvent.call(this, event)\r\n  this.setValue(value, true)\r\n}\r\n\r\n\r\n/**\r\n * mouseup | touchend\r\n * @param {*} event \r\n */\r\nfunction handleDragEnd() {\r\n  const { states } = this\r\n  if (!states.dragging) {\r\n    return\r\n  }\r\n  const { handles } = states\r\n  unbind(document, 'mousemove', handles.dragMove)\r\n  unbind(document, 'mouseup', handles.dragEnd)\r\n  unbind(document, 'touchmove', handles.dragMove)\r\n  unbind(document, 'touchend', handles.dragEnd)\r\n  unbind(document, 'contextmenu', handles.dragEnd)\r\n  setTimeout(() => {\r\n    states.dragging = false\r\n    states.$el.classList.remove('nv-slider--draging')\r\n    states.$thumb.classList.remove('nv-slider--dragging')\r\n  }, 0)\r\n}\r\n\r\n\r\n/**\r\n * click runway\r\n * @private\r\n * @param {*} event \r\n */\r\nfunction handleRunwayClick(event) {\r\n  const { states, props } = this\r\n  if (props.disabled || states.dragging) {\r\n    return\r\n  }\r\n  updateRect.call(this)\r\n  const value = getValueByEvent.call(this, event)\r\n  this.setValue(value, true)\r\n}\r\n\r\n\r\n/**\r\n * keydown event\r\n * @private\r\n * @param {*} event\r\n */\r\nfunction handleKeydown(event) {\r\n  const { props, states } = this\r\n  if (props.disabled) {\r\n    return\r\n  }\r\n  let code = event.keyCode\r\n  if (code === 38 || code === 39) {\r\n    this.setValue(states.value + props.step, true)\r\n  } else if (code === 37 || code === 40) {\r\n    this.setValue(states.value - props.step, true)\r\n  }\r\n}\r\n\r\n/**\r\n * 由于浏览器缩放导致runway宽度变化\r\n * 因此在每次拖动前重新计算runway的位置信息\r\n * @private\r\n */\r\nfunction updateRect() {\r\n  const { states } = this\r\n  const rect = states.$runway.getBoundingClientRect()\r\n  states.rect = {\r\n    top: rect.top,\r\n    left: rect.left,\r\n    width: states.$runway.offsetWidth,\r\n    height: states.$runway.offsetHeight\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 更新DOM UI\r\n * @private\r\n */\r\nfunction updatePosition() {\r\n  const { props, states } = this\r\n  const { value } = states\r\n  const percentage = (value - props.min) / (props.max - props.min)\r\n  states.$progress.style[props.vertical ? 'height' : 'width'] = percentage * 100 + '%'\r\n  states.$thumb.style[props.vertical ? 'bottom' : 'left'] = percentage * 100 + '%'\r\n}\r\n\r\n\r\n\r\n/**\r\n * Slider Component\r\n * @date 2018-11-16\r\n * @export\r\n * @class Slider\r\n * @extends {Events}\r\n */\r\nexport class Slider extends Events {\r\n  \r\n  /**\r\n   * Creates an instance of Slider.\r\n   * @date 2018-11-16\r\n   * @param {*} container\r\n   * @param {*} options\r\n   * @memberof Slider\r\n   */\r\n  constructor(container, options) {\r\n    super()\r\n    if (!container || !isElement(container)) {\r\n      throwError('\\'container\\' 必须是一个DOM容器', 'type')\r\n    }\r\n    if (!(this instanceof Slider)) {\r\n      return new Slider(container, options)\r\n    }\r\n\r\n    let isInput = false\r\n    // 如果target是input，取其原生属性作为备选配置\r\n    const nativeProperties = Object.create(null)\r\n    if (container.nodeName === 'INPUT') {\r\n      NATIVE_PROPERTIES.forEach(property => nativeProperties[property] = container[property])\r\n      container.setAttribute('hidden', true)\r\n      isInput = true\r\n    }\r\n    this.props = mixins({}, defaults, nativeProperties, options || {})\r\n    // correct min/max/step\r\n    this.props = correctProps(this.props)\r\n    let { max, min, step, value } = this.props\r\n    min = min === -Infinity ? 0 : min\r\n    max = max === Infinity ? 100 : max\r\n    max = Math.floor((max - min) / step) * step + min\r\n\r\n    this.props.min = min\r\n    this.props.max = max\r\n\r\n    this.states = Object.create(null)\r\n    this.states.handles = Object.create(null)\r\n    this.states.value = value\r\n    this.states.rect = Object.create(null)\r\n    this.states.isInput = isInput\r\n    this.states.$container = container\r\n    // 分段数\r\n    this.states.segmentation = (max - min) / step\r\n    render.call(this)\r\n    this.setValue(this.props.value, false)\r\n  }\r\n\r\n\r\n  /**\r\n   * set value\r\n   * @public\r\n   * @param {*} value\r\n   * @param {*} isChanged\r\n   * @memberof Slider\r\n   */\r\n  setValue(value, isChanged) {\r\n    const { props, states } = this\r\n    value = parseFloat(value)\r\n    if (isNaN(value) || value < props.min) {\r\n      value = props.min\r\n    } else if (value > props.max) {\r\n      value = props.max\r\n    }\r\n    value = parseFloat(value.toFixed(props.precision))\r\n    states.value = value\r\n    updatePosition.call(this)\r\n    isChanged && this.emit('change', value)\r\n    states.$el.setAttribute('aria-valuenow', value)\r\n    if (states.$tooltip) {\r\n      let tipValue = props.tipFormatter && isFunction(props.tipFormatter) && props.tipFormatter(value)\r\n      if (tipValue === void 0 || tipValue === '' || tipValue === null) {\r\n        tipValue = value\r\n      }\r\n      states.$tooltip.textContent = tipValue\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * get current value\r\n   * @public\r\n   * @returns\r\n   * @memberof Slider\r\n   */\r\n  getValue() {\r\n    return this.states.value\r\n  }\r\n\r\n\r\n  /**\r\n   * 禁用\r\n   * @public\r\n   * @memberof Slider\r\n   */\r\n  disable() {\r\n    const { props, states } = this\r\n    if (props.disabled) {\r\n      return\r\n    }\r\n    props.disabled = true\r\n    states.$el.classList.add(CLASS_STATUS_DISABLED)\r\n    states.$el.setAttribute('aria-disabled', true)\r\n    states.$el.thumb.setAttribute('tabindex', -1)\r\n  }\r\n\r\n\r\n  /**\r\n   * 启用\r\n   * @public\r\n   * @memberof Slider\r\n   */\r\n  enable() {\r\n    const { props, states } = this\r\n    if (!props.disabled) {\r\n      return\r\n    }\r\n    props.disabled = false\r\n    states.$el.classList.remove(CLASS_STATUS_DISABLED)\r\n    states.$el.setAttribute('aria-disabled', false)\r\n    states.$el.thumb.setAttribute('tabindex', 0)\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   * @public\r\n   * @memberof Slider\r\n   */\r\n  destroy() {\r\n    unbindEvents.call(this)\r\n    const { states } = this\r\n    if (states.isInput) {\r\n      states.$container.removeAttribute('hidden')\r\n    }\r\n    removeNode(states.$el)\r\n    this.states = null\r\n    this.props = null\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default Slider","export const skeletonTpl = `\r\n<div class=\"nv-slider__runway\">\r\n  <div class=\"nv-slider__progress\"></div>\r\n  <div class=\"nv-slider__thumb\" tabindex=\"<%if (disabled) {%>-1<% }else{ %>0<% }%>\">\r\n    <% if(tooltip) { %>\r\n      <span class=\"nv-slider__tooltip\"></span>\r\n    <% } %>  \r\n  </div> \r\n</div>\r\n`\r\n\r\nexport default {skeletonTpl}","/*\r\n * File: index.js\r\n * Project: @vnnox/novaui\r\n * Description: Used for ...\r\n * Created: 2018-11-08 11:28\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-08 11:28\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { Events } from '../../utils/events'\r\nimport { template } from '../../utils/template'\r\nimport { mixins, isArray, isPlainObject, uuid, isFunction, throwError } from '../../utils/utils'\r\nimport { bind, unbind, proxy, qsa, removeNode } from '../../utils/dom'\r\nimport Node from './node'\r\nimport { skeletonTpl, noDataTpl, noMatchDataTpl } from './template'\r\n\r\nconst UI_NAME = 'nv-tree'\r\nconst CLASS_EXPANDED = 'tree-node--expanded'\r\nconst CLASS_SELECTED = 'tree-node--selected'\r\n\r\n// default config\r\nconst defaults = {\r\n  // [ array ] tree数据\r\n  data: [],\r\n  // [ boolean ] 禁用tree\r\n  disabled: false,\r\n  // [ function ] 渲染器\r\n  labelRender: null,\r\n  // [ number ] 缩进\r\n  indent: 16,\r\n  // [ boolean ] 是否可选择\r\n  checkable: false,\r\n  // [ boolean ] 是否单选, 默认复选\r\n  radio: false,\r\n  // [ string ] 选择框的name值\r\n  checkName: '',\r\n  // [ boolean ] checkable状态下节点选择完全受控（父子节点选中状态不再关联）\r\n  checkStrictly: false,\r\n  // [ boolean ] 是否展开所有节点\r\n  expandAll: false,\r\n  // [ boolean ] 高亮当前节点的label\r\n  highlight: false,\r\n  // [ function ] 用于搜索时过滤node节点，返回true时表示该节点被匹配\r\n  nodeFilter: null,\r\n  // [ array ] 默认选中的节点ids\r\n  defaultCheckedKeys: null,\r\n  // [ array ] 默认展开的节点ids\r\n  defaultExpandedKeys: null,\r\n  // [ string ] 节点为空时显示的文本\r\n  noDataText: '',\r\n  // [ string ] 无匹配节点时显示的文本\r\n  noMatchDataText: ''\r\n}\r\n\r\n// selectors\r\nconst Selectors = {\r\n  node: '.nv-tree__node',\r\n  input: '.tree-node__value',\r\n  check: '.tree-node__check',\r\n  children: '.tree-node__children',\r\n  inner: '.tree-node__inner',\r\n  noMatch: '.no-match'\r\n}\r\n\r\n\r\n/**\r\n * 递归转换Node节点\r\n * @date 2018-11-13\r\n * @method\r\n * @param {*} data\r\n * @param {*} parent\r\n * @param {*} options\r\n * @returns\r\n */\r\nfunction deepToNode(data, parent, options) {\r\n  let i = -1\r\n  let len = data.length\r\n  let expandAll = false\r\n  let defaultExpandedKeys = []\r\n  let defaultCheckedKeys = []\r\n  if (options) {\r\n    expandAll = !!options.expandAll\r\n    defaultExpandedKeys = options.defaultExpandedKeys\r\n    defaultCheckedKeys = options.defaultCheckedKeys\r\n  }\r\n  while (++i < len) {\r\n    data[i].expanded = data[i].expanded || expandAll || \r\n    defaultExpandedKeys.indexOf(data[i].id) > -1\r\n    data[i].checked = data[i].checked || defaultCheckedKeys.indexOf(data[i].id) > -1\r\n    let node = new Node(data[i])\r\n    if (parent) {\r\n      parent.insertChild(node)\r\n    }\r\n    if (isArray(data[i].children) && data[i].children.length) {\r\n      deepToNode(data[i].children, node, options)\r\n    }\r\n  }\r\n  return parent\r\n}\r\n\r\n\r\n/**\r\n * 将Nodes节点转换为Map映射\r\n * @date 2018-11-13\r\n * @method\r\n * @param {*} nodes\r\n * @param {*} map\r\n * @returns\r\n */\r\nfunction nodesToMap(nodes, map) {\r\n  map = map || Object.create(null)\r\n  let i = -1\r\n  let len = nodes.length\r\n  let node\r\n  while (++i < len) {\r\n    node = nodes[i]\r\n    map[node.id] = node\r\n    if (node.children && node.children.length) {\r\n      nodesToMap(node.children, map)\r\n    }\r\n  }\r\n  return map\r\n}\r\n\r\n\r\n/**\r\n * 渲染条目\r\n * @date 2018-11-13\r\n * @method\r\n * @param {*} nodes\r\n * @param {*} options\r\n * @returns\r\n */\r\nfunction renderItems(nodes, options) {\r\n  let i = -1\r\n  let len = nodes.length\r\n  let tpl = ''\r\n  while (++i < len) {\r\n    const node = nodes[i]\r\n    let label = options.labelRender && options.labelRender(node)\r\n    node.content = label || node.label\r\n    tpl += template(skeletonTpl, {\r\n      node,\r\n      ...options,\r\n      callback(children) {\r\n        return renderItems(children, options)\r\n      }\r\n    })\r\n  }\r\n  return tpl\r\n}\r\n\r\n\r\n/**\r\n * 通过ID查找Node节点\r\n * @date 2018-11-13\r\n * @method\r\n * @param {*} id\r\n * @param {*} $nodes\r\n * @returns\r\n */\r\nfunction findNodeDomById(id, $nodes) {\r\n  id = String(id)\r\n  let $el\r\n  $nodes.some($node => {\r\n    if ($node.getAttribute('data-node') === id) {\r\n      $el = $node\r\n      return true\r\n    }\r\n  })\r\n  return $el\r\n}\r\n\r\n\r\n/**\r\n * 设置节点的check状态\r\n * @date 2018-11-13\r\n * @private\r\n * @param {*} node\r\n */\r\nfunction toggleAllChildrenChecked(node) {\r\n  const { states } = this\r\n  let children = node.children\r\n  let i = -1\r\n  let len = children.length\r\n  let child\r\n  while (++i < len) {\r\n    child = children[i]\r\n    if (!child.disabled) {\r\n      child.updateStates('checked', node.checked)\r\n      let $node = findNodeDomById(child.id, states.$nodes)\r\n      $node && ($node.querySelector(Selectors.input).checked = child.checked)\r\n    }\r\n    if (child.children && child.children.length) {\r\n      toggleAllChildrenChecked.call(this, child)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 设置当前节点的父节点和子节点的关联选中\r\n * @date 2018-11-13\r\n * @private\r\n * @param {*} node\r\n */\r\nfunction toggleAllChecked(node) {\r\n  toggleAllChildrenChecked.call(this, node)\r\n  let parent = node.parent\r\n  while (parent) {\r\n    if (!parent.disabled) {\r\n      let isChecked = true\r\n      if (parent.children && parent.children.some(child => !child.checked)) {\r\n        isChecked = false\r\n      }\r\n      parent.updateStates('checked', isChecked)\r\n      let $node = findNodeDomById(parent.id, this.states.$nodes)\r\n      $node && ($node.querySelector(Selectors.input).checked = parent.checked)\r\n    }\r\n    parent = parent.parent\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 通过关键词过滤节点\r\n * @date 2018-11-13\r\n * @private\r\n * @param {*} keyword\r\n * @param {*} nodes\r\n * @returns\r\n */\r\nfunction filterNode(keyword, nodes) {\r\n  const { nodeFilter } = this.props\r\n  let visibleCount = 0\r\n  const filter = node => {\r\n    let children = node.children\r\n    node.visible = nodeFilter(node, keyword)\r\n    if (node.visible) {\r\n      visibleCount++\r\n    }\r\n    children.forEach(child => {\r\n      child.visible = nodeFilter(node, keyword)\r\n      filter(child)\r\n    })\r\n    if (!node.visible && children.length) {\r\n      let allHidden = true\r\n      children.some(child => {\r\n        if (child.visible) {\r\n          allHidden = false\r\n          return true\r\n        }\r\n      })\r\n      node.visible = allHidden === false\r\n    }\r\n    // 自动展开所有父级\r\n    if (keyword && node.visible) {\r\n      let parent = node.parent\r\n      while (parent) {\r\n        parent.expanded = true\r\n        parent = parent.parent\r\n      }\r\n    }\r\n  }\r\n  nodes.forEach(node => filter(node))\r\n  return visibleCount\r\n}\r\n\r\n\r\n/**\r\n * render dom\r\n * @date 2018-11-13\r\n * @private\r\n * @param {*} nodes\r\n */\r\nfunction render(nodes) {\r\n  const { props, states } = this\r\n  let $el = states.$el\r\n  let isInit = false\r\n  if (!$el) {\r\n    $el = document.createElement('ul')\r\n    $el.className = UI_NAME\r\n    $el.setAttribute('role', 'tree')\r\n    states.$container.appendChild($el)\r\n    // 缓存DOM\r\n    states.$el = $el\r\n    isInit = true\r\n  }\r\n\r\n  const options = {\r\n    indent: props.indent,\r\n    checkable: props.checkable,\r\n    chooseType: props.radio ? 'radio' : 'checkbox',\r\n    checkName: props.checkName || `${UI_NAME}-${states.treeId}`,\r\n    expandAll: props.expandAll,\r\n    disabled: props.disabled,\r\n    labelRender: isFunction(props.labelRender) ? props.labelRender : null\r\n  }\r\n\r\n  nodes = nodes && isArray(nodes) ? nodes : states.nodes\r\n  if (nodes.length) {\r\n    $el.innerHTML = renderItems(nodes, options)\r\n  } else {\r\n    $el.innerHTML = template(noDataTpl, {\r\n      noDataText: props.noDataText\r\n    })\r\n  }\r\n  states.$nodes = qsa(Selectors.node, $el)\r\n  // 只有在初始化的时候才绑定事件\r\n  isInit && bindEvents.call(this)\r\n}\r\n\r\n\r\n/**\r\n * bind dom evens\r\n * @date 2018-11-13\r\n * @private\r\n */\r\nfunction bindEvents() {\r\n  const { props, states } = this\r\n  const handles = states.handles\r\n  const self = this\r\n\r\n  // 点击Node节点\r\n  handles.nodeClick = proxy(states.$el, Selectors.inner, function (event) {\r\n    if (event.target.closest(Selectors.check) || event.target.closest('.nv-event-stop')) {\r\n      return\r\n    }\r\n    let $parent = this.parentNode\r\n    let id = $parent.getAttribute('data-node')\r\n    let node = states.nodesMap[id]\r\n    self.emit('click', node, $parent)\r\n    if (node.children && node.children.length) {\r\n      $parent.classList[node.expanded ? 'remove' : 'add'](CLASS_EXPANDED)\r\n      node.updateStates('expanded', !node.expanded)\r\n      self.emit('expend', node.expanded, node, $parent)\r\n    }\r\n    if (!node.disabled) {\r\n      self.emit('selected', node, $parent, event)\r\n      if (props.highlight) {\r\n        $parent.classList.add(CLASS_SELECTED)\r\n        states.$nodes.map($node => {\r\n          if ($node !== $parent) {\r\n            $node.classList.remove(CLASS_SELECTED)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  })\r\n\r\n  // 选中/取消选中\r\n  handles.onCheckChange = proxy(states.$el, Selectors.input, function (e) {\r\n    e.stopPropagation()\r\n    let node = states.nodesMap[this.value]\r\n    if (node.disabled) {\r\n      return\r\n    }\r\n    let checked = this.checked\r\n    node.updateStates('checked', checked)\r\n    if (!props.checkStrictly && !props.radio) {\r\n      toggleAllChecked.call(self, node)\r\n    }\r\n    self.emit('check', checked, node, findNodeDomById(node.id, states.$nodes))\r\n  })\r\n\r\n  bind(states.$el, 'click', handles.nodeClick)\r\n  if (props.checkable) {\r\n    bind(states.$el, 'change', handles.onCheckChange)\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * unbind dom events\r\n * @date 2018-11-13\r\n * @private\r\n */\r\nfunction unbindEvents () {\r\n  const { props, states } = this\r\n  const handles = states.handles\r\n  unbind(states.$el, 'click', handles.nodeClick)\r\n  if (props.checkable) {\r\n    unbind(states.$el, 'change', handles.onCheckChange)\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Tree Component\r\n * @date 2018-11-13\r\n * @export\r\n * @class Tree\r\n * @extends {Events}\r\n */\r\nexport class Tree extends Events {\r\n\r\n  /**\r\n   * Creates an instance of Tree.\r\n   * @date 2018-11-13\r\n   * @param {*} container\r\n   * @param {*} options\r\n   * @memberof Tree\r\n   */\r\n  constructor(container, options) {\r\n    super()\r\n    if (!(this instanceof Tree)) {\r\n      return new Tree(container, options)\r\n    }\r\n    const props = this.props = mixins({}, defaults, options)\r\n    let { defaultCheckedKeys, defaultExpandedKeys } = props\r\n    props.defaultCheckedKeys = isArray(defaultCheckedKeys) ? defaultCheckedKeys : []\r\n    props.defaultExpandedKeys = isArray(defaultExpandedKeys) ? defaultExpandedKeys : []\r\n\r\n    const states = this.states = Object.create(null)\r\n    states.treeId = uuid()\r\n    states.nodes = []\r\n    states.nodesMap = Object.create(null)\r\n    states.$container = container\r\n    states.handles = Object.create(null)\r\n    this.setNodesTree(this.props.data)\r\n    delete this.props.data\r\n  }\r\n\r\n\r\n  /**\r\n   * 将节点数组转换为tree\r\n   * @date 2018-11-13\r\n   * @param {*} data\r\n   * @memberof Tree\r\n   */\r\n  setNodesTree(data) {\r\n    this.states.nodes = this.arrayToNodes(data)\r\n    this.states.nodesMap = nodesToMap(this.states.nodes)\r\n    render.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * 将数组转换为节点组\r\n   * @date 2018-11-13\r\n   * @param {*} data\r\n   * @returns\r\n   * @memberof Tree\r\n   */\r\n  arrayToNodes(data) {\r\n    if (!data) {\r\n      return null\r\n    }\r\n    if (!isArray(data)) {\r\n      data = [data]\r\n    }\r\n    let i = -1\r\n    let len = data.length\r\n    let nodes = []\r\n    let node\r\n    while (++i < len) {\r\n      node = this.objectToTree(data[i])\r\n      node && nodes.push(node)\r\n    }\r\n    return nodes\r\n  }\r\n\r\n\r\n  /**\r\n   * 将对象转换为树结构\r\n   * @date 2018-11-13\r\n   * @param {*} object\r\n   * @returns\r\n   * @memberof Tree\r\n   */\r\n  objectToTree(object) {\r\n    if (!isPlainObject(object)) {\r\n      return null\r\n    }\r\n    // 拷贝一份数据\r\n    object = JSON.parse(JSON.stringify(object))\r\n    let { defaultCheckedKeys, defaultExpandedKeys } = this.props\r\n    object.expanded = object.expanded || this.props.expandAll || defaultExpandedKeys.indexOf(object.id) > -1\r\n    object.checked = object.checked || defaultCheckedKeys.indexOf(object.id) > -1\r\n    let node = new Node(object)\r\n    if (isArray(object.children) && object.children.length) {\r\n      return deepToNode(object.children, node, {\r\n        expandAll: this.props.expandAll,\r\n        defaultCheckedKeys,\r\n        defaultExpandedKeys\r\n      })\r\n    }\r\n    return node\r\n  }\r\n\r\n  \r\n  /**\r\n   * 过滤树结构\r\n   * 并且返回匹配的结果总数\r\n   * @date 2018-11-13\r\n   * @param {*} keyword\r\n   * @returns\r\n   * @memberof Tree\r\n   * @returns {Number}\r\n   */\r\n  filter(keyword) {\r\n    if (!this.props.nodeFilter || !isFunction(this.props.nodeFilter)) {\r\n      throwError('The \\'nodeFilter\\' method must be provided.')\r\n    }\r\n    keyword = (keyword || '').toString().trim()\r\n    let count = filterNode.call(this, keyword, this.states.nodes)\r\n    render.call(this)\r\n    if (!count && this.states.nodes) {\r\n      this.states.$el.innerHTML += template(noMatchDataTpl, {\r\n        noMatchDataText: this.props.noMatchDataText\r\n      })\r\n    }\r\n    return count\r\n  }\r\n\r\n\r\n  /**\r\n   * 获取Node节点\r\n   * @date 2018-11-13\r\n   * @param {*} node\r\n   * @returns\r\n   * @memberof Tree\r\n   */\r\n  getNode (node) {\r\n    if (node instanceof Node) {\r\n      return node \r\n    }\r\n    return this.states.nodesMap[node]\r\n  }\r\n\r\n\r\n  /**\r\n   * 插入子节点\r\n   * @date 2018-11-13\r\n   * @param {*} parent\r\n   * @param {*} node\r\n   * @memberof Tree\r\n   */\r\n  appendNode (parent, node) {\r\n    let parentNode = this.getNode(parent)\r\n    if (parentNode) {\r\n      node = parentNode.insertChild(node)\r\n      parentNode.expanded = true\r\n      this.states.nodesMap[node.id] = node\r\n      render.call(this)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 移除节点\r\n   * @date 2018-11-13\r\n   * @param {*} node\r\n   * @param {boolean} [deep=true]\r\n   * @memberof Tree\r\n   */\r\n  removeNode (node, deep = true) {\r\n    // 这地方根节点有点问题，暂时强制deep = true\r\n    deep = true\r\n    node = this.getNode(node)\r\n    if (node.parent) {\r\n      node.remove(deep)  \r\n    } else {\r\n      // 如果是根节点\r\n      let index = this.states.nodes.indexOf(node)\r\n      this.states.nodes.splice(index, 1) \r\n    }\r\n    this.states.nodesMap = nodesToMap(this.states.nodes)\r\n    render.call(this)\r\n  }\r\n\r\n\r\n  /**\r\n   * 获取选中的节点\r\n   * @date 2018-11-13\r\n   * @param {boolean} [useDisabled=false]\r\n   * @returns {Array}\r\n   * @memberof Tree\r\n   */\r\n  getCheckedNodes (useDisabled = false) {\r\n    const isRadio = this.props.radio\r\n    const nodes = []\r\n    const finder = node => {\r\n      if (isRadio && nodes.length) {\r\n        return\r\n      }\r\n      if (node.checked) {\r\n        if (!node.disabled || useDisabled) {\r\n          nodes.push(node)\r\n        }\r\n      }\r\n      if (node.children && node.children.length) {\r\n        node.children.forEach(child => finder(child))\r\n      }\r\n    }\r\n    this.states.nodes.forEach(node => finder(node))\r\n\r\n    return nodes\r\n  }\r\n\r\n\r\n  /**\r\n   * destroy\r\n   * @date 2018-11-13\r\n   * @memberof Tree\r\n   */\r\n  destroy () {\r\n    unbindEvents.call(this)\r\n    removeNode(this.states.$el)\r\n    this.states = null\r\n    this.props = null\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default Tree\r\n","\r\n/*\r\n* File: node.js\r\n* Project: @vnnox/novaui\r\n* Description: Used for ...\r\n* Created: 2018-11-12 09:04\r\n* Author: smohan (mengxw@novastar.tech)\r\n* -----\r\n* Last Modified: 2018-11-12 09:04\r\n* Modified By: smohan (mengxw@novastar.tech>)\r\n* -----\r\n* Copyright 2018, NovaStar Tech Co., Ltd\r\n*/\r\n\r\nimport { uuid, isPlainObject, hasKey, throwError } from '../../utils/utils'\r\n\r\n// 节点状态\r\nconst STATES = ['checked', 'disabled', 'expanded', 'visible']\r\n\r\n\r\n/**\r\n * 递归查找子节点\r\n * 返回子节点或者子节点的ID与target匹配的节点\r\n * @private\r\n * @param {*} node\r\n * @param {*} target\r\n * @param {*} deep\r\n * @returns {Node | void}\r\n */\r\nfunction findChild(node, target, deep) {\r\n  const children = node.children\r\n  let i = -1\r\n  let len = children.length\r\n  let child\r\n  while (++i < len && !child) {\r\n    if (children[i] === target || (children[i].id === target)) {\r\n      child = children[i]\r\n      break\r\n    }\r\n    if (deep) {\r\n      child = findChild(children[i], target, deep)\r\n    }\r\n  }\r\n  return child\r\n}\r\n\r\n\r\n/**\r\n * 递归更新子节点的parent和level\r\n * @private\r\n * @param {*} node\r\n * @param {*} parent\r\n */\r\nfunction updateChildenLevel(node, parent) {\r\n  const children = node.children || []\r\n  let i = -1\r\n  let len = children.length\r\n  let child\r\n  while (++i < len) {\r\n    child = children[i]\r\n    if (parent) {\r\n      parent.insertChild(child)\r\n    } else {\r\n      child.parent = null\r\n      child.level = 0\r\n    }\r\n    updateChildenLevel(child, child)\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Node \r\n * @date 2018-11-12\r\n * @export\r\n * @class Node\r\n */\r\nexport class Node {\r\n\r\n  /**\r\n   * Creates an instance of Node.\r\n   * @date 2018-11-12\r\n   * @param {*} data\r\n   * @memberof Node\r\n   */\r\n  constructor(data) {\r\n    this.id = uuid()\r\n    this.label = ''\r\n    this.checked = false\r\n    this.disabled = false\r\n    this.expanded = false\r\n    this.visible = true\r\n    this.parent = null\r\n    // 覆盖属性\r\n    if (data && isPlainObject(data)) {\r\n      for (let k in data) {\r\n        if (hasKey(k, data)) {\r\n          this[k] = data[k]\r\n        }\r\n      }\r\n    }\r\n    this.level = 0\r\n    this.children = []\r\n    if (this.parent) {\r\n      // 当前的层级等于parentNode的层级+1\r\n      this.level = this.parent.level + 1\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 获取子元素的索引\r\n   * @public\r\n   * @param {*} child\r\n   * @returns\r\n   * @memberof Node\r\n   */\r\n  getChildIndex(child) {\r\n    if (child instanceof Node) {\r\n      return this.children.indexOf(child)\r\n    }\r\n    let index = -1\r\n    let i = -1\r\n    let len = this.children.length\r\n    while (++i < len) {\r\n      if (this.children[i].id === child) {\r\n        index = i\r\n        break\r\n      }\r\n    }\r\n    return index\r\n  }\r\n\r\n\r\n  /**\r\n   * 插入子节点\r\n   * @public\r\n   * @param {Object | Node} child\r\n   * @param {Number} index 插入位置\r\n   * @memberof Node\r\n   */\r\n  insertChild(child, index) {\r\n    if (!child) {\r\n      throwError('child is required.')\r\n    }\r\n    // 如果待插入的子节点不是一个Node\r\n    if (!(child instanceof Node)) {\r\n      child = new Node(child)\r\n    }\r\n    \r\n    child.parent = this\r\n    child.level = this.level + 1\r\n    if (typeof index === void 0 || index < 0 || isNaN(+index)) {\r\n      this.children.push(child)\r\n    } else {\r\n      this.children.splice(+index, 0, child)\r\n    }\r\n    return child\r\n  }\r\n\r\n\r\n  /**\r\n   * 移除指定的子节点\r\n   * 当deep为true时，将会移除节点及其节点的子节点\r\n   * 当deep为fasle时，只会移除指定节点，节点的子节点将会移动到它的上一级\r\n   * @param {*} child\r\n   * @param {boolean} [deep=true]\r\n   * @memberof Node\r\n   */\r\n  removeChild(child, deep = true) {\r\n    let index = this.getChildIndex(child)\r\n    if (index > -1) {\r\n      if (!deep) {\r\n        // 更新待删除子元素的子元素的parent和level\r\n        // 将其子元素的parent更新为所在的上一级\r\n        updateChildenLevel(child, this)\r\n      }\r\n      child.parent = null\r\n      this.children.splice(index, 1)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 在目标子元素之前插入子元素\r\n   * @public\r\n   * @param {*} node\r\n   * @param {*} target\r\n   * @memberof Node\r\n   */\r\n  insertBefore(node, target) {\r\n    let index = this.getChildIndex(target)\r\n    this.insertChild(node, index)\r\n  }\r\n\r\n\r\n  /**\r\n   * 在目标子元素之后插入子元素\r\n   * @public\r\n   * @param {*} node\r\n   * @param {*} target\r\n   * @memberof Node\r\n   */\r\n  insertAfter(node, target) {\r\n    let index = this.getChildIndex(target)\r\n    if (index > -1) {\r\n      index++\r\n    }\r\n    this.insertChild(node, index)\r\n  }\r\n\r\n\r\n  /**\r\n   * 移除当前节点\r\n   * @param {boolean} [deep=true]\r\n   * @memberof Node\r\n   */\r\n  remove(deep = true) {\r\n    const parent = this.parent\r\n    if (parent) {\r\n      parent.removeChild(this, deep)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * 查找父节点\r\n   * 如果指定了ID，将会查找匹配到的parent\r\n   * 否则，返回当前node的第一级parent\r\n   * @param {*} id\r\n   * @returns {Node | null}\r\n   * @memberof Node\r\n   */\r\n  findParent(id) {\r\n    if (id) {\r\n      let parent = this.parent\r\n      while (parent) {\r\n        if (parent.id === id) {\r\n          return parent\r\n        }\r\n        parent = parent.parent\r\n      }\r\n      return null\r\n    }\r\n    return this.parent\r\n  }\r\n\r\n\r\n  /**\r\n   * 是否包含某个特定的子节点`target`\r\n   * 或者某个子节点的ID === target\r\n   * @public\r\n   * @param {*} target\r\n   * @param {boolean} [deep=true]\r\n   * @returns {boolean}\r\n   * @memberof Node\r\n   */\r\n  contains(target, deep = true) {\r\n    return !!findChild(this, target, deep)\r\n  }\r\n\r\n\r\n  /**\r\n   * 返回上一个兄弟节点\r\n   * @public\r\n   * @returns\r\n   * @memberof Node\r\n   */\r\n  nextSibling() {\r\n    const parent = this.parent\r\n    // 如果存在父级节点\r\n    if (parent) {\r\n      let currentIndex = parent.children.indexOf(this)\r\n      // 存在且不是第一个节点\r\n      if (currentIndex > 0) {\r\n        return parent.children[currentIndex - 1]\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n\r\n  /**\r\n   * 返回下一个兄弟节点\r\n   * @public\r\n   * @returns\r\n   * @memberof Node\r\n   */\r\n  previousSibling() {\r\n    const parent = this.parent\r\n    // 如果存在父级节点\r\n    if (parent) {\r\n      let currentIndex = parent.children.indexOf(this)\r\n      // 存在且不是最后一个节点\r\n      if (currentIndex > -1 && currentIndex < parent.children.length - 1) {\r\n        return parent.children[currentIndex + 1]\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n\r\n  /**\r\n   * 更新节点的部分状态\r\n   * @date 2018-11-12\r\n   * @param {*} key\r\n   * @param {*} value\r\n   * @memberof Node\r\n   */\r\n  updateStates(key, value) {\r\n    let args = arguments\r\n    let states = Object.create(null)\r\n    if (args.length === 1 && isPlainObject(key)) {\r\n      states = key\r\n    } else if (args.length === 2) {\r\n      states[key] = value\r\n    }\r\n    for (let k in states) {\r\n      if (STATES.indexOf(k) > -1) {\r\n        this[k] = states[k]\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default Node","export const skeletonTpl = `\r\n<li role=\"treeitem\" class=\"nv-tree__node<% if(expandAll || node.expanded) {%> tree-node--expanded<% } if(disabled || node.disabled) {%> nv-disabled<% } if(node.children && node.children.length) {%> tree-node--branch<% } else {%> tree-node--leaf<% } if(!node.visible) {%> tree-node--hidden<% }%>\" data-node=\"<%= node.id%>\">\r\n  <div class=\"tree-node__inner\" style=\"padding-left:<%= (node.level * indent)%>px;\"> \r\n    <% if(node.children && node.children.length) {%>\r\n    <i class=\"tree-node__icon\"></i>\r\n    <% }%> \r\n    <% if(checkable) { %>\r\n    <label class=\"nv-<%= chooseType %> tree-node__check\" role=\"<%= chooseType%>\">\r\n      <input type=\"<%= chooseType%>\" class=\"tree-node__value\" name=\"<%= checkName %>\" value=\"<%= node.id%>\"<% if(disabled || node.disabled) {%> disabled<% } if (node.checked) {%> checked<% }%> />\r\n      <i class=\"nv-<%= chooseType%>__icon\"></i>\r\n    </label>\r\n    <% } %>\r\n    <div class=\"tree-node__label\" title=\"<%= node.label%>\"><%= node.content%></div>\r\n  </div>\r\n  <% if(node.children && node.children.length) {%>\r\n    <ul role=\"group\" class=\"tree-node__children\">\r\n      <%= callback(node.children)%>\r\n    </ul>\r\n  <%}%>  \r\n</li>\r\n`\r\n\r\nexport const noDataTpl = `\r\n<li class=\"nv-tree__empty\"><%=noDataText%></li>\r\n`\r\n\r\nexport const noMatchDataTpl = `\r\n<li class=\"nv-tree__empty no-match\"><%=noMatchDataText%></li>\r\n`\r\n\r\nexport default {\r\n  skeletonTpl,\r\n  noDataTpl\r\n}","require('./scss/index.scss')\r\n\r\nimport Utils from './utils/utils'\r\nimport Dom from './utils/dom'\r\nimport Events from './utils/events'\r\nimport InputNumber from './components/input-number'\r\nimport Pagination from './components/pagination'\r\nimport Select from './components/select'\r\nimport Slider from './components/slider'\r\nimport Tree from './components/tree'\r\nimport Modal from './components/modal'\r\nimport Message from './components/message'\r\nimport MessageBox from './components/message-box'\r\nimport Popover from './components/popover'\r\nimport ColorPicker from './components/color-picker'\r\n\r\nconst Nova = Object.create(null)\r\n\r\nNova.$Utils = Utils\r\nNova.$Events = Events\r\nNova.$Dom = Dom \r\nNova.InputNumber = InputNumber\r\nNova.Pagination = Pagination\r\nNova.Popover = Popover\r\nNova.Select = Select\r\nNova.Slider = Slider\r\nNova.Tree = Tree \r\nNova.Modal = Modal\r\nNova.Message = Message\r\nNova.MessageBox = MessageBox\r\nNova.ColorPicker = ColorPicker\r\n\r\n\r\nfunction routeChangeDestory () {\r\n  MessageBox.destroy()\r\n  Message.destroy()\r\n}\r\n\r\n// 当路由改变时，销毁已存在的实例\r\nDom.bind(window, 'hashchange', routeChangeDestory)\r\nDom.bind(window, 'popstate', routeChangeDestory)\r\n\r\n\r\nObject.freeze(Nova)\r\n\r\nexport default Nova","import zhCN from './lang/zh-CN'\r\n\r\n\r\nexport default {\r\n  'zh-CN': zhCN\r\n}","export default {\r\n  datePicker: {\r\n    weeks: ['日', '一', '二', '三', '四', '五', '六'],\r\n    months: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\r\n    shortMonths: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\r\n    year: '年'\r\n  },\r\n  pagination: {\r\n    total: '共{total}条记录，第{index}/{pages}页',\r\n    jumper: '前往',\r\n    unit: '页',\r\n    eachPage: '条/页'\r\n  },\r\n  modal: {\r\n    close: '关闭',\r\n    confirm: '确定',\r\n    cancel: '取消'\r\n  }\r\n}","// extracted by mini-css-extract-plugin","export const CLASS_STATES_ACTIVED = 'nv-actived'\r\nexport const CLASS_STATUS_DISABLED = 'nv-disabled'\r\nexport const CLASS_STATES_HOVER = 'nv-hover'\r\nexport const CLASS_STATES_FOCUS = 'nv-focusin'\r\n","/*\r\n * File: debounce.js\r\n * Project: @vnnox/novaui\r\n * Description: Used for ...\r\n * Created: 2018-11-13 02:15\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-13 02:15\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { toArray } from './utils'\r\n\r\nexport const debounce = (func, wait, immediate) => {\r\n  let timeout\r\n  const _later = (context, args) => {\r\n    timeout = null\r\n    if (args) {\r\n      func.apply(context, args)\r\n    }\r\n  }\r\n  const _debounce = function () {\r\n    timeout && clearTimeout(timeout)\r\n    let context = this\r\n    let args = toArray(arguments)\r\n    if (immediate) {\r\n      let callNow = timeout\r\n      timeout = setTimeout(_later, wait)\r\n      if (callNow) {\r\n        func.apply(context, args)\r\n      }\r\n    } else {\r\n      timeout = setTimeout(_later, wait, context, args)\r\n    }\r\n  }\r\n\r\n  _debounce.cancel = function () {\r\n    clearTimeout(timeout)\r\n    timeout = null\r\n  }\r\n\r\n  return _debounce\r\n}\r\n\r\nexport default debounce","/*\r\n * File: dom.js\r\n * Project: @vnnox/novaui\r\n * Description: DOM 操作类\r\n * Created: 2018-10-29 10:57\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-10-29 10:58\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { isString, toArray, isArray, isNumberString } from './utils'\r\n\r\n\r\n// selector\r\nconst SELECTOR_REGS = {\r\n  id: /^#([\\w-]+)$/,\r\n  className: /^\\.([\\w-]+)$/,\r\n  tagName: /^[\\w-]+$/,\r\n}\r\n\r\n\r\n/**\r\n * 绑定DOM事件\r\n * @param {*} el \r\n * @param {*} name \r\n * @param {*} handle \r\n */\r\nexport const bind = (el, name, handle) => el.addEventListener(name, handle, false)\r\n\r\n\r\n/**\r\n * 解绑DOM事件\r\n * @param {*} el \r\n * @param {*} name \r\n * @param {*} handle \r\n */\r\nexport const unbind = (el, name, handle) => el.removeEventListener(name, handle, false)\r\n\r\n\r\n/**\r\n * 绑定一次性事件\r\n * @param {*} el \r\n * @param {*} name \r\n * @param {*} handle \r\n */\r\nexport const once = (el, name, handle) => {\r\n  // 中间事件\r\n  const listener = function () {\r\n    handle && handle.apply(this, arguments)\r\n    // 解绑中间事件\r\n    unbind(el, name, listener)\r\n  }\r\n  // 绑定中间事件\r\n  bind(el, name, listener)\r\n}\r\n\r\n\r\n/**\r\n * DOM 选择器\r\n * 统一API，返回一个DOM集合\r\n * @param {*} selector 选择器\r\n * @param {*} context 父级上下文\r\n * @example \r\n * qsa('#id')\r\n * qsa('.className')\r\n * qsa('input[type=\"radio\"]', qsa('#id')[0])\r\n * @returns {Array} \r\n */\r\nexport const qsa = (selector, context) => {\r\n  context = context || document\r\n  if (isString(selector)) {\r\n    selector = selector.trim()\r\n    let dom\r\n    if (SELECTOR_REGS.id.test(selector)) {\r\n      dom = document.getElementById(RegExp.$1)\r\n      dom = dom ? [dom] : []\r\n    } else if (SELECTOR_REGS.className.test(selector)) {\r\n      dom = context.getElementsByClassName(RegExp.$1)\r\n    } else if (SELECTOR_REGS.tagName.test(selector)) {\r\n      dom = context.getElementsByTagName(selector)\r\n    } else {\r\n      dom = context.querySelectorAll(selector)\r\n    }\r\n    return dom ? toArray(dom) : []\r\n  }\r\n  return []\r\n}\r\n\r\n\r\n/**\r\n * 生成一个代理事件执行函数\r\n * @param {*} element \r\n * @param {*} selector \r\n * @param {*} callback\r\n * @example\r\n * const $ul = qsa('ul')[0]\r\n * let proxyHandle = proxy($ul, 'li', function() { })\r\n * bind($ul, 'click', proxyHandle) \r\n * @returns {Function}\r\n */\r\nexport const proxy = function (element, selector, callback) {\r\n  return function (event) {\r\n    const nodes = qsa(selector, element)\r\n    let matched\r\n    const target = event.target\r\n    for (let i = 0, len = nodes.length; i < len; i++) {\r\n      const node = nodes[i]\r\n      if (node === target || node.contains(target)) {\r\n        matched = node\r\n        break\r\n      }\r\n    }\r\n    if (matched) {\r\n      callback.apply(matched, toArray(arguments))\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 获取元素的位置信息\r\n * @param {*} element\r\n * @returns {Object} \r\n */\r\nexport const getOffset = element => {\r\n  let rect = element.getBoundingClientRect()\r\n  let win = element.ownerDocument.defaultView\r\n  let top = rect.top + win.pageYOffset\r\n  let left = rect.left + win.pageXOffset\r\n  return {\r\n    top,\r\n    left,\r\n    rect,\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 获取元素计算后的样式\r\n * @param {HTMLElement} element \r\n * @param {String} style\r\n * @returns {String | Object} \r\n */\r\nexport const getStyle = (element, style) => {\r\n  let styles = element.ownerDocument.defaultView.getComputedStyle(element, null)\r\n  return style ? styles[style] : styles\r\n}\r\n\r\n\r\n/**\r\n * 插入到目标元素之后\r\n * @param {*} target 目标元素 \r\n * @param {*} node 新元素\r\n * @returns {*}\r\n */\r\nexport const insertAfter = (target, node) => {\r\n  const $parent = target.parentNode\r\n  if ($parent.lastChild === target) {\r\n    $parent.appendChild(node)\r\n  } else {\r\n    $parent.insertBefore(node, target.nextSibling)\r\n  }\r\n  return node\r\n}\r\n\r\n\r\n/**\r\n * 添加样式\r\n * @param {*} el \r\n * @param {string|array} className \r\n */\r\nexport const addClass = (el, className) => {\r\n  let classList = []\r\n  if (className) {\r\n    if (isString(className)) {\r\n      classList = className.split(/,|\\s+/)\r\n    } else if (isArray(className)) {\r\n      classList = className\r\n    }\r\n  }\r\n  classList.forEach(name => isString(name) && name.trim() && el.classList.add(name.trim()))\r\n}\r\n\r\n\r\n/**\r\n * 获取滚动条的宽度\r\n * @returns {Number} \r\n */\r\nexport const getScrollbarWidth = () => {\r\n  let hasScroll = document.body.scrollHeight > window.innerHeight\r\n  if (getScrollbarWidth.value !== void 0 && getScrollbarWidth.value !== 0) {\r\n    return getScrollbarWidth.value\r\n  }\r\n  // 当页面有滚动条的时候才计算\r\n  if (hasScroll) {\r\n    const scrollDiv = document.createElement('div')\r\n    scrollDiv.style.cssText += 'width:100px;position:absolute;top:-9999rem;z-index:-1;visibility:hidden;'\r\n    document.body.appendChild(scrollDiv)\r\n    scrollDiv.style.overflow = 'scroll'\r\n    const width = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth\r\n    scrollDiv.parentNode.removeChild(scrollDiv)\r\n    getScrollbarWidth.value = width\r\n  } else {\r\n    getScrollbarWidth.value = 0\r\n  }\r\n  return getScrollbarWidth.value\r\n}\r\n\r\n\r\n/**\r\n * 安全的移除元素\r\n * @param {*} el \r\n */\r\nexport const removeNode = el => el && el.parentNode && el.parentNode.removeChild(el)\r\n\r\n\r\n/**\r\n * 将元素滚动到指定位置\r\n * @param {*} element \r\n * @param {*} to \r\n * @param {*} duration \r\n */\r\nexport const scrollTo = (element, to, duration) => {\r\n  const requestAnimationFrame = window.requestAnimationFrame ||\r\n    function requestAnimationFrameTimeout() {\r\n      return setTimeout(arguments[0], 10)\r\n    }\r\n  if (duration <= 0) {\r\n    element.scrollTop = to\r\n    return\r\n  }\r\n  const difference = to - element.scrollTop\r\n  const perTick = difference / duration * 10\r\n\r\n  requestAnimationFrame(() => {\r\n    element.scrollTop = element.scrollTop + perTick\r\n    if (element.scrollTop === to) return\r\n    scrollTo(element, to, duration - 10)\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * 获取元素距离指定相对父级的位置\r\n * @param {*} element \r\n * @param {*} parent 必须具有相对/绝对定位的属性\r\n * @returns {Object}\r\n */\r\nexport const getOffsetByParent = (element, parent) => {\r\n  let top = element.offsetTop\r\n  let left = element.offsetLeft\r\n  let offsetParent = element\r\n  while ((offsetParent = offsetParent.offsetParent)) {\r\n    if (offsetParent === parent) {\r\n      break\r\n    }\r\n    top += offsetParent.offsetTop\r\n    left += offsetParent.offsetLeft\r\n  }\r\n  return {\r\n    top,\r\n    left\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 获取元素的滚动父级\r\n * @param {*} element \r\n */\r\nexport const getScrollParent = element => {\r\n  if (!element) {\r\n    return document.body\r\n  }\r\n\r\n  switch (element.nodeName) {\r\n    case 'HTML':\r\n    case 'BODY':\r\n      return element.ownerDocument.body\r\n    case '#document':\r\n      return element.body\r\n  }\r\n  const { overflow, overflowX, overflowY } = getStyle(element)\r\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\r\n    return element\r\n  }\r\n  return getScrollParent(element.parentNode)\r\n}\r\n\r\n\r\n/**\r\n * 获取一个有效的尺寸值\r\n * @param {*} size \r\n */\r\nexport const getSize = size => {\r\n  if (isNumberString(size)) {\r\n    size += 'px'\r\n  }\r\n  if (size && !isNaN(parseFloat(size, 10))) {\r\n    return size \r\n  }\r\n  return 0\r\n}\r\n\r\n\r\nexport default {\r\n  bind,\r\n  unbind,\r\n  once,\r\n  getOffset,\r\n  getStyle,\r\n  insertAfter,\r\n  qsa,\r\n  proxy,\r\n  addClass,\r\n  getScrollbarWidth,\r\n  removeNode,\r\n  scrollTo,\r\n  getOffsetByParent,\r\n  getScrollParent,\r\n  getSize\r\n}","/*\r\n * File: events.js\r\n * Project: @vnnox/novaui\r\n * Description: 发布订阅器类\r\n * Created: 2018-10-29 11:27\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-10-29 11:27\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\n\r\nimport { isFunction } from './utils'\r\n\r\n\r\n/**\r\n * 发布订阅器类\r\n * 事件基类\r\n * @date 2018-11-08\r\n * @export\r\n * @class Events\r\n */\r\nexport class Events {\r\n\r\n  /**\r\n   * Creates an instance of Events.\r\n   * @date 2018-11-08\r\n   * @memberof Events\r\n   */\r\n  constructor() {\r\n    this._events = Object.create(null)\r\n  }\r\n\r\n\r\n  /**\r\n   * 注册事件\r\n   * @date 2018-11-08\r\n   * @param {*} name\r\n   * @param {*} handle\r\n   * @param {*} context\r\n   * @returns\r\n   * @memberof Events\r\n   */\r\n  on(name, handle, context) {\r\n    if (!name || !isFunction(handle)) {\r\n      return this\r\n    }\r\n    const _events = this._events[name] || (this._events[name] = [])\r\n    const event = Object.create(null)\r\n    event.id = _events.length\r\n    event.handle = handle\r\n    event.context = context\r\n    _events.push(event)\r\n    return this\r\n  }\r\n\r\n\r\n  /**\r\n   * 解绑事件\r\n   * @date 2018-11-08\r\n   * @param {*} name\r\n   * @param {*} handle\r\n   * @param {*} context\r\n   * @returns\r\n   * @memberof Events\r\n   */\r\n  off(name, handle, context) {\r\n    if (!name || !this._events[name]) {\r\n      return this\r\n    }\r\n    // 如果指定了handle\r\n    if (handle && isFunction(handle)) {\r\n      let _events = this._events[name]\r\n      _events.forEach(event => {\r\n        // 匹配相同引用的handle\r\n        if (\r\n          event &&\r\n          (handle === (event.handle || event.handle._handle)) &&\r\n          (!context || event.context === context)\r\n        ) {\r\n          // 删除索引为event.id的事件  \r\n          delete _events[event.id]\r\n        }\r\n      })\r\n      // 如果当前队列已空，则移除该名称事件\r\n      if (!_events.length) {\r\n        delete this._events[name]\r\n      }\r\n    }\r\n    // 解绑所有同名事件\r\n    else if (handle === null) {\r\n      delete this._events[name]\r\n    }\r\n    return this\r\n  }\r\n\r\n\r\n  /**\r\n   * 一次性事件绑定\r\n   * @date 2018-11-08\r\n   * @param {*} name\r\n   * @param {*} handle\r\n   * @param {*} context\r\n   * @returns\r\n   * @memberof Events\r\n   */\r\n  one(name, handle, context) {\r\n    if (!name || !isFunction(handle)) {\r\n      return this\r\n    }\r\n    const self = this\r\n    const once = function () {\r\n      self.off(name, once, context)\r\n      return handle.apply(context || self, arguments)\r\n    }\r\n    once._handle = handle\r\n    this.on(name, once, context)\r\n    return this\r\n  }\r\n\r\n\r\n  /**\r\n   * 触发事件\r\n   * @date 2018-11-08\r\n   * @param {*} name\r\n   * @param {*} args\r\n   * @returns\r\n   * @memberof Events\r\n   */\r\n  emit(name, ...args) {\r\n    if (!name || !this._events[name]) {\r\n      return this\r\n    }\r\n    let len = this._events[name].length\r\n    let i = -1\r\n    // 依次执行事件队列\r\n    while (++i < len) {\r\n      let event = this._events[name][i]\r\n      event.handle.apply(event.context || this, args)\r\n    }\r\n    return this\r\n  }\r\n\r\n  \r\n  /**\r\n   * 销毁\r\n   * @date 2018-11-08\r\n   * @memberof Events\r\n   */\r\n  destroy() {\r\n    this._events = null\r\n  }\r\n}\r\n\r\nexport default Events ","/*\r\n * File: i18n.js\r\n * Project: @vnnox/novaui\r\n * Description: 用于渲染模板中的语言变量\r\n * Created: 2018-11-14 05:45\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-14 05:45\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { isEmpty, isString, isPlainObject, getObjectValue } from './utils'\r\n\r\n/* { word } */\r\nconst I18N_VALUE_REG = /\\{\\s*(\\w+)\\s*\\}/gm\r\n/* { i18n: word }*/\r\nconst I18N_KEY_REG = /\\{\\s*i18n:\\s*(\\w+)\\s*\\}/gm\r\n\r\n\r\nexport const i18n = (string, lang, data) => {\r\n  if (!isString(string) || isEmpty(string) || !isPlainObject(lang)) {\r\n    return string\r\n  }\r\n  string = string.replace(I18N_KEY_REG, (match, key) => {\r\n    let value\r\n    if (key) {\r\n      value = getObjectValue(key, lang)\r\n    }\r\n    return value && isString(value) ? value : ''\r\n  })\r\n\r\n  if (!isPlainObject(data)) {\r\n    return string\r\n  }\r\n\r\n  return i18n._(string, data)\r\n}\r\n\r\n/**\r\n * 解析语段中的变量\r\n * @param string\r\n * @param data\r\n */\r\ni18n._ = function(string, data) {\r\n  return string.replace(I18N_VALUE_REG, (match, key) => {\r\n    let value\r\n    if (key) {\r\n      value = getObjectValue(key, data)\r\n    }\r\n    return value || ''\r\n  })\r\n}\r\n\r\n\r\nexport default i18n","/*\r\n * File: popup.js\r\n * Project: @vnnox/novaui\r\n * Description: 模态框管理，统一管理模态框遮罩层，层级\r\n * Created: 2018-11-19 10:30\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-11-19 10:30\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\nimport { getScrollbarWidth } from './dom'\r\nimport { isFunction } from './utils'\r\n\r\nconst defaults = {\r\n  backdrop: true,\r\n  backdropBackground: 'rgba(0,0,0,.5)',\r\n  backdropClose: true,\r\n  scrollLock: true,\r\n  escClose: true\r\n}\r\n\r\n// start zIndex\r\nlet zIndex = 19900206\r\n\r\n// 当前实例列表\r\nlet instances = []\r\n\r\n// 当前backdrop\r\nlet backdrop = null\r\n\r\n// 是否已经显示了backdrop\r\nlet isBackdropShow = false\r\n\r\n// 当前屏幕是否已经锁定\r\nlet isScrollLocked = false\r\n\r\n\r\n/**\r\n * 获取backdrop element\r\n */\r\nfunction getBackdrop () {\r\n  if (backdrop) {\r\n    return backdrop\r\n  }\r\n  backdrop = document.createElement('div')\r\n  backdrop.setAttribute('tabindex', '-1')\r\n  backdrop.setAttribute('role', 'button')\r\n  backdrop.className = 'nv-backdrop'\r\n  backdrop.classList.remove('nv-animated--fade-in')\r\n  backdrop.style.display = 'none'\r\n  backdrop.style.zIndex = '19900206'\r\n  document.body.appendChild(backdrop)\r\n  return backdrop\r\n}\r\n\r\n/**\r\n * 获取顶层实例\r\n * @private\r\n * @returns\r\n */\r\nfunction getTopInstance () {\r\n  return instances[instances.length - 1]\r\n}\r\n\r\n\r\n/**\r\n * ESC按键事件\r\n * @private\r\n * @param {*} e\r\n */\r\nfunction keydownHandle (e) {\r\n  if (e.keyCode === 27) {\r\n    const topInstance = getTopInstance()\r\n    if (topInstance && topInstance.escClose && isFunction(topInstance.closeHandle)) {\r\n      topInstance.closeHandle('esc')\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * 模态框管理器\r\n * 用于模态框, 页面级loading等\r\n * 1. 保证多个模态框打开时只开启一个遮罩层\r\n * 2. 管理各个模态框的zIndex\r\n * @export\r\n * @class Popup\r\n */\r\nexport class Popup {\r\n\r\n  /**\r\n   *\r\n   * 获取一个最新的zIndex\r\n   * @static\r\n   * @returns\r\n   * @memberof Popup\r\n   */\r\n  static nextZIndex() {\r\n    if (zIndex < Number.MAX_SAFE_INTEGER) {\r\n      ++zIndex\r\n    } else {\r\n      zIndex = 19900206\r\n    }\r\n    return zIndex\r\n  }\r\n\r\n  \r\n  /**\r\n   *\r\n   * 模态框Open时\r\n   * 1. 管理遮罩层\r\n   * 2. 锁屏\r\n   * 3. 重置层级\r\n   * @static\r\n   * @param {*} options\r\n   * @memberof Popup\r\n   */\r\n  static open(options) {\r\n    if (!options || !options.id) {\r\n      return\r\n    }\r\n    options.zIndex = options.zIndex || Popup.nextZIndex()\r\n    for (let k in defaults) {\r\n      if (options[k] === void 0) {\r\n        options[k] = defaults[k]\r\n      }\r\n    }\r\n    let len = instances.length\r\n    // 如果实例中已经包含了该实例，则不执行\r\n    while (len--) {\r\n      if (instances[len].id === options.id) {\r\n        return\r\n      }\r\n    }\r\n    // 显示遮罩\r\n    if (options.backdrop) {\r\n      getBackdrop()\r\n      backdrop.style.zIndex = options.zIndex\r\n      if (options.backdropBackground) {\r\n        backdrop.style.backgroundColor = options.backdropBackground\r\n      }\r\n      if (!isBackdropShow) {\r\n        backdrop.classList.add('nv-animated--fade-in')\r\n        backdrop.style.display = 'block'\r\n      }\r\n      isBackdropShow = true\r\n    }\r\n\r\n    // 是否锁屏\r\n    if (options.scrollLock && !isScrollLocked) {\r\n      let _sbWidth = getScrollbarWidth()\r\n      let $body = document.body\r\n      $body.classList.add('nv-locked')\r\n      $body.style.marginRight = _sbWidth + 'px'\r\n      isScrollLocked = true\r\n    }\r\n    instances.push(options)\r\n\r\n    window.addEventListener('keydown', keydownHandle)\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * 模态框关闭时\r\n   * @static\r\n   * @param {*} id\r\n   * @memberof Popup\r\n   */\r\n  static close(id) {\r\n    if (!id || !instances.length) {\r\n      return\r\n    }\r\n    let $body = document.body\r\n    if (instances.length > 0) {\r\n      let topInstance = getTopInstance()\r\n      // 如果被关闭的正好是顶层的实例\r\n      if (topInstance.id === id) {\r\n        // 移除当前实例\r\n        instances.pop()\r\n        if (instances.length > 0 && topInstance.backdrop) {\r\n          // 将遮罩层的层级设置为下一个实例的层级\r\n          backdrop.style.zIndex = getTopInstance().zIndex\r\n        }\r\n      } else {\r\n        let len = instances.length\r\n        while (len--) {\r\n          // 找到当前实例并移除\r\n          if (instances[len].id === id) {\r\n            instances.splice(len, 1)\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n    let hasbackdrop = false\r\n    let hasLocked = false\r\n    let i = instances.length - 1\r\n    let instance\r\n    for (i; i >= 0; i--) {\r\n      instance = instances[i]\r\n      if (instance.scrollLock) {\r\n        hasLocked = true\r\n      }\r\n      if (instance.backdrop) {\r\n        hasbackdrop = true\r\n      }\r\n    }\r\n    let length = instances.length\r\n    if (length === 0 || !hasbackdrop) {\r\n      isBackdropShow = false\r\n      if (backdrop) {\r\n        $body.removeChild(backdrop)\r\n        backdrop = null\r\n      }\r\n    }\r\n    if (length === 0 || !hasLocked) {\r\n      isScrollLocked = false\r\n      $body.classList.remove('nv-locked')\r\n      $body.style.marginRight = null\r\n      // 如果没有实例了，就移除keydown事件\r\n      if (length === 0) {\r\n        window.removeEventListener('keydown', keydownHandle)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Popup","/*\r\n * File: template.js\r\n * Project: @vnnox/novaui\r\n * Description: 模板编译类\r\n * Created: 2018-10-29 03:39\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-10-29 03:41\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\n// 变量规则\r\nconst VARIABLE_REG = /<%=([\\s\\S]+?)%>/g\r\n// 语法规则\r\nconst SYNTAX_REG = /<%([\\s\\S]+?)%>/g\r\n\r\n/**\r\n * 编译模板\r\n * @param {*} tpl \r\n * @param {*} data\r\n * @example\r\n * <% if(something) {%>\r\n * <div><%= something%></div>\r\n * <% }%> \r\n * @returns {String}\r\n */\r\nexport const template = (tpl, data) => {\r\n  // 不包含变量的话直接返回tpl\r\n  if (!tpl || !~tpl.indexOf('<%')) {\r\n    return tpl\r\n  }\r\n\r\n  let source = 'var __p=[];' + 'with(obj||{}){__p.push(\\'' +\r\n    tpl.replace(/\\\\/g, '\\\\\\\\')\r\n      .replace(/'/g, '\\\\\\'')\r\n      .replace(VARIABLE_REG, (m, code) => {\r\n        return '\\',' + code.replace(/\\\\'/, '\\'') + ',\\''\r\n      })\r\n      .replace(SYNTAX_REG, (m, code) => {\r\n        return '\\');' + code.replace(/\\\\'/, '\\'')\r\n          .replace(/[\\r\\n\\t]/g, ' ') + '__p.push(\\''\r\n      })\r\n      .replace(/\\r/g, '\\\\r')\r\n      .replace(/\\n/g, '\\\\n')\r\n      .replace(/\\t/g, '\\\\t') +\r\n    '\\');}return __p.join(\"\");'\r\n\r\n  try {\r\n    let render = new Function('obj', source)\r\n    return render.call(null, data || Object.create(null))\r\n  } catch (error) {\r\n    // todo\r\n    return tpl\r\n  }\r\n}\r\n\r\nexport default template","/*\r\n * File: utils.js\r\n * Project: @vnnox/novaui\r\n * Description: 工具函数类\r\n * Created: 2018-10-29 10:31\r\n * Author: smohan (mengxw@novastar.tech)\r\n * -----\r\n * Last Modified: 2018-10-29 10:36\r\n * Modified By: smohan (mengxw@novastar.tech>)\r\n * -----\r\n * Copyright 2018, NovaStar Tech Co., Ltd\r\n */\r\n\r\n\r\nconst SLICE = Array.prototype.slice\r\nconst TOSTRING = Object.prototype.toString\r\nconst HASOWN = Object.prototype.hasOwnProperty\r\nconst PRIMITIVE_VALUES = ['string', 'number', 'boolean', 'symbol', 'undefined']\r\nconst NUMBER_REG = /^-?\\d*\\.?\\d+$/\r\n\r\n/**\r\n * 校验传入值是否是字符串\r\n * @param {*} value\r\n * @returns {Boolean} \r\n */\r\nexport const isString = value => typeof value === 'string'\r\n\r\n\r\n/**\r\n * 校验传入值是否是对象\r\n * @param {*} value \r\n * @returns {Boolean} \r\n */\r\nexport const isObject = value => value !== null && typeof value === 'object'\r\n\r\n\r\n/**\r\n * 校验传入值是否是纯对象\r\n * @param {*} value \r\n * @example\r\n * isPlainObject({}) // true\r\n * isPlainObject(null) // false\r\n * isPlainObject([]) // false\r\n * @returns {Boolean} \r\n */\r\nexport const isPlainObject = value => isObject(value) && TOSTRING.call(value) === '[object Object]'\r\n\r\n\r\n/**\r\n * 校验传入值是否是数组\r\n * @returns {Boolean}\r\n */\r\nexport const isArray = Array.isArray\r\n\r\n\r\n/**\r\n * 校验传入值是否是函数\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isFunction = value => typeof value === 'function'\r\n\r\n\r\n/**\r\n * 校验传入值是否是基本类型值\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isPrimitive = value => !!~PRIMITIVE_VALUES.indexOf(typeof value)\r\n\r\n\r\n/**\r\n * 校验传入值是否是布尔类型\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isBoolean = value => typeof value === 'boolean'\r\n\r\n\r\n/**\r\n * 校验传入值是否是数字\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isNumber = value => !isNaN(value) && typeof value === 'number'\r\n\r\n\r\n/**\r\n * 校验传入值是否是数字字符串\r\n * @param {*} value\r\n * @returns {Boolean} \r\n */\r\nexport const isNumberString = value => NUMBER_REG.test(value)\r\n\r\n\r\n/**\r\n * 校验传入值是否是整数\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isInteger = value => isNumber(value) && (value % 1 === 0)\r\n\r\n\r\n/**\r\n * 校验传入值是否是浮点数\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isFloat = value => isNumber(value) && (value !== value | 0)\r\n\r\n\r\n/**\r\n * 校验传入值是否是一个DOM元素\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isElement = value => isObject(value) && value.nodeType === 1 && !isPlainObject(value)\r\n\r\n\r\n/**\r\n * 校验传入值是否是一个日期对象\r\n * @param {*} value \r\n * @returns {Boolean}\r\n */\r\nexport const isDate = value => TOSTRING.call(value) === '[object Date]' && !isNaN(value.getTime())\r\n\r\n\r\n/**\r\n * 校验传入值是否为空\r\n * @param {*} value \r\n * @example\r\n * isEmpty(null) // true\r\n * isEmpty(undefined) // true\r\n * isEmpty('') // true\r\n * isEmpty('  ') // true\r\n * isEmpty(false) // false\r\n * isEmpty(0) // false\r\n * @returns {Boolean}\r\n */\r\nexport const isEmpty = value => {\r\n  if (value === null || value === void 0) {\r\n    return true\r\n  }\r\n  if (isString(value) && !value.trim()) {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\n\r\n/**\r\n * 判断对象自身是否含有指定的key\r\n * @param {*} key \r\n * @param {*} object \r\n * @returns {Boolean}\r\n */\r\nexport const hasKey = (key, object) => HASOWN.call(object, key)\r\n\r\n\r\n/**\r\n * 将类数组转换为数组\r\n * @param {*} arrayLike\r\n * @returns {Array} \r\n */\r\nexport const toArray = arrayLike => SLICE.call(arrayLike)\r\n\r\n\r\n/**\r\n * 对象混合\r\n * arg1 :\r\n *  Boolean: 是否深拷贝\r\n *  Object: targe\r\n * arg2, arg2, ..., argn: source\r\n * @returns {Object}\r\n */\r\nexport function mixins() {\r\n  let target = arguments[0] || {}\r\n  let i = 0\r\n  let deep = false\r\n  let len = arguments.length\r\n  if (isBoolean(target)) {\r\n    deep = target\r\n    target = arguments[1] || {}\r\n    i = 1\r\n  }\r\n  if (!isObject(target) && !isFunction(target)) {\r\n    target = {}\r\n  }\r\n  while (i++ < len) {\r\n    let source = arguments[i]\r\n    if (source) {\r\n      for (let k in source) {\r\n        let src = target[k]\r\n        let copy = source[k]\r\n        // 防止引用自身，造成死循环\r\n        if (copy === target) {\r\n          continue\r\n        }\r\n        let _isArray = isArray(copy)\r\n        if (deep && (_isArray || isPlainObject(copy))) {\r\n          let clone\r\n          if (_isArray) {\r\n            clone = src && isArray(src) ? src : []\r\n          } else {\r\n            clone = src && isPlainObject(src) ? src : {}\r\n          }\r\n          target[k] = mixins(deep, clone, copy)\r\n        } else if (copy !== void 0) {\r\n          target[k] = copy\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return target\r\n}\r\n\r\n\r\n/**\r\n * 纯对象克隆\r\n * @param {*} object\r\n * @returns {Object} \r\n */\r\nexport const objectClone = object => JSON.parse(JSON.stringify(object))\r\n\r\n\r\nconst hyphenateRE = /\\B([A-Z])/g\r\n\r\n\r\n/**\r\n * 驼峰转连接符\r\n * @param {*} str\r\n * @example\r\n * hyphenate('fadeIn') // fade-in\r\n * hyphenate('easeInOut') // ease-in-out\r\n * @returns {String} \r\n */\r\nexport const hyphenate = str => str.replace(hyphenateRE, '-$1').toLowerCase()\r\n\r\n\r\n/**\r\n * 对传入regExp的字符串转义\r\n * 搜索框中进行模糊匹配的时候\r\n * 需要对敲入的特殊字符进行转义\r\n * @param {*} value \r\n * @returns {RegExp}\r\n */\r\nexport const escapeRegExp = value => value.replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$&')\r\n\r\n\r\n/**\r\n * 根据路径从一个对象中获取其值\r\n * 内置了容错机制，防止层级太深时报错\r\n * @param {*} path \r\n * @param {*} object \r\n * @example\r\n * getObjectValue(p1.p1, obj) // obj.p1.p2\r\n * @returns {*}\r\n */\r\nexport const getObjectValue = (path, object) => {\r\n  if (isEmpty(path)) {\r\n    return void 0\r\n  }\r\n  let paths = path.trim().split('.')\r\n  while (paths.length) {\r\n    let k = paths.shift()\r\n    object = object[k]\r\n    if (!isPlainObject(object) && !isArray(object)) {\r\n      break\r\n    }\r\n  }\r\n  return object\r\n}\r\n\r\n\r\nlet uid = 0\r\n\r\n/**\r\n * gen uuid\r\n * @returns {Number}\r\n */\r\nexport const uuid = () => ++uid\r\n\r\n\r\n/**\r\n * 抛出异常\r\n * @param {*} message \r\n * @param {*} type \r\n */\r\nexport const throwError = (message,  type) => {\r\n  message = `[NOVA.UI.ERROR] ${message.toString()}`\r\n  let method\r\n  switch (type) {\r\n    case 'type':\r\n      method = TypeError\r\n      break\r\n    case 'range':\r\n      method = RangeError\r\n      break\r\n    default:\r\n      method = Error\r\n  }\r\n  throw new method(message)\r\n}\r\n\r\nexport default {\r\n  isString,\r\n  isObject,\r\n  isPlainObject,\r\n  isArray,\r\n  isFunction,\r\n  isPrimitive,\r\n  isBoolean,\r\n  isNumber,\r\n  isInteger,\r\n  isFloat,\r\n  isElement,\r\n  isDate,\r\n  isEmpty,\r\n  hasKey,\r\n  toArray,\r\n  mixins,\r\n  objectClone,\r\n  hyphenate,\r\n  escapeRegExp,\r\n  getObjectValue,\r\n  uuid,\r\n  throwError,\r\n}\r\n\r\n"],"sourceRoot":""}